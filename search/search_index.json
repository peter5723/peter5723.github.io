{"config":{"lang":["ja"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>\u4f60\u597d\u3002</p> <p>\u6211\u9700\u8981\u4e00\u4e9b\u8868\u8fbe\u3002</p>"},{"location":"about/","title":"About","text":"<p>\u7565\u3002</p>"},{"location":"diary/","title":"one one diary","text":"<p>\u4e0d\u4f1a\u89c9\u5f97\u662f\u771f\u7684 diary \u5427\uff1f\u6211\u8bd5\u4e00\u4e0b nav \u80fd\u4e0d\u80fd\u591a\u5c42\u5957\u3002 Thanks for Material for MkDocs\u3002</p>"},{"location":"diary/#2024-10-18","title":"2024-10-18","text":"<p>\u4eca\u5929\u51b3\u5b9a\u66f4\u6362\u7f51\u9875\u7684\u5b57\u4f53\u3002\u6362\u6210\u66f4\u9002\u5408\u4e13\u6ce8\u9605\u8bfb\u7684\u5b57\u4f53\uff0c\u601d\u6e90\u5b8b\u4f53\u3002</p>"},{"location":"diary/#2024-10-10","title":"2024-10-10","text":"<p>\u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6253\u5f00\u4e86\u3002\u4e3b\u8981\u662f\u73b0\u5728\u8bfb\u4e66\u7684\u901f\u5ea6\u6709\u70b9\u8d85\u8d8a\u4e86\u6211\u8bb0\u7b14\u8bb0\u7684\u901f\u5ea6\u3002\u6211\u5df2\u7ecf\u8bfb\u5b8c\u4e86\u5b89\u5a1c\u5361\u5217\u5c3c\u5a1c\uff0c\u4f46\u662f\u4e0a\u6b21\u8bb0\u7684\u7b14\u8bb0\u8fd8\u662f\u90fd\u67cf\u6797\u4eba\u3002</p>"},{"location":"diary/#2024-8-14","title":"2024-8-14","text":"<p>\u4eca\u5929\u5728\u5b9e\u9a8c\u5ba4\u7684\u7535\u8111\u4e0a\u914d\u4e00\u4e0b\u7b14\u8bb0\u7684\u73af\u5883\u3002\u4ee5\u540e\u5c31\u53ef\u4ee5\u4e24\u53f0\u7535\u8111\u540c\u6b65\u505a\u7b14\u8bb0\u4e86\uff0c\u53ea\u8981\u4f7f\u7528 push \u548c pull \u547d\u4ee4\u3002\u5c31\u662f\u7f51\u9875\u7684\u66f4\u65b0\u76ee\u524d\u53ea\u80fd\u5728\u6211\u8fd9\u53f0\u7b14\u8bb0\u672c\u4e0a\u7528\uff0c\u90a3\u8fb9\u8fd8\u914d\u4e0d\u597d\u3002mkdocs \u66f4\u65b0\u4ee5\u540e\uff0c\u5bfc\u81f4\u6211\u4e4b\u524d\u7684\u521b\u5efa\u65f6\u95f4\u5168\u90fd\u53d8\u6210\u4eca\u5929\u4e86\uff0c\u8fd9\u8bf4\u660e\u7f57\u9a6c\u5c31\u662f\u4e00\u65e5\u5efa\u6210\u7684\u3002\u5f53\u7136\u4e86\uff0c\u9488\u5bf9 5 \u4e2a\u6708\u524d\uff0c\u6211\u65e9\u5df2\u7ecf\u4f7f\u7528 github \u5f53\u56fe\u5e8a\u4e86\uff0c\u5fd8\u8bb0\u8bf4\u660e\u4e86\u3002</p> <p>\u597d\u5427\uff0c\u73b0\u5728\u95ee\u9898\u5df2\u7ecf\u90fd\u89e3\u51b3\u4e86\u3002\uff08\u89e3\u51b3\u7684\u65b9\u6cd5\u662f\u5220\u9664\u91cd\u65b0\u914d\u4e00\u4e2a conda \u73af\u5883\uff0c\u66b4\u529b\u73a9\u6cd5\u597d\uff09\u3002\u65e5\u671f\u7684\u95ee\u9898\u66f4\u65b0\u65e5\u671f\u63d2\u4ef6\u4e5f\u89e3\u51b3\u4e86\u3002</p> <p>\u4e0b\u6b21\u8981\u5728\u65b0\u8bbe\u5907\u4e0a\u66f4\u65b0\u7b14\u8bb0\uff0c\u5c31\u4e0d\u914d\u600e\u4e48\u66f4\u65b0\u7f51\u7ad9\u4e86\u3002\u4eca\u5929\u7684\u65f6\u95f4\u4e3b\u8981\u82b1\u8d39\u5728\u7f51\u7ad9\u7684\u90e8\u7f72\u4e0a\uff0c\u4e0d\u540c\u7535\u8111\u73af\u5883\u4e0d\u540c\uff0c\u914d\u8d77\u6765\u5f88\u9ebb\u70e6\u3002\u5982\u679c\u53ea\u662f\u5355\u7eaf\u66f4\u65b0\u7b14\u8bb0\u7684\u8bdd\uff0c\u914d\u7f6e\u4e00\u4e0b git \u5c31\u53ef\u4ee5\u591a\u7aef\u540c\u6b65\u4e86\u3002</p>"},{"location":"diary/#2024-03-21","title":"2024-03-21","text":"<p>\u8fd9\u4e2a\u8def\u8fc7\u56fe\u5e8a\u4e3a\u4ec0\u4e48\u6709\u6302\u4e86 VPN \u5c31\u65e0\u6cd5\u8bfb\u53d6\u8fd9\u4e48\u7cdf\u7cd5\u7684\u7279\u6027. \u76f8\u53cd\u7684\u662f imgur, \u53ea\u6709\u5f00 VPN \u624d\u80fd\u4f7f\u7528. \u54ce, \u5f97\u627e\u4e2a\u673a\u4f1a\u4fee\u4e00\u4e0b.</p>"},{"location":"diary/#2024-03-19","title":"2024-03-19","text":"<p>\u5c3d\u7ba1\u6211\u4eec\u603b\u662f\u4f1a\u89c9\u5f97\u914d\u73af\u5883\u4f1a\u6d6a\u8d39\u5f88\u591a\u65f6\u95f4, \u4f46\u662f\u5982\u679c\u914d\u597d\u4ee5\u540e, \u4e4b\u540e\u80fd\u8282\u7701\u66f4\u591a\u7684\u65f6\u95f4\u54e6. \u6298\u817e\u662f\u5f88\u503c\u7684.</p>"},{"location":"diary/#2024-02-24","title":"2024-02-24","text":"<p>\u8fc7\u5e74\u4ee5\u540e\u5c31\u6ca1\u5b66\u4e60\u8fc7\u4e86\uff0c\u4f46\u662f\u5b66\u4e60\u662f\u4e00\u4ef6\u975e\u5e38\u6d88\u8017\u6ce8\u610f\u529b\u7684\u4e8b\u60c5\u3002\u6211\u90fd\u5fd8\u8bb0\u539f\u6765\u6211\u8fd8\u5728\u5b66\u4e60 C++ \u8fd9\u4ef6\u4e8b\u60c5\u3002\u6211\u8fd8\u60f3\u5b66\u65e5\u8bed\uff0c\u4f46\u662f\u611f\u89c9\u597d\u96be\uff08\u5f00\u59cb/\u575a\u6301\uff09\u3002</p> <p>\u4eca\u5929\u7ec8\u4e8e\u5b8c\u6210\u4e86\u5b9d\u53ef\u68a6\u6731\u7d2b\u7684\u5168\u56fe\u9274\u6536\u96c6\u4e86\u3002\u8fd9\u51e0\u5929\u6bcf\u5929\u90fd\u5728\u5e15\u5e95\u4e9a\u5730\u533a\u5230\u5904\u8dd1\uff0c\u7d2b\u7248\u672c\u96be\u4ee5\u83b7\u5f97\u7684\u4f7f\u7528\u4e86 PKhex \u9b54\u6cd5\u3002\u672c\u6765\u4e00\u5207\u987a\u5229\uff0c\u4f46\u662f\u5728\u5de8\u94b3\u87b3\u8782\u8fd9\u91cc\u51fa\u4e86\u610f\u5916\uff0c\u4e0d\u7ba1\u6211\u600e\u4e48\u634f\uff0c\u56fe\u9274\u5c31\u662f\u65e0\u6cd5\u8bc6\u522b\u3002\u5c31\u8fd9\u6837\u767d\u767d\u6d4b\u4e86\u597d\u51e0\u4e2a\u949f\u5934\uff0c\u6700\u540e\u627e\u5230\u4e86\u8001\u7248\u672c\u7684 PKhex \u624d\u7ec8\u4e8e\u53ef\u4ee5\u7528\u4e86\u3002\u539f\u6765\u4e0d\u4ec5\u4ec5\u662f\u7f16\u7a0b\u7684\u65f6\u5019\u624d\u9700\u8981\u6ce8\u610f\u7248\u672c\u554a... </p> <p>\u6700\u540e\u51e0\u5929\u611f\u89c9\u5c31\u6210\u4e86\u65e0\u60c5\u7684\u6253\u5de5\u673a\u5668\uff0c\u8981\u4e48\u6293\u8981\u4e48\u62fc\u547d\u7ec3\u7ea7\u8fdb\u5316\uff0c\u6ca1\u5269\u4e0b\u4ec0\u4e48\u7279\u522b\u7684\u5370\u8c61\u4e86\uff08\u8fd8\u6709\u5e26\u7740\u5b88\u8d22\u7075\u5230\u5904\u627e\u786c\u5e01\uff09\u3002\u627e\u6c99\u5948\u6735\u627e\u4e86\u597d\u4e45\u554a\uff0c\u660e\u660e\u5728\u6253\u971c\u62b9\u5c71\u9053\u9986\u7684\u65f6\u5019\u5230\u5904\u90fd\u662f\u6c99\u5948\u6735\u4e00\u5bb6\uff0c\u504f\u504f\u6211\u8981\u6293\u7684\u65f6\u5019\u53c8\u6ca1\u6709\u4e86\u3002\u6709\u7684\u65f6\u5019\u4e3a\u4e86\u5237\u7279\u5b9a\u5c5e\u6027\u7684\u5b9d\u53ef\u68a6\u8981\u505a\u4e09\u660e\u6cbb\uff0c\u4e09\u660e\u6cbb\u6211\u505a\u7684\u597d\u70c2\u3002\u53e4\u4ee3\u7684\u56db\u5927\u795e\u517d\u4e5f\u633a\u987a\u5229\u7684\uff0c\u4e0d\u662f\u5148\u673a\u7403\u79d2\u6740\uff0c\u5c31\u662f\u6211\u7b49\u5230\u665a\u4e0a\uff0c\u7528\u9ed1\u6697\u7403\u6293\u5230\u4e86\u3002\u6700\u540e\u4e00\u53ea\u5b9d\u53ef\u68a6\u662f\u9ecf\u7f8e\u9f99\uff0c\u6211\u771f\u7684\u7b49\u4e86\u597d\u4e45\uff0c\u5c31\u662f\u4e0d\u4e0b\u96e8\uff0c\u6700\u540e\u5230\u5357\u7b2c\u4e94\u533a\u7684\u6e7f\u5730\u624d\u5f00\u59cb\u4e0b\u96e8\uff0c\u7ec8\u4e8e\uff0c\u5c31\u8fd9\u6837\u5b8c\u6210\u4e86\u5168\u56fe\u9274\u3002</p> <p>\u611f\u89c9\u5e15\u5e95\u4e9a\u7684\u98ce\u666f\u771f\u7684\u5f88\u597d\u770b\u554a\uff08\u4e0d\u662f\u6240\u6709\u4eba\u90fd\u8fd9\u4e48\u89c9\u5f97\uff09\uff0c\u6709\u7684\u65f6\u5019\u73a9\u6e38\u620f\u4f1a\u505c\u4e0b\u6765\u4e13\u95e8\u770b\u98ce\u666f\u3002</p> <p>\u4ece\u5c0f\u5c31\u770b\u795e\u5947\u5b9d\u8d1d\u4e86\uff0c\u8fd9\u6b21\u73a9\u6731\u7d2b\uff0c\u771f\u7684\u5f88\u6709\u4ee5\u524d\u770b\u52a8\u753b\u7684\u611f\u89c9\u554a\uff0c\u5230\u5904\u6293\u7cbe\u7075\uff0c\u5230\u5904\u6253\u9053\u9986\uff0c\u9664\u4e86\u8001\u662f\u95ea\u9000\u4ee5\u5916\u90fd\u633a\u597d\u7684\uff0c\u54c8\u54c8\u3002</p> <p></p>"},{"location":"diary/#2024-02-05","title":"2024-02-05","text":"<p>\u8fd9\u662f\u4e2a\u4eba\u7684\u7b14\u8bb0\uff0c\u800c\u4e0d\u662f\u67d0\u65b9\u9762\u7684\u6559\u7a0b\u3002\u6559\u7a0b\u771f\u7684\u6bd4\u7b14\u8bb0\u96be\u5199\u592a\u591a\u4e86\uff0c\u6211\u4e5f\u4e0d\u6c42\u9762\u9762\u4ff1\u5230\uff0c\u6240\u4ee5\uff0c\u53ea\u662f\u4e2a\u4eba\u7684\u7b14\u8bb0\u6216\u8005\u5907\u5fd8\u3002</p>"},{"location":"diary/#2023-12-29","title":"2023-12-29","text":"<p>\u63a8\u7406\u9700\u8981\u8bc1\u636e\uff0c\u62ff\u5230\u600e\u6837\u7684\u8bc1\u636e\u51b3\u5b9a\u4e86\u600e\u6837\u7684\u63a8\u6f14\uff0c\u8fd9\u5c31\u662f\u67ef\u5357\u548c\u5c0f\u4e94\u90ce\u4e4b\u95f4\u7684\u533a\u522b\u5427\u3002</p>"},{"location":"diary/#2023-12-20","title":"2023-12-20","text":"<p>\u662f\u4e0d\u662f\u5e94\u8be5\u5012\u8fc7\u6765\u8bb0\u5f55\u66f4\u597d\u4e00\u70b9\uff1fTODO\uff0c\u5efa\u8bae\u4f60\u628a\u5de5\u5177\u6574\u7406\u6210\u5355\u72ec\u7684\u7f51\u9875\u3002\u968f\u7740\u7f51\u7ad9\u5185\u5bb9\u8d8a\u6765\u8d8a\u591a\uff0c\u5c31\u9700\u8981\u91cd\u65b0\u6574\u7406\u4ee5\u524d\u7684\u5185\u5bb9\u4e86\u3002</p>"},{"location":"diary/#2023-11-21","title":"2023-11-21","text":"<p>\u4e4b\u524d\u6bcf\u6b21\u4ece\u522b\u7684\u9875\u9762\u5207\u6362\u5230 vscode \u90fd\u4f1a\u9ed1\u5c4f\u52a0\u8f7d\u4e00\u6bb5\u65f6\u95f4\uff0c\u975e\u5e38\u7684\u96be\u53d7\u3002\u53bb\u7f51\u4e0a\u627e\u89e3\u51b3\u65b9\u6848\u3002 \u6ca1\u6709\u60f3\u5230\u8fd9\u7bc7\u8ddf\u673a\u5668\u4eba\u4e00\u6837\u7684 0 \u8d5e\u540c\u7684\u56de\u7b54\u5c45\u7136\u662f\u6b63\u786e\u7684\u3002https://zhuanlan.zhihu.com/p/600516816</p> <p>\u5f88\u7b80\u5355\uff0c\u6253\u5f00 vscode \u65f6\u52a0\u4e0a <code>--disable-gpu</code> \u7981\u7528\u786c\u4ef6\u52a0\u901f\uff0c\u5c31\u89e3\u51b3\u4e86\u3002</p> <p>\u63d2\u4ef6\u8d8a\u88c5\u8d8a\u591a\uff0c\u6253\u5f00 vscode \u7684\u65f6\u95f4\u4e5f\u8981\u82b1\u597d\u51e0\u79d2\uff0c\u7f51\u4e0a\u7ed9\u51fa\u7684\u6700\u4f73\u7b54\u6848\u662f\u4e00\u76f4\u5f00\u7740\u522b\u5173\u6389\uff0c\u54c8\u54c8\u3002</p> <p>\u4eca\u5929\u53bb\u4e3b\u56fe\u4e66\u9986\u3002\u4e3b\u56fe\u4e66\u9986\u60ca\u8273\u5230\u6211\u3002\u5982\u679c\u6ca1\u6709\u7528\u9519\u6210\u8bed\u7684\u8bdd\uff0c\u5e94\u8be5\u53ef\u4ee5\u7528\u6c57\u725b\u5145\u680b\u6765\u5f62\u5bb9\u3002 \u901b\u4e86\u4e00\u4e0b\u5348\uff0c\u5e94\u8be5\u662f\u8fde\u4e00\u534a\u90fd\u6ca1\u6709\u901b\u5b8c\u3002 \u6587\u5b66\u533a\u7684\u4f5c\u54c1\u53ea\u770b\u5230\u7f8e\u56fd\u548c\u6cd5\u56fd\u6587\u5b66\uff0c\u62c9\u4e01\u7f8e\u6d32\u6587\u5b66\u548c\u4fc4\u56fd\u6587\u5b66\u90fd\u6ca1\u6709\u627e\u5230\uff0c\u5e94\u8be5\u5728\u53e6\u4e00\u8fb9\u3002 \u7f8e\u56fd\u6587\u5b66\u91cc\u9762\uff0c\u770b\u5230\u300a\u6124\u6012\u7684\u8461\u8404\u300b\uff0c\u8fd9\u672c\u4e66\u5c0f\u5b66\u5c31\u62ff\u5230\u4e86\uff0c\u597d\u50cf\u662f\u5956\u6765\u7684\uff0c\u4f46\u662f\u90a3\u4e2a\u7248\u672c\u56e0\u4e3a\u662f\u7b80\u5316\u7248\uff0c\u6240\u4ee5\u5c31\u4e00\u76f4\u6ca1\u770b\u3002 \u6cd5\u56fd\u6587\u5b66\u91cc\u9762\uff0c\u770b\u5230\u52a0\u7f2a\u7684\u300a\u9f20\u75ab\u300b\u548c\u300a\u5c40\u5916\u4eba\u300b\u3002 \u4e3a\u4ec0\u4e48\u63d0\u5230\u8fd9\u4e9b\u4e66\uff0c\u4e3b\u8981\u662f\u60f3\u505a\u4e2a\u5907\u5fd8\uff0c\u6709\u7a7a\u7684\u65f6\u5019\u80fd\u8bfb\u4e00\u8bfb\u5427\u3002 \u5927\u4e00\u7684\u65f6\u5019\u597d\u50cf\u968f\u4fbf\u7ffb\u8fc7\u300a\u9f20\u75ab\u300b\uff0c\u611f\u89c9\u6709\u70b9\u65e0\u804a\u5c31\u6254\u4e86\uff0c\u4e0d\u77e5\u9053\u4e09\u5e74\u4ee5\u540e\u8fd8\u80fd\u4e0d\u80fd\u770b\u7684\u4e0b\u53bb\u3002 \u4e13\u4e1a\u7c7b\u7684\u4e66\u7c4d\u53ea\u770b\u5230\u6570\u7406\u5316\uff0c\u6ca1\u770b\u5230\u8ba1\u7b97\u673a\u7684\u3002\u65b0\u4e66\u771f\u7684\u5f88\u591a\uff0c\u8fd8\u6709\u4f2f\u514b\u5229\u7684\u300a\u6700\u4f18\u5316\u6a21\u578b\u300b\uff0c\u867d\u7136\u8fd9\u53ea\u4f1a\u63d0\u9192\u6211 EE127 \u8fd9\u95e8\u8bfe\u7a0b\u53ea\u770b\u4e86\u4e00\u534a\u3002</p> <p>\u95ee\u5230\u56fe\u4e66\u9986\u7684\u4e66\u53ef\u4ee5\u5728\u7389\u6cc9\u8fd8\uff0c\u6211\u8fde\u5fd9\u501f\u4e86\u597d\u51e0\u672c\u3002\u6015\u81ea\u5df1\u8d2a\u591a\u56bc\u4e0d\u70c2\uff0c\u5f88\u591a\u4e66\u90fd\u6ca1\u501f\u4e86\uff0c\u6bd4\u5982\u90a3\u672c\u300a\u6700\u4f18\u5316\u6a21\u578b\u300b\u8fd8\u6709 linear algebra done right\u3002\u5c0f\u8bf4\u7684\u8bdd\u611f\u89c9\u53ef\u4ee5\u5728\u7f51\u4e0a\u627e\uff0c\u6240\u4ee5\u4e5f\u6ca1\u501f\u3002\u501f\u592a\u591a\u53c8\u5e26\u4e0d\u56de\u53bb\u3002\u5e26\u56de\u53bb\u53c8\u770b\u4e0d\u5b8c\u3002\u6211\u8bfb\u6559\u6750\u7684\u901f\u5ea6\u5c24\u5176\u6162\uff0c\u4e00\u4e24\u4e2a\u6708\u90fd\u8bfb\u4e0d\u5b8c\u4e00\u672c\u3002</p> <p>\u4ece\u56fe\u4e66\u9986\u51fa\u6765\u7684\u65f6\u5019\u5df2\u7ecf\u662f\u51e0\u4e4e\u5929\u9ed1\u4e86\u3002\u897f\u65b9\u7684\u5929\u7a7a\u4ece\u6697\u6a59\u8272\u6e10\u53d8\u5230\u84dd\u9ed1\u8272\uff0c\u886c\u6258\u5149\u79c3\u79c3\u7684\u6811\u679d\u50cf\u662f\u4e2d\u56fd\u753b\u3002 \u6211\u6ca1\u6709\u770b\u5230\u6708\u4eae\uff0c\u5374\u60f3\u5230\u4e00\u53e5\u201c\u660e\u6708\u522b\u679d\u60ca\u9e4a\u201d\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u548c\u6811\u679d\u6709\u5173\u7684\u6682\u65f6\u53ea\u80fd\u60f3\u5230\u8fd9\u53e5\u5427\uff0c\u54c8\u54c8\u3002</p> <p>\u968f\u4fbf\u5199\u70b9\u4e1c\u897f\uff0c\u8fd8\u662f\u5f88\u6d88\u78e8\u65f6\u95f4\u7684\u3002\u4e00\u4e0b\u5c31\u534a\u4e2a\u5c0f\u65f6\u8fc7\u53bb\u4e86\u3002\u4e0d\u77e5\u9053\u4ee5\u540e\u8fd8\u6709\u6ca1\u6709\u7a7a\u95f2\u548c\u5fc3\u60c5\u8bb0\u5f55\u5462\u3002</p>"},{"location":"diary/#2023-11-22","title":"2023-11-22","text":"<p>\u4eca\u5929\u672c\u6765\u662f\u60f3\u8981\u770b\u5316\u5b66\u7684\uff0c\u6628\u5929\u53bb\u56fe\u4e66\u9986\u4e13\u95e8\u5c31\u501f\u4e86\u4e00\u672c\u7269\u7406\u5316\u5b66\u7684\u7b54\u7591\u96c6\uff0c\u4ec0\u4e48\u95ee\u9898\u5462\uff1f\u5927\u4e00\u7684\u65f6\u5019\u78b0\u5230\u548c\u81ea\u7531\u80fd\u6709\u5173\u7684\u95ee\u9898\uff0c\u4e00\u76f4\u90fd\u6ca1\u6709\u641e\u6e05\u695a\uff0c\u95ee\u8001\u5e08\uff0c\u8001\u5e08\u5c45\u7136\u7406\u89e3\u4e0d\u4e86\u6211\u95ee\u9898\u7684\u610f\u601d\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u4e00\u76f4\u7559\u5230\u73b0\u5728\u4e86\u3002\u7ed3\u679c\uff0c\u4eca\u5929\u65e9\u4e0a\u5c31\u505a\u4e86 pta \u7684\u4e00\u9053\u9898\uff0cPAT Top Level 1006\uff0c\u8981\u6c42\u4ece\u6b8b\u7f3a\u7684\u4e09\u79cd\u904d\u5386\u4e2d\u8fd8\u539f\u51fa\u4e8c\u53c9\u6811\u7684\u5b8c\u6574\u904d\u5386\u3002\u6211\u653e\u5728 DFS \u7684\u4f8b\u9898\u91cc\u9762\u4e86\u3002\u662f\u5f53\u5e74\u5b66\u6570\u636e\u7ed3\u6784\u7684\u65f6\u5019\u7684\u4e00\u4e2a\u9879\u76ee\uff0c\u5f53\u65f6\u5c31\u6ca1\u6709\u8003\u8651\u5468\u5168\uff0c\u540e\u6765\u53c8\u56e0\u4e3a\u79cd\u79cd\u539f\u56e0\u6c7d\u4fee\u4e86\uff0c\u5f53\u65f6\u5b9e\u5728\u8ddf\u4e0d\u4e0a\u4e86\uff0c\u5b66\u5230\u56fe\u8bba\u7b97\u6cd5\u7684\u65f6\u5019\u5b8c\u5168\u4e00\u7b79\u83ab\u5c55\u4e86\u3002\u6bd5\u7adf\u662f\u5929\u8d44\u6709\u9650\u554a\uff0c\u54c8\u54c8\uff0c\u5f53\u65f6\u4e5f\u6ca1\u6709\u4ec0\u4e48\u6691\u5047\u81ea\u5b66\u7684\u610f\u8bc6\uff0ccs \u81ea\u5b66\u6307\u5357\u662f\u5927\u4e8c\u5bd2\u5047\u624d\u77e5\u9053\u7684\u3002\u4f46\u662f\u56f0\u6270\u6211\u7684\u95ee\u9898\u5c31\u4e0d\u7518\u5fc3\u4e00\u76f4\u7559\u7740\uff0c\u6240\u4ee5\u5f53\u65f6\u6c7d\u4fee\u4e86\u4ee5\u540e\u53c8\u505a\u4e86 project 3\uff0c\u7ec8\u4e8e\u5728\u4eca\u5929\u628a project 2 \u505a\u51fa\u6765\u4e86\u3002\u5176\u5b9e\u4e5f\u4e0d\u662f\u4e00\u5929\u505a\u51fa\u6765\uff0c\u524d\u51e0\u5929\u4e5f\u5728\u5c94\u8def\u4e0a\u60f3\u4e86\u5f88\u4e45\uff0c\u4e00\u4e2a\u6d4b\u8bd5\u70b9\u4e00\u76f4\u8fc7\u4e0d\u53bb\u3002\u4f46\u662f\u771f\u7684 AC \u4e86\u53c8\u4e91\u6de1\u98ce\u8f7b\u7684\uff0c\u53ef\u80fd\u5e74\u7eaa\u5927\u4e86\u60c5\u7eea\u6ce2\u52a8\u53d8\u5c11\u4e86\u5427\uff0c\u54c8\u54c8\u3002</p> <p>\u7ed3\u679c\u4e0b\u5348\u7684\u65f6\u5019\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u56de\u4e8b\uff0c\u53c8\u5f00\u59cb\u770b\u8d77\u52a8\u6001\u89c4\u5212\u4e86\uff0c\u987a\u5e26\u53c8\u505a\u4e86\u4e00\u9053\u6d1b\u8c37\u4e0a\u7684\u9898\u3002\u611f\u89c9\u9012\u5f52\u719f\u7ec3\u4e86\u4ee5\u540e\uff0c\u52a8\u6001\u89c4\u5212\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u53ea\u8981\u5199\u51fa\u9012\u63a8\u5f0f\u5c31\u597d\u4e86\u3002\u6709\u7a7a\u7684\u65f6\u5019\u518d\u6574\u7406\u4e00\u4e0b\u3002</p> <p>\u53c8\u5230\u665a\u4e0a\u4e86\uff0c\u771f\u662f\u4e00\u4e8b\u65e0\u6210\u7684\u4e00\u5929\u554a\uff0c\u5316\u5b66\u90fd\u6ca1\u770b\uff0criscv \u66f4\u662f\u9065\u9065\u65e0\u671f\u4e86\uff0c\u4f60\u60f3\u5565\u65f6\u5019\u586b\u4e0a PA \u7684\u5751\u554a\uff0c\u54c8\u54c8\u3002\u5c0f\u6ce2\u53d8\u6362\u548c\u6ee4\u6ce2\u5668\u7ec4\uff1a\u55b5\u55b5\u55b5\uff1f\u6211\u611f\u89c9\u5751\u6839\u672c\u586b\u4e0d\u5b8c\uff0c\u54ce\uff0c\u53cd\u6b63\u5927\u56db\u4e86\uff0c\u6162\u6162\u6765\u5427\u3002</p> <p>\u4e0d\u8fc7\u4eca\u5929\u6253\u7403\uff0c\u96be\u5f97\u78b0\u5230\u6709\u961f\u53cb\u4f20\u7403\u7ed9\u6211\uff0c\u7ed3\u679c\u6211\u4e00\u4e2a\u90fd\u63a5\u4e0d\u4f4f...\u57fa\u672c\u4e0a\u5f88\u5c11\u6709\u4eba\u4f20\u7403\u7ed9\u6211\uff0c\u6211\u610f\u8bc6\u4e5f\u4e0d\u591f\u597d\uff0c\u6321\u62c6\u987a\u4e0b\u505a\u7684\u592a\u5c11\u4e86\uff0c\u53cd\u5e94\u4e0d\u8fc7\u6765\u3002\u611f\u89c9\u73b0\u5728\u5c31\u662f\u4e2a\u5927\u675c\u6bd4\uff0c\u4e00\u70b9\u90fd\u4e0d\u4f1a\u548c\u522b\u4eba\u914d\u5408\u3002\u6211\u4ee5\u524d\u8fdb\u653b\u7684\u592a\u5c11\u4e86\uff0c\u5927\u90e8\u5206\u7684\u7cbe\u529b\u90fd\u82b1\u5728\u9632\u5b88\u4e0a\u4e86\uff0c\u53ef\u80fd\u5bf9\u6211\u6765\u8bf4\uff0c\u8fdb\u653b\u662f\u4e00\u79cd\u5bf9\u522b\u4eba\u7684\u81ea\u6211\u5c55\u793a\uff0c\u6211\u4e4b\u524d\u4e0d\u592a\u4e60\u60ef\u3002\uff08\u771f\u7684\u4e0d\u662f\u56e0\u4e3a\u57fa\u672c\u529f\u592a\u5dee\u4e86\u7403\u90fd\u8fd0\u4e0d\u4f4f\u5417\uff09\u3002\u4e0d\u8fc7\u4eca\u5929\u6709\u6240\u8fdb\u6b65\u7684\u662f\u6253\u4e86\u51e0\u4e2a\u7a81\u7834\uff0c\u4e0d\u50cf\u4ee5\u524d\u90fd\u662f\u8df3\u6295\u7ec8\u7ed3\u3002\u8df3\u6295\u53ea\u662f\u770b\u4e0a\u53bb\u597d\u505a\u52a8\u4f5c\uff0c\u5b9e\u9645\u5f88\u5403\u8eab\u4f53\u7d20\u8d28\u4e5f\u4e0d\u5bb9\u6613\u547d\u4e2d\u7684\u3002\u8fd8\u6709\u4e00\u4e2a\u539f\u56e0\u662f\u4e4b\u524d\u90fd\u662f\u4ece\u53f3\u8fb9\u53d1\u8d77\u8fdb\u653b\uff0c\u5982\u679c\u4e0d\u6362\u624b\u7684\u8bdd\uff0c\u5f88\u5bb9\u6613\u5c31\u88ab\u903c\u5230\u5e95\u7ebf\u7684\u89d2\u843d\uff0c\u90a3\u4e2a\u65f6\u5019\u53ea\u6709\u4e24\u79cd\u9009\u62e9\uff0c\u8f6c\u8eab\u8df3\u6295\u6216\u8005\u5012\u52fe\uff0c\u5f88\u5bb9\u6613\u5c31\u88ab\u770b\u7a7f\u4e86\u3002\u5982\u679c\u4ece\u5de6\u8fb9\u53d1\u8d77\u7684\u8bdd\uff0c\u7a7a\u95f4\u4f1a\u66f4\u5927\u4e00\u4e9b\u3002\u8fdb\u653b\u7684\u624b\u6bb5\u53ef\u4ee5\u66f4\u4e30\u5bcc\u4e00\u4e9b\uff0c\u4e5f\u4e0d\u8981\u5b8c\u5168\u653e\u5f03\u4e2d\u6295\uff0c\u6301\u7403\u6295\u7684\u547d\u4e2d\u7387\u4f1a\u6bd4\u63a5\u7403\u6295\u9ad8\u4e00\u4e9b\u3002</p> <p>\u5f97\u51c6\u5907\u4e00\u4e0b\u540e\u5929\u7684\u5408\u80a5\u4e4b\u65c5\u4e86\uff0c\u73b0\u5728\u8fd8\u4e0d\u77e5\u9053\u5408\u80a5\u6709\u4ec0\u4e48\u5462\u3002</p>"},{"location":"diary/#2023-11-25","title":"2023-11-25","text":"<p>\u4ece\u5408\u80a5\u56de\u6765\u4e86\u4eca\u5929\uff0c\u4f0d\u4f70\u7684\u6f14\u5531\u4f1a\uff0c\u4e0d\u865a\u6b64\u884c\u3002</p> <p>\u521a\u521a\u770b\u5230\u4e00\u4e2a\u5927\u4f6c\u7684\u5b66\u4e60\u7ecf\u5386\u771f\u7684\u662f\u7fa1\u6155\u5ac9\u5992\u6b7b\u6211\u4e86\uff0c\u7b80\u5355\u7684\u8bf4\u4ed6\u9ad8\u4e2d\u5c31\u6709\u6211\u73b0\u5728\u7684\u6280\u672f\u6c34\u5e73\u4e86\uff0c\u800c\u4e14\u8fd8\u505a\u4e86\u6211\u4e00\u76f4\u90fd\u60f3\u505a\u6ca1\u505a\u7684\u4e8b\u60c5\uff1a\u50cf 3b1b \u90a3\u6837\u505a\u81ea\u5df1\u7684\u79d1\u666e\u89c6\u9891\u3002\u4ed6\u4e0d\u4ec5\u4ec5\u5728\u9ad8\u4e2d\u5c31\u505a\u4e86\uff0c\u8fd8\u770b\u4e86\u6e90\u7801\uff0c\u73b0\u5728\u66f4\u662f\u6e90\u7801\u5e93 manim \u7684 collaborator \u4e86\u3002\uff08\u67d0\u4e2a github \u90fd\u7528\u7684\u4e0d\u719f\u7684\u4eba\u4f1a\u4e0d\u4f1a\u81ea\u60ed\u5f62\u79fd\uff09\u800c\u4e14\u4ed6\u7684\u7b14\u8bb0\u505a\u7684\u771f\u7684\u5f88\u5b8c\u7f8e\uff0c\u6211\u54ed\u6b7b\u3002</p> <p>\u54e5\u54e5\uff0c\u4f60\u90fd\u5feb\u6574\u6574\u4e8c\u5341\u4e8c\u5468\u5c81\u4e86\u554a\uff0c\u8fd8\u662f\u4e0d\u77e5\u9053\u8be5\u600e\u4e48\u9762\u5bf9\u6bd4\u4f60\u4f18\u79c0\u7684\u4eba\u5417\uff1f\u8fd9\u4e2a\u4e16\u754c\u4e0a\uff0c\u603b\u6709\u4eba\u540c\u65f6\u6bd4\u4f60\u806a\u660e\uff0c\u6bd4\u4f60\u52aa\u529b\uff0c\u6bd4\u4f60\u63a5\u89e6\u5230\u66f4\u591a\u7684\u8d44\u6e90\uff0c\u8fd8\u6bd4\u4f60\u8fd0\u6c14\u597d\u3002\u4f46\u662f\uff0c\u4e3a\u4ec0\u4e48\u975e\u8981\u6bd4\u4e2a\u9ad8\u4e0b\u51fa\u6765\u5462\uff1f\u60f3\u60f3\u8fc7\u5f80\uff0c\u548c\u4f18\u79c0\u7684\u4eba\u5728\u4e00\u8d77\u4e5f\u5e38\u5e38\u53d1\u6325\u5931\u5e38\uff0c\u6216\u662f\u62c5\u5fc3\u81ea\u5df1\u8fbe\u4e0d\u5230\u5408\u4f5c\u8005\u7684\u8981\u6c42\uff0c\u6216\u662f\u62c5\u5fc3\u81ea\u5df1\u4f1a\u88ab\u7ade\u4e89\u8005\u6bd4\u4e0b\u53bb\uff0c\u771f\u7684\u78b0\u5230\u5404\u65b9\u9762\u6bd4\u4f60\u5389\u5bb3\u7684\u53c8\u60f3\u7528\u7cbe\u795e\u80dc\u5229\u6cd5\u3002\u611f\u89c9\u7ea0\u7ed3\u8fd9\u4e9b\u4e8b\u60c5\u771f\u7684\u597d\u80a4\u6d45\u554a\uff0c\u4f46\u662f\u6211\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u65e0\u6cd5\u505c\u6b62\uff0c\u53ef\u80fd\u662f\u4e00\u79cd\u52a3\u6839\u6027\u5427\u3002\u4eba\u7684\u5ac9\u5992\u5fc3\u5230\u5e95\u662f\u600e\u4e48\u6765\u7684\u5440\uff0c\u6211\u771f\u7684\u5f88\u597d\u5947\u3002\u5176\u5b9e\u6211\u5bf9\u5f88\u591a\u4e8b\u60c5\u90fd\u5f88\u654f\u611f\uff0c\u5982\u679c\u80fd\u66f4\u52a0\u968f\u6027\u4e00\u70b9\u5c31\u597d\u4e86\u3002</p> <p>\u5176\u5b9e\u6b63\u89e3\u5f88\u7b80\u5355\u554a\uff1a\u505a\u4f60\u81ea\u5df1\u3002\u5230\u5e95\u600e\u4e48\u6837\u624d\u80fd\u505a\u81ea\u5df1\u5462\uff0c\u968f\u6027\u800c\u4e3a\u6709\u70b9\u96be\u554a\uff0c\u54c8\u54c8\u3002\u5728\u8dd1\u6b65\u7684\u65f6\u5019\uff0c\u5982\u679c\u80fd\u4fdd\u6301\u81ea\u5df1\u7684\u901f\u5ea6\uff0c\u4e0d\u7ba1\u524d\u9762\u7684\u4eba\u8dd1\u7684\u591a\u4e48\u5feb\uff0c\u4e0d\u7ba1\u540e\u9762\u53c8\u591a\u5c11\u4eba\u8d85\u8fc7\u4f60\uff0c\u8dd1\u6b65\u7684\u611f\u89c9\u4f1a\u597d\u7684\u591a\u3002\u6211\u60f3\u8981\u7a81\u7136\u7684\u81ea\u6211\u3002\u6211\u8bf4\u7684\u8bdd\u6ca1\u6709\u903b\u8f91\uff0c\u6211\u4e5f\u4e0d\u8981\u523b\u610f\u4f53\u73b0\u903b\u8f91\u3002\u56f0\u6b7b\u4e86\uff0c\u7761\u89c9\u3002</p>"},{"location":"diary/#2023-11-28","title":"2023-11-28","text":"<p>\u505a\u7b14\u8bb0\u7684\u65f6\u5019\u522b\u7ba1\u6392\u7248\uff0c\u8981\u4e0d\u7136\u592a\u6d6a\u8d39\u65f6\u95f4\u4e86\uff0c\u81ea\u5df1\u8111\u8865\u6e32\u67d3\u5c31\u884c\u4e86\u3002\u54ce\uff0c\u9063\u8bcd\u9020\u53e5\u4e5f\u522b\u592a\u8bb2\u7a76\u3002</p>"},{"location":"diary/#2023-12-11","title":"2023-12-11","text":"<p>\u597d\u51e0\u5929\u6ca1\u8bb0\u65e5\u8bb0\u4e86\uff0c\u8fd9\u6bb5\u65f6\u95f4\u6709\u5f88\u591a\u65f6\u95f4\u90fd\u82b1\u5728 pa \u7b2c\u4e8c\u4e2a\u5b9e\u9a8c\u4e0a\u4e86\uff0c\u6211\u8fd9\u4e2a\u4eba\u4e00\u5f00\u59cb\u52a8\u624b\u5c31\u505c\u4e0d\u4e0b\u6765\uff0c\u6709\u7684\u65f6\u5019\u5b8c\u6210\u4e00\u90e8\u5206\u5185\u5bb9\u3001\u901a\u8fc7\u4e00\u4e24\u4e2a\u6d4b\u8bd5\u3001\u89e3\u51b3\u4e00\u4e24\u4e2a\u95ee\u9898\uff0c\u4e00\u5929\u5c31\u8fc7\u53bb\u4e86\uff0c\u4e00\u5929\u7684\u65f6\u95f4\u771f\u7684\u597d\u77ed\u554a\uff0c\u54ce\u3002\u6709\u65f6\u5019\u996d\u90fd\u4e0d\u60f3\u5403\uff0c\u89c9\u4e5f\u4e0d\u60f3\u7761\uff0c\u56e0\u4e3a\u88ab\u6253\u65ad\u611f\u89c9\u5f88\u4e0d\u723d\u3002pa2 \u505a\u5b8c\u786e\u5b9e\u662f\u6536\u83b7\u9887\u4e30\uff0c\u6211\u7684\u63cf\u8ff0\u5f88\u5355\u8584\uff0c\u4f46\u662f\u6628\u5929\u8fd8\u662f\u524d\u5929\u505a\u7684\u6574\u7406\uff0c\u5199\u90a3\u51e0\u4e2a\u5b57\u771f\u662f\u8d39\u4e86\u6211\u597d\u5927\u529f\u592b\uff0c\u53c8\u6574\u7406\u5230\u51cc\u6668\u3002\u4e00\u53e5\u8bdd\u6982\u62ec pa2 \u505a\u4e86\u4ec0\u4e48\uff1a\u90a3\u5c31\u662f\u6a21\u62df\u5404\u79cd\u786c\u4ef6\uff08NEMU\uff09\uff0c\u6a21\u62df\u8f6f\u4ef6\u63a5\u53e3\uff08AM\uff09\uff0c\u5b9e\u73b0\u4e00\u4e2a\u80fd\u6267\u884c\u4e00\u4e2a\u7a0b\u5e8f\u7684\u8ba1\u7b97\u673a\u3002\u505a\u8fd9\u4e2a\u5b9e\u9a8c\u5999\u5c31\u5999\u5728\uff0c\u7ed9\u4f60\u4e00\u79cd\u8fd9\u6837\u7684\u611f\u89c9\uff1a\u539f\u6765\u8fd9\u5c31\u662f\u8ba1\u7b97\u673a\u554a\u3002\u8fd9\u5c31\u662f\u6211\u81ea\u5b66\u8fd9\u95e8\u8bfe\u7684\u76ee\u7684\uff0c\u56e0\u4e3a\u6211\u60f3\u641e\u6e05\u695a\u8ba1\u7b97\u673a\u8fd0\u884c\u7684\u539f\u7406\u3002\u8ba1\u7b97\u673a\u662f\u4eba\u7c7b\u53d1\u660e\u7684\u4f1f\u5927\u5de5\u5177\uff0c\u6709\u5fc5\u8981\u597d\u597d\u4e86\u89e3\u4e00\u4e0b\uff0c\u4e0d\u662f\u5417\uff1fpa3 \u6211\u5f97\u5148\u7f13\u7f13\u518d\u505a\uff0c\u8981\u4e0d\u7136\u548c\u6253\u6e38\u620f\u4e00\u6837\u592a\u5bb9\u6613\u6c89\u8ff7\u4e86\u3002pa3 \u548c pa4 \u7b80\u5355\u7684\u770b\u4e86\u4e00\u4e0b\uff0c\u5e94\u8be5\u662f\u5b9e\u73b0\u5b8c\u4ee5\u540e\u80fd\u8fd0\u884c\u591a\u4e2a\u7a0b\u5e8f\uff0c\u5b9e\u73b0\u8fd9\u4e2a\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u5f15\u5165\u64cd\u4f5c\u7cfb\u7edf\u7684\u6982\u5ff5\u4e86\u3002\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e94\u8be5\u4e5f\u662f\u4e00\u79cd\u62bd\u8c61\u5427\uff0c\u548c AM \u7c7b\u4f3c\u7684\u62bd\u8c61\uff0c\u671f\u5f85\u4e00\u4e0b\u3002</p> <p>\u7136\u540e\u662f\u9006\u8f6c\u88c1\u5224\u3002\u4eca\u5929\u8fde\u7740\u73a9\u4e86\u4e24\u4e2a\u6848\u5b50\uff0c\u597d\u7d2f\uff0c\u8111\u5b50\u8f6c\u4e0d\u52a8\u4e86\u3002\u6211\u771f\u7684\u5f88\u559c\u6b22\u9006\u8f6c\u88c1\u5224\uff0c\u56e0\u4e3a\u6210\u6b65\u5802\u603b\u662f\u53ef\u4ee5\u5728\u6b63\u786e\u7684\u65f6\u673a\u8bf4\u51fa\u6b63\u786e\u7684\u8bdd\uff0c\u5982\u679c\u5728\u73b0\u5b9e\u4e2d\u6211\u4e5f\u662f\u8fd9\u6837\u4f1a\u51cf\u5c11\u591a\u5c11\u9057\u61be\u5462\uff1b\u80fd\u591f\u50cf\u6210\u6b65\u5802\u90a3\u6837\u4fdd\u62a4\u65e0\u8f9c\u7684\u4eba\uff0c\u6211\u4e5f\u7ecf\u5e38\u60f3\u8c61\u5462\uff0c\u6709\u4e9b\u5173\u5934\uff0c\u5982\u679c\u6211\u80fd\u518d\u52c7\u6562\u4e00\u70b9\u7ad9\u51fa\u6765\uff0c\u8bf4\u51fa\u5408\u9002\u7684\u8bdd\u5c31\u597d\u4e86\uff1b\u800c\u4e14\uff0c\u80fd\u591f\u548c\u5404\u79cd\u5404\u6837\u7684\u4eba\u6253\u4ea4\u9053\uff0c\u6e38\u620f\u91cc\u9762\u7684\u4eba\u771f\u7684\u662f\u201c\u6240\u89c1\u975e\u6240\u5f97\u201d\u554a\uff0c\u6709\u4e9b\u7b11\u9762\u864e\u771f\u7684\u80fd\u628a\u6211\u5413\u4e00\u5927\u8df3\uff1b\u73b0\u5b9e\u91cc\u9762\u6211\u90fd\u4e0d\u6562\u548c\u522b\u4eba\u6709\u592a\u591a\u7684\u4ea4\u96c6\uff0c\u56e0\u4e3a\u5904\u7406\u534a\u751f\u4e0d\u719f\u7684\u4eba\u9645\u5173\u7cfb\u771f\u7684\u5f88\u56f0\u6270\u4eba\u554a\uff0c\u800c\u4e14\u6709\u7684\u65f6\u5019\u4f1a\u6015\u88ab\u9ebb\u70e6\u7684\u4eba\u7f20\u4e0a\uff1b\u53e6\u5916\uff0c\u4e0d\u77e5\u9053\u5f8b\u5e08\u54ea\u6765\u7684\u81ea\u4fe1\uff0c\u865a\u5f20\u58f0\u52bf\u90fd\u8fd9\u4e48\u6709\u5e95\u6c14\u554a\u54c8\u54c8\u54c8\u3002\u6211\u793e\u6050\u654f\u611f\u4e0d\u81ea\u4fe1\u53cd\u5e94\u53c8\u8fdf\u949d\u53c8\u5f88\u8f6f\u5f31\uff0c\u6240\u4ee5\u73a9\u8fd9\u4e2a\u6e38\u620f\u771f\u7684\u7279\u522b\u723d\u554a\u54c8\u54c8\u54c8\uff0c\u53ef\u4ee5\u628a\u81ea\u5df1\u6295\u5c04\u5230\u5927\u5f8b\u5e08\u8eab\u4e0a\uff0c\u8fd9\u5c31\u662f\u6e38\u620f\u7684\u9b45\u529b\u554a\u3002</p> <p>\u4e0d\u8981\u8bf4\u5982\u679c\u4e86\uff0c\u672a\u6765\u53ef\u4e0d\u53ef\u4ee5\uff1f\u5176\u5b9e\u6211\u5fc3\u91cc\u4e00\u76f4\u662f\u8fd9\u4e48\u60f3\u7684\uff0c\u5982\u679c\u6709\u4eba\u9700\u8981\u6211\u7ad9\u51fa\u6765\u4fdd\u62a4\uff0c\u90a3\u6211\u4e00\u5b9a\u4f1a\u7ad9\u51fa\u6765\u3002\u5509\uff0c\u600e\u4e48\u8bf4\u7684\u8fd9\u4e48\u9ad8\u5c1a\u554a\uff0c\u4ee5\u540e\u8fd8\u600e\u4e48\u9634\u6697\u626d\u66f2\u5730\u722c\u884c\u554a\uff0c\u54c8\u54c8\uff0c\u90a3\u81f3\u5c11\u662f\u4f60\u7684\u613f\u671b\u603b\u6ca1\u9519\u5427\u3002</p> <p>\u6709\u597d\u591a\u8bdd\u90fd\u8bf4\u4e0d\u5230\u70b9\u5b50\u4e0a\uff0c\u6211\u60f3\u9610\u8ff0\u81ea\u5df1\u7684\u611f\u53d7\u66f4\u7cbe\u51c6\u4e00\u4e9b\u3002</p>"},{"location":"Cpp/intro/","title":"C++","text":"<p>\u6211\u4f1a\u8bd5\u56fe\u8ddf\u7740 CS106 \u8fd9\u95e8\u8bfe\u7684\u8282\u594f\u8d70\u3002\u8bfe\u7a0b\u94fe\u63a5\uff1ahttps://web.stanford.edu/class/cs106l</p>"},{"location":"Cpp/intro/#lecture-1","title":"Lecture 1","text":"<p>\u8bfe\u7a0b\u7684\u7b2c\u4e00\u8bfe\uff0c\u4e0d\u591a\u8bf4\u3002</p>"},{"location":"Cpp/intro/#lecture-2-types-and-structs","title":"Lecture 2: Types and Structs","text":""},{"location":"Cpp/intro/#_1","title":"\u6570\u636e\u57fa\u672c\u7c7b\u578b","text":"<p>\u548c C \u8bed\u8a00\u7c7b\u4f3c\uff0c\u4e5f\u5c31\u662f int\u3001char\u3001double \u8fd9\u7c7b\u7684\u3002</p> <p>\u6709\u8da3\u7684\u662f\uff0cC++ \u53ef\u4ee5\u4f7f\u7528 <code>auto</code> \u5173\u952e\u5b57\u6765\u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u6307\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b</p> <pre><code>auto a = 3;\nauto b = 4.3;\nauto c = 'x';\nauto d = \"Hello\";\n</code></pre>"},{"location":"Cpp/intro/#namespace","title":"namespace","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1a</p> <p>https://zhuanlan.zhihu.com/p/126481010</p> <p>https://www.runoob.com/cplusplus/cpp-namespaces.html</p> <p>\u5728 C++ \u4e2d\uff0c\u540d\u79f0\uff08name\uff09\u53ef\u4ee5\u662f\u7b26\u53f7\u5e38\u91cf\u3001\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7ed3\u6784\u3001\u679a\u4e3e\u3001\u7c7b\u548c\u5bf9\u8c61\u7b49\u7b49\u3002\u5de5\u7a0b\u8d8a\u5927\uff0c\u540d\u79f0\u4e92\u76f8\u51b2\u7a81\u6027\u7684\u53ef\u80fd\u6027\u8d8a\u5927\u3002\u53e6\u5916\u4f7f\u7528\u591a\u4e2a\u5382\u5546\u7684\u7c7b\u5e93\u65f6\uff0c\u4e5f\u53ef\u80fd\u5bfc\u81f4\u540d\u79f0\u51b2\u7a81\u3002\u4e8e\u662f C++ \u5c31\u5f15\u5165\u4e86 namespace \u540d\u79f0\u7a7a\u95f4\uff0c\u6211\u4eec\u8fd9\u91cc\u5c31\u7b80\u5355\u7684\u4ecb\u7ecd\u4e00\u4e0b\u8fd9\u4e2a\u6982\u5ff5\u3002</p> <p>\u540d\u79f0\u7a7a\u95f4\u7684\u5b9a\u4e49\u5c31\u662f\uff1a <pre><code>namespace name {\n   // \u4ee3\u7801\u58f0\u660e\n   // \u51fd\u6570\u3001\u53d8\u91cf\u3001\u7c7b\u7b49\u7b49\n}\n</code></pre></p> <p>\u5b9a\u4e49\u597d\u540e\uff0c\u8981\u4f7f\u7528\u8fd9\u4e2a\u540d\u79f0\u7a7a\u95f4\u7684\u53d8\u91cf\u6216\u51fd\u6570\uff0c\u8fd9\u6837\u5373\u53ef\uff1a <pre><code>name::code;  // code \u53ef\u4ee5\u662f\u53d8\u91cf\u6216\u51fd\u6570\n</code></pre></p> <p>\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5427\uff1a <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n// \u7b2c\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\nnamespace first_space{\n   void func(){\n      cout &lt;&lt; \"Inside first_space\" &lt;&lt; endl;\n   }\n}\n// \u7b2c\u4e8c\u4e2a\u547d\u540d\u7a7a\u95f4\nnamespace second_space{\n   void func(){\n      cout &lt;&lt; \"Inside second_space\" &lt;&lt; endl;\n   }\n}\nint main ()\n{\n\n   // \u8c03\u7528\u7b2c\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u51fd\u6570\n   first_space::func();\n\n   // \u8c03\u7528\u7b2c\u4e8c\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u51fd\u6570\n   second_space::func(); \n\n   return 0;\n}\n</code></pre></p> <p>\u8f93\u51fa\uff1a <pre><code>Inside first_space\nInside second_space\n</code></pre></p> <p>\u5f88\u597d\u7406\u89e3\uff0c\u5bf9\u5427\u3002</p> <p>\u7136\u540e\u53ef\u4ee5\u4f7f\u7528 <code>using</code> \u547d\u4ee4\u6765\u5077\u61d2\uff0c<code>using namespace name</code>\uff0c\u4f7f\u7528\u547d\u540d\u7a7a\u95f4 <code>name</code>\u65f6\uff0c\u5c31\u53ef\u4ee5\u4e0d\u7528\u5728\u524d\u9762\u52a0\u4e0a\u547d\u540d\u7a7a\u95f4\u7684\u540d\u79f0\uff0c\u7f16\u8bd1\u5668\u4f1a\u5e2e\u5fd9\u641e\u5b9a\u3002</p> <p><pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n// \u7b2c\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\nnamespace first_space{\n   void func(){\n      cout &lt;&lt; \"Inside first_space\" &lt;&lt; endl;\n   }\n}\n// \u7b2c\u4e8c\u4e2a\u547d\u540d\u7a7a\u95f4\nnamespace second_space{\n   void func(){\n      cout &lt;&lt; \"Inside second_space\" &lt;&lt; endl;\n   }\n}\nusing namespace first_space;\nint main ()\n{\n\n   // \u8c03\u7528\u7b2c\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u51fd\u6570\n   func();\n\n   return 0;\n}\n</code></pre> \u8f93\u51fa\uff1a <pre><code>Inside first_space\n</code></pre></p> <p>\u6700\u5e38\u7528\u7684\u540d\u5b57\u7a7a\u95f4\u5c31\u662f std \u4e86\uff0c\u5b83\u662f STL \u6807\u51c6\u6a21\u7248\u5e93\u7684\u540d\u5b57\u7a7a\u95f4\u3002C++ \u7684\u8f93\u5165\u8f93\u51fa\u51fd\u6570 <code>cin</code> \u548c <code>cout</code> \u5c31\u662f STL \u5e93\u7684\u3002STL \u5e93\u5f88\u5f3a\u5927\uff0c\u540e\u9762\u4f1a\u591a\u6b21\u7528\u5230\u3002</p> <p>\u4e0b\u9762\u8f93\u51fa\u4e00\u4e0b hello world \u770b\u770b <pre><code>#include &lt;iostram&gt;\n\nint main() {\n    std::cout &lt;&lt; \"Hello, world!\" &lt;&lt; std::endl;\n    return 0; \n}\n</code></pre></p> <p>\u76f8\u5f53\u4e8e\uff1a <pre><code>#include &lt;iostram&gt;\nusing namespace std;\nint main() {\n    cout &lt;&lt; \"Hello, world!\" &lt;&lt; endl;\n    return 0; \n}\n</code></pre></p> <p>\u5bf9\u4e8e\u4f5c\u7528\u57df\u89e3\u6790\u8fd0\u7b97\u7b26 <code>::</code>, \u6700\u5e38\u7528\u7684\u8fd8\u662f\u5728\u5b9a\u4e49\u7c7b\u65b9\u6cd5\u7684\u65f6\u5019, \u6765\u6307\u660e\u8be5\u65b9\u6cd5\u6765\u81ea\u54ea\u4e00\u4e2a\u7c7b.</p>"},{"location":"Cpp/intro/#overload","title":"overload","text":"<p>\u5b66\u4e60 Java \u7684\u65f6\u5019\u5df2\u7ecf\u4f7f\u7528\u8fc7\u51fd\u6570\u91cd\u8f7d overload \u4e86\uff0cC++ \u7684\u4e5f\u662f\u7c7b\u4f3c\u7684\u3002\u51fd\u6570\u53ef\u4ee5\u91cd\u540d\uff0c\u53ea\u8981\u4fdd\u8bc1\u8f93\u5165\u53c2\u6570\u7684\u7c7b\u578b\u6216\u6570\u91cf\u4e0d\u540c\u5373\u53ef\uff0c\u4f8b\u5b50\u5982\u4e0b\uff1a <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint half(int x) {\n    return x/2;\n}\n\ndouble half(double x, int divisor=2) {\n    // C++ \u548c python \u4e00\u6837\uff0c\u652f\u6301\u9ed8\u8ba4\u53c2\u6570\uff01\n    return x/divisor;\n}\n\nint main() {\n    cout &lt;&lt; half(3) &lt;&lt; endl;\n    cout &lt;&lt; half(3.0) &lt;&lt; endl;\n    cout &lt;&lt; half(3.0, 3) &lt;&lt; endl;\n    return 0;\n} \n</code></pre></p> <p>\u8f93\u51fa\uff1a <pre><code>1\n1.5\n1\n</code></pre></p>"},{"location":"Cpp/intro/#struct-and-pairs","title":"struct and pairs","text":"<p>C++ \u4e2d struct \u7684\u4f7f\u7528\u548c C \u76f8\u6bd4\u66f4\u52a0\u65b9\u4fbf\u4e86\u3002\u4f8b\u5b50\u5982\u4e0b\uff1a <pre><code>struct Student {\n    std::string name;\n    std::string state;\n    int age;\n}\n\nStudent s; //C \u8bed\u8a00\u8fd8\u8981 typedef \u4e00\u4e0b\ns.name = \"Haven\";\ns.state = \"AR\";\ns.age = 32;\n\n// \u521d\u59cb\u5316\u4e5f\u53ef\u4ee5\u5199\u6210\uff1a\nStudent s = {\"Haven\",\"AR\",32};\n</code></pre></p> <p>STL \u5e93\u4e2d\u6709\u4e00\u4e2a pair \u6a21\u7248\uff0c\u53ef\u4ee5\u7528\u6765\u5feb\u901f\u4f7f\u7528\u6784\u9020\u7ed3\u6784\u4f53\u3002 <pre><code>std::pair&lt;int, string&gt; numSuffix = {1, \"st\"};\nnumSuffix.first; //1\nnumSuffix.second; //\"st\"\n</code></pre></p> <p><code>&lt;&gt;</code> \u91cc\u7684\u5185\u5bb9\u7528\u6765\u6307\u5b9a\u4e24\u4e2a\u6570\u636e\u7684\u7c7b\u578b\uff0c\u975e\u5e38\u7075\u6d3b\u3002 \u6b64\u5916\uff0c\u53ef\u4ee5\u7528 <code>make_pair</code> \u51fd\u6570\u5feb\u901f\u751f\u6210 pair\uff0c\u8fde\u5b9a\u4e49\u90fd\u7701\u4e86\u3002 <pre><code>make_pair(true, \"love\");\n</code></pre></p>"},{"location":"Cpp/intro/#lecture-3-initialization-and-references","title":"Lecture 3: Initialization and References","text":""},{"location":"Cpp/intro/#initialization","title":"Initialization","text":"<p>C++ \u521d\u59cb\u5316\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\u3002\u7b2c\u4e00\u79cd\u662f\u548c C \u8bed\u8a00\u4e00\u6837\uff0c\u4f7f\u7528\u7b49\u53f7\u3002</p> <pre><code>int a = 12;\nint b = 12.5; // \u4e0d\u4f1a\u62a5\u9519\ndouble c = 56.8;\n</code></pre> <p>\u4f60\u77e5\u9053\u7684\uff0cC++ \u4e2d\u7684\u7c7b\u578b\u975e\u5e38\u591a\uff0c\u6bcf\u79cd\u7c7b\u578b\u7684\u521d\u59cb\u5316\u65b9\u5f0f\u90fd\u4e0d\u540c\uff0c\u6240\u4ee5 C++11 \u53c8\u5f15\u5165\u4e86\u65b0\u7684\u521d\u59cb\u5316\u65b9\u5f0f\uff1aUniform initialization\uff08\u7edf\u4e00\u521d\u59cb\u5316\uff09\uff0c\u5b83\u4f7f\u7528 <code>{}</code> \u6765\u521d\u59cb\u5316\u3002</p> <pre><code>int a{12};\nint b{12.5}; // Uniform initialization \u975e\u5e38\u5173\u5fc3\u53d8\u91cf\u7c7b\u578b\uff0c\u8fd9\u91cc\u5c31\u4f1a\u62a5\u9519\n\nstd::map&lt;std::string, int&gt; ages{\n    {\"Alice\", 25},\n    {\"Bob\", 30},\n    {\"Charlie\",35}\n}; // \u5bf9 map \u521d\u59cb\u5316\n\nstd::vector&lt;int&gt; numbers{1,2,3,4,5}; // \u5bf9 vector \u521d\u59cb\u5316\n\nstruct Student {\n    string name;\n    string state;\n    int age;\n};\n\nStudent s{\"Haven\", \"AR\", 32}; // \u5bf9 struct \u521d\u59cb\u5316\nStudent s = {\"Haven\",\"AR\",32}; // \u7528 = \u6765\u521d\u59cb\u5316\n</code></pre>"},{"location":"Cpp/intro/#structured-binding","title":"Structured Binding","text":"<p>Structured Binding\uff0c\u4e2d\u6587\u540d\u6240\u8c13\u7684\u201c\u7ed3\u6784\u5316\u7ed1\u5b9a\u201d\uff0c\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u8fd9\u662f C++17 \u5f15\u5165\u7684\u7279\u6027\u3002</p> <p>\u5148\u524d\u6211\u4eec\u7684\u51fd\u6570\u8981\u8fd4\u56de\u591a\u4e2a\u53c2\u6570\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u600e\u4e48\u529e\u5462\uff1f\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u5373\u53ef\uff1a\uff08\u4f8b\u5b50\u6765\u81eahttps://zhuanlan.zhihu.com/p/139140185\uff09 <pre><code>struct Person\n{\n    std::string name;\n    int age;\n};\n\nPerson CreatePerson()\n{\n    return {\"\u5c0f\u5c9b\u79c0\u592b\u8d5b\u9ad8\", 56};\n};\n\nint main()\n{\n    auto person = CreatePerson();\n    std::cout &lt;&lt; person.name &lt;&lt; \" \" &lt;&lt; person.age &lt;&lt; '\\n';\n}\n</code></pre></p> <p>\u8fd9\u4e2a\u51fd\u6570\u5c31\u53ef\u4ee5\u8fd4\u56de\u4eba\u7684\u59d3\u540d\u548c\u5e74\u9f84\u3002\u4f46\u662f\u6709\u65f6\u5019\u8fd9\u4e2a\u7ed3\u6784\u4f53\u53ea\u7528\u4e00\u6b21\uff0c\u8fd8\u4e13\u95e8\u53bb\u5b9a\u4e49\uff0c\u5c31\u6d6a\u8d39\u4e86\u3002\u90a3\u4e48\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684\u65b9\u5f0f\uff1a <pre><code>std::tuple&lt;std::string, int&gt; CreatePerson()\n{\n    return { \"\u5c0f\u5c9b\u79c0\u592b\u8d5b\u9ad8\", 56 };\n} \n\nint main()\n{\n    auto[name, age] = CreatePerson();\n    // \u548c\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u7b49\u4ef7\uff0c\u4f46\u662f\u4e0b\u9762\u8981\u5bf9 name\u3001age \u521d\u59cb\u5316\uff0cauto[name, age] \u628a\u521d\u59cb\u5316\u7684\u5de5\u4f5c\u4e5f\u505a\u4e86\u3002\n\n    // std::tie(name, age) = CreatePerson();\n\n    // std::string &amp;name = std::get&lt;0&gt;(person);    \n    // int age           = std::get&lt;1&gt;(person);\n    std::cout &lt;&lt; name &lt;&lt; \" \" &lt;&lt; age &lt;&lt; \"\\n\";\n}\n</code></pre></p> <p>\u5229\u7528 C++11 \u5f15\u5165\u7684\u65b0\u6a21\u7248 tuple \u6765\u5199\u8fd9\u4e2a\u51fd\u6570\uff0c<code>&lt;&gt;</code> \u91cc\u7684\u5185\u5bb9\u662f\u7c7b\u578b\uff0c<code>auto[name, age]</code> \u5c31\u4f1a\u81ea\u52a8\u6839\u636e\u62ec\u53f7\u91cc\u7684\u7c7b\u578b\u6765\u521d\u59cb\u5316\u53d8\u91cf\u3002</p>"},{"location":"Cpp/intro/#reference","title":"Reference","text":"<p>reference \u5f15\u7528\uff0c\u662f C++ \u4e2d\u91cd\u8981\u7684\u6982\u5ff5\u4e4b\u4e00\u3002\u4f7f\u7528 <code>&amp;</code> \u8fd0\u7b97\u7b26\u6765\u8fdb\u884c\u3002 </p> <p>\u53ef\u4ee5\u628a\u5f15\u7528\u770b\u6210\u662f\u6307\u9488\u7684\u65b9\u4fbf\u7248\u672c\u3002</p> <pre><code>int num = 5;\nint&amp; ref = num;\nref = 10;\ncout &lt;&lt; num &lt;&lt; endl;\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4f1a\u8f93\u51fa 10\u3002\u5728 C \u8bed\u8a00\u4e2d\uff0c\u4f60\u53ef\u4ee5\u8fd9\u4e48\u5b9e\u73b0\uff1a</p> <pre><code>int num = 5;\nint *p = &amp;num;\n*p = 10;\nprintf(\"%d\", *p);\n</code></pre> <p>\u5982\u679c\u5728 C++ \u4e2d\u60f3\u8981\u51fd\u6570\u6539\u53d8\u53d8\u91cf\u672c\u8eab\u800c\u4e0d\u662f\u4f20\u5165\u5f62\u53c2\uff0c\u4e5f\u5c31\u4e0d\u7528\u4f20\u5165\u6307\u9488\u4e86\uff0c\u4f7f\u7528\u5bf9\u5e94\u7684\u5f15\u7528\u7c7b\u578b\u5373\u53ef\uff1a</p> <pre><code>void squareN(int&amp; n) {\n    n = n * n;\n}\n\nint main() {\n    int num = 2;\n    squareN(num);\n    cout &lt;&lt; num &lt;&lt; endl;\n}\n</code></pre> <p>\u5f15\u7528\u503c\u548c\u539f\u59cb\u503c\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\uff0c\u6240\u4ee5\u6539\u53d8\u4efb\u4f55\u4e00\u4e2a\u90fd\u53ef\u4ee5\u3002</p> <p>\u4e0b\u9762\u770b\u4e00\u4e2a\u6bd4\u8f83\u96be\u7684\u4f8b\u5b50\uff1a <pre><code>void shift(vector&lt;pair&lt;int, int&gt;&gt; &amp;nums) {\n    for (auto [num1, num2]: nums) {\n        num1++;\n        num2++;\n    }\n}\n</code></pre> \u867d\u7136\u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570\u7684\u672c\u610f\u662f\u5e0c\u671b\u5c06\u6570\u7ec4\u4e2d\u7684\u6240\u6709\u503c\u90fd\u81ea\u589e\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u8f83\u96be\u53d1\u89c9\u7684\u5730\u65b9\u662f\uff0cfor \u5faa\u73af\u4e2d\u7684 <code>:</code> \u8fd0\u7b97\u7b26\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u503c\uff0c\u5373\u4e3a\u89e3\u5305\u4e3a\u5355\u4e2a\u5143\u7d20\u7684\u7ed3\u679c\uff0c\u800c\u5e76\u975e\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u672c\u8eab\uff08\u6211\u60f3\u8d77\u6765\u548c Java \u4e2d\u7684 Iterator \u51fd\u6570\u7c7b\u4f3c\uff09\u3002\u6240\u4ee5\u4e0a\u9762\u7684\u51fd\u6570\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u7ed3\u679c\uff0c\u6b63\u786e\u7684\u505a\u6cd5\u662f\u5728 <code>auto</code> \u540e\u9762\u589e\u52a0 <code>&amp;</code> \u8868\u793a\u5f15\u7528\u7c7b\u578b\u3002</p> <p>\u53e6\u5916\uff0c\u5b9e\u9645\u4e0a\u4e0a\u9762\u4e5f\u7528\u5230\u4e86 structure binding \u8fd9\u4e2a\u6027\u8d28\uff0c\u8fd8\u8bb0\u5f97\u5417\uff1f</p> <pre><code>void shift(vector&lt;pair&lt;int, int&gt;&gt; &amp;nums) {\n    for (auto&amp; [num1, num2]: nums) {\n        num1++;\n        num2++;\n    }\n}\n</code></pre>"},{"location":"Cpp/intro/#l-values-and-r-values","title":"l-values and r-values","text":"<p>\u5de6\u503c\u548c\u53f3\u503c\u3002\u5de6\u503c\u53ef\u4ee5\u5728\u8d4b\u503c\u8fd0\u7b97\u7b26 = \u7684\u5de6\u8fb9\u6216\u8005\u53f3\u8fb9\uff0c\u6bd4\u5982\u4e00\u4e2a\u53d8\u91cf\u3002\u800c\u53f3\u503c\u53ea\u80fd\u5728 = \u7684\u53f3\u8fb9\uff0c\u6bd4\u5982\u5e38\u91cf\u3002</p> <p>\u4f1a\u60f3\u5230 C \u8bed\u8a00\u4e2d\u4e00\u4e2a\u7ecf\u5178\u7684\u95ee\u9898\uff1a\u5982\u4f55\u5feb\u901f\u907f\u514d\u5728 if \u8868\u8fbe\u5f0f\u4e2d\u5c06<code>x==0</code> \u5199\u6210 <code>x=0</code> \u8fd9\u79cd\u95ee\u9898\uff1f \u7b54\u6848\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5199\u6210 <code>0==x</code> \u7684\u5f62\u5f0f\uff0c\u5982\u679c\u5199\u6210 <code>0=x</code>\uff0c\u7f16\u8bd1\u5668\u81ea\u7136\u5c31\u4f1a\u62a5\u9519\u3002\u8fd9\u5c31\u662f\u5229\u7528\u4e86\u53f3\u503c\u4e0d\u80fd\u88ab\u8d4b\u503c\u7684\u539f\u7406\u4e86\u3002</p> <p>\u7136\u540e\u5c31\u662f\u5728\u4f20\u53c2\u6570\u7684\u65f6\u5019\uff0c\u53f3\u503c\u662f\u4e0d\u53ef\u4ee5\u4f20\u5230\u5f15\u7528\u7c7b\u578b\u7684\u53d8\u91cf\u91cc\u53bb\u7684\uff0c\u6bd4\u5982\u5bf9\u4e8e\uff1a <pre><code>void squareN(int&amp; n) {\n    n = n * n;\n}\n</code></pre> \u5f53\u7136\u4e0d\u80fd\u5199\u6210 <code>squareN(2)</code> \u7684\u5f62\u5f0f\u3002\u8fd8\u662f\u6bd4\u8f83\u597d\u7406\u89e3\u7684\u3002</p>"},{"location":"Cpp/intro/#_2","title":"\u5e38\u91cf","text":"<p>\u5e38\u91cf const\u3002</p> <pre><code>const int a = 1;\n</code></pre> <p>\u53ea\u6709\u4e00\u70b9\u662f\u65b0\u7684\uff0c\u5e38\u91cf\u4e0d\u80fd\u7ed9\u975e\u5e38\u91cf\u7c7b\u578b\u5f15\u7528\u6216\u8005\u521d\u59cb\u5316\uff0c\u6240\u4ee5 <code>int&amp; b = a</code> \u4f1a\u5bfc\u81f4\u9519\u8bef\uff0c\u800c <code>const int &amp;b = a</code> \u5219\u8bed\u6cd5\u6b63\u786e\u3002</p>"},{"location":"Cpp/intro/#lecture-4-streams","title":"Lecture 4: Streams","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1ahttps://www.runoob.com/cplusplus/cpp-basic-input-output.html</p>"},{"location":"Cpp/intro/#_3","title":"\u4ecb\u7ecd","text":"<p>Streams \u8f93\u5165\u8f93\u51fa\u6d41\u8fd9\u4e2a\u6982\u5ff5\u662f C++ \u4e2d\u7684\u91cd\u8981\u6982\u5ff5\u3002\u77e5\u9053\u4e86\u5b83\u5c31\u53ef\u4ee5\u4f7f\u7528\u9ad8\u8d35\u7684 <code>cin</code> \u548c <code>cout</code>\uff0c\u629b\u5f03\u53ef\u601c\u7684 <code>scanf</code> \u548c <code>printf</code> \u4e86\u3002</p> <p>\u90a3\u4e48\u5230\u5e95\u4ec0\u4e48\u662f stream \u5462\uff1fstream \u5c31\u662f C++ \u4e3a\u8f93\u5165\u8f93\u51fa\u6570\u636e\u63d0\u4f9b\u7684\u4e00\u79cd\u62bd\u8c61\u3002\u62bd\u8c61\u7684\u4f5c\u7528\u5c31\u662f\u63d0\u4f9b\u9ad8\u5c42\u7684\u63a5\u53e3\uff0c\u907f\u514d\u76f4\u63a5\u548c\u5e95\u5c42\u6253\u4ea4\u9053\u3002stream \u7684\u672c\u8d28\u662f\u5b57\u8282\u5e8f\u5217\uff0c\u4ece IO \u8bbe\u5907\u8bfb\u51fa\u6216\u8005\u5199\u5165 IO \u8bbe\u5907\u3002</p> <p>\u5728 C++ \u4e2d\uff0c\u4f7f\u7528 <code>iostream</code> \u5e93\u6765\u5b9e\u73b0\u6d41\uff0c\u63d0\u4f9b\u8f93\u5165\u8f93\u51fa\u673a\u5236\u3002<code>iostream</code> \u4e2d\u6709\u4e24\u4e2a\u57fa\u7840\u7c7b\uff0c<code>istream</code> \u548c <code>ostream</code>\uff0c\u5206\u522b\u8868\u793a\u8f93\u5165\u6d41\u548c\u8f93\u51fa\u6d41\u3002\u5728\u6807\u51c6\u5e93\u4e2d\uff0c\u53c8\u5b9a\u4e49\u4e86 4 \u4e2a\u5bf9\u8c61\uff1a<code>cin</code>\uff0c<code>cout</code>\uff0c<code>cerr</code>\uff0c<code>clog</code>\u3002<code>cin</code> \u662f <code>istream</code> \u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c<code>cout</code> \u548c\u540e\u9762\u4e24\u4e2a\u662f <code>ostream</code> \u7c7b\u578b\u7684\u5b9e\u4f8b\u3002</p>"},{"location":"Cpp/intro/#_4","title":"\u8f93\u51fa\u6d41","text":"<p>\u8fd8\u662f\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\u5427\uff1a <pre><code>#include&lt;iostream&gt;\nint main() \n{\n    std::cout &lt;&lt; \"hello, world\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre></p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u6253\u5370 hello, world \u5230\u5c4f\u5e55\u4e0a\u3002\u4f46\u662f\u6709\u4e00\u4e9b\u7ec6\u8282\u9700\u8981\u8bf4\u660e\u3002<code>std::cout &lt;&lt; \"hello, world\" &lt;&lt; std::endl</code> \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c<code>&lt;&lt;</code> \u662f\u4e00\u4e2a\u8f93\u51fa\u8fd0\u7b97\u7b26\u3002\uff08\u4ece\u73b0\u5728\u5f00\u59cb\u8981\u8ba4\u8bc6\u5230 <code>cout</code> \u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u4e86\u3002\uff09 </p> <p><code>&lt;&lt;</code> \u8fd0\u7b97\u7b26\u63a5\u53d7\u4e24\u4e2a\u8fd0\u7b97\u5bf9\u8c61\uff0c\u5de6\u4fa7\u7684\u662f\u4e00\u4e2a <code>ostream</code> \u5bf9\u8c61\uff0c\u53f3\u4fa7\u7684\u8fd0\u7b97\u5bf9\u8c61\u662f\u8981\u6253\u5370\u7684\u503c\u3002\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u5c06\u7ed9\u5b9a\u7684\u503c\uff08\u53f3\u4fa7\uff09\u5199\u5165\u5230\u7ed9\u5b9a\u7684 <code>ostream</code> \u5bf9\u8c61\uff08\u5de6\u4fa7\uff09\u4e2d\uff0c\u5c31\u662f\u8bf4\uff0c\u8ba1\u7b97\u7ed3\u679c\u5c31\u662f\u5199\u5165\u7ed9\u5b9a\u503c\u7684\u5de6\u4fa7\u7684 <code>ostream</code> \u5bf9\u8c61\u3002 </p> <p>\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u8868\u8fbe\u5f0f\u5199\u6210 <pre><code>(std::cout &lt;&lt; \"hello, world\") &lt;&lt; std::endl;\n</code></pre></p> <p>\u6216\u8005\u662f <pre><code>std::cout &lt;&lt; \"hello, world\";\nstd::cout &lt;&lt; std::endl;\n</code></pre></p> <p>\u5f97\u5230\u7684\u8f93\u51fa\u90fd\u662f\u76f8\u540c\u7684\u3002</p> <p>\u90a3\u4e48\u8fd9\u4e2a <code>std::endl</code> \u53c8\u662f\u600e\u4e48\u56de\u4e8b\u5462\uff1f<code>endl</code> \u662f\u4e00\u4e2a\u88ab\u79f0\u4e3a\u64cd\u7eb5\u7b26\u7684\u7279\u6b8a\u503c\uff0c\u5b83\u7684\u6548\u679c\u662f\u7ed3\u675f\u5f53\u524d\u884c\uff0c\u5e76\u5c06\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u5168\u90e8\u5237\u65b0\u5230\u8bbe\u5907\u4e2d\uff0c\u6e05\u7a7a\u7f13\u51b2\u533a\u3002</p>"},{"location":"Cpp/intro/#_5","title":"\u8f93\u5165\u6d41","text":"<p>\u4e0a\u9762\u7b80\u5355\u4ecb\u7ecd\u4e86\u4e00\u4e0b\u8f93\u51fa\u6d41\uff0c\u5176\u5b9e\u5bf9\u4e8e\u8f93\u5165\u6d41\u4e5f\u7c7b\u4f3c\u7684\u3002</p> <pre><code>int v1 = 0, v2 = 0;\nstd::cin &gt;&gt; v1 &gt;&gt; v2;\n</code></pre> <p><code>&gt;&gt;</code> \u662f\u8f93\u5165\u8fd0\u7b97\u7b26\uff0c\u63a5\u53d7 istream \u7c7b\u4e3a\u5de6\u4fa7\u8fd0\u7b97\u5bf9\u8c61\uff0c\u5c06\u6570\u636e\u8f93\u5165\u5230\u53f3\u4fa7\u5bf9\u8c61\u4e2d\uff0c\u8fd4\u56de\u5de6\u4fa7\u5bf9\u8c61\u4f5c\u4e3a\u8fd0\u7b97\u7ed3\u679c\u3002<code>&gt;&gt;</code> \u8bfb\u53d6 istream \u7684\u5185\u5bb9\u65f6\uff0c\u8bfb\u5230\u7a7a\u683c\u505c\u6b62\uff08\u548c <code>scanf</code> \u4e00\u6837\uff09\u3002</p> <p>stream \u63d0\u4f9b\u4e86\u4e00\u79cd universal \u7684\u65b9\u5f0f\u6765\u5904\u7406\u8f93\u5165\u8f93\u51fa\u3002</p>"},{"location":"Cpp/intro/#io","title":"IO \u7c7b","text":"<p>\u9664 <code>istream</code> \u548c <code>ostream</code> \u4e4b\u5916\uff0c\u6807\u51c6\u5e93\u8fd8\u5b9a\u4e49\u4e86\u5176\u4ed6\u7684\u4e00\u4e9b IO \u7c7b\u578b\uff0c\u5b9a\u4e49\u5728\u4e09\u4e2a\u72ec\u7acb\u7684\u5934\u6587\u4ef6\u4e2d\uff1a<code>iostream</code> \u5b9a\u4e49\u4e86\u7528\u4e8e\u8bfb\u5199\u6d41\u7684\u57fa\u672c\u7c7b\u578b\uff0c<code>fstream</code> \u5b9a\u4e49\u4e86\u8bfb\u5199\u6587\u4ef6\u7684\u7c7b\u578b\uff0c<code>sstream</code> \u5b9a\u4e49\u4e86\u8bfb\u5199\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684\u7c7b\u578b\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e09\u79cd IO \u7c7b\u578b\u662f\u901a\u8fc7\u7ee7\u627f\u673a\u5236\u5b9e\u73b0\u7684\uff0c\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p><code>stringstream</code>\u548c <code>fstream</code> \u90fd\u662f\u7ee7\u627f\u81ea <code>iostream</code> \u7684\u3002</p> <p>\u5148\u770b\u4e00\u4e2a <code>stringstream</code> \u7684\u4f8b\u5b50\uff1a <pre><code>std::string initial_quote = \"Bjarne Stroustrup C makes it easy to shoot yourself in the foot\"; \n\nstd::stringstream ss;\nss &lt;&lt; initial_quote;\n// stringstream \u4e5f\u53ef\u4ee5\u50cf cout \u90a3\u6837\u7528\u8f93\u51fa\u8fd0\u7b97\u7b26\u6765\u8d4b\u503c\nstd::string first;\nstd::string last;\nstd::string language, extracted_quote;\n\nss &gt;&gt; first &gt;&gt; last &gt;&gt; language;\n// \u53ef\u4ee5\u7528\u8f93\u5165\u8fd0\u7b97\u7b26\u5bf9\u5b57\u7b26\u4e32\u8d4b\u503c\uff0c\u5c31\u50cf cin \u90a3\u6837\uff0c\u6bcf\u4e00\u6b21\u8d4b\u503c\u5230\u7a7a\u683c\u7ed3\u675f\nstd::getline(ss, extracted_quote);\nstd::cout &lt;&lt; first &lt;&lt; \" \" &lt;&lt; last &lt;&lt;\" said this: \" &lt;&lt; language &lt;&lt; \" \" &lt;&lt; extracted_quote &lt;&lt; std::endl;\n</code></pre></p> <p>\u5982\u679c\u76f4\u63a5\u7528\u8f93\u5165\u8fd0\u7b97\u7b26\uff0c\u90a3\u4e48\u5230\u7a7a\u683c\u5c31\u622a\u6b62\u4e86\u3002\u6709\u65f6\u6211\u4eec\u9700\u8981\u8bfb\u5165\u4e00\u6574\u884c\uff0c\u5c31\u50cf\u4e0a\u9762\u7684 <code>extracted_quote</code> \u90a3\u6837\uff0c\u8fd9\u65f6\u5019\u5c31\u8981\u4f7f\u7528 <code>getline</code> \u51fd\u6570\u3002\u6765\u770b\u4e00\u4e0b <code>getline</code> \u51fd\u6570\u7684\u539f\u578b\uff1a</p> <pre><code>istream&amp; getline(istream&amp; is, string&amp; str, char delim)\n</code></pre> <p><code>getline()</code> \u51fd\u6570\u8bfb\u53d6\u4e00\u4e2a\u8f93\u5165\u6d41\u5bf9\u8c61 <code>is</code>\uff0c\u76f4\u5230\u9047\u5230 <code>delim</code>  \u5b57\u7b26\uff0c\u5e76\u5c06\u8bfb\u53d6\u7ed3\u679c\u50a8\u5b58\u5728 <code>str</code> \u4e2d\u3002\u9ed8\u8ba4\u7684 <code>delim</code> \u5c31\u662f\u6362\u884c\u7b26 <code>\\n</code>\u3002\u6ce8\u610f\uff1a<code>getline()</code>  \u51fd\u6570\u4f1a\u6d88\u8017\u6362\u884c\u7b26\u3002</p> <p>\u7136\u540e\u6211\u4eec\u518d\u770b\u4e00\u4e0b\u6587\u4ef6\u6d41\u7684\u4f8b\u5b50\u3002</p> <pre><code>int main() {\n    std::ofstream ofs(\"hello.txt\");\n    if (ofs.is_open()) {\n        ofs &lt;&lt; \"Heloo CS106L!\" &lt;&lt; '\\n';\n    }\n    ofs.close();\n    ofs &lt;&lt; \"this won't get written\";\n\n    ofs.open(\"hello.txt\");\n    ofs &lt;&lt; \"this will though! It\u2019s open again\";\n    return 0;\n}\n</code></pre> <p>\u6587\u4ef6\u6d41\u7684\u8f93\u5165\u8f93\u51fa\u548c IO \u4e5f\u662f\u7c7b\u4f3c\u7684\uff0c\u5c31\u597d\u50cf <code>fprintf</code> \u548c <code>printf</code> \u4e4b\u95f4\u7684\u5173\u7cfb\u4e00\u6837\u3002</p> <p>\u6ce8\u610f\uff0cfstream \u5bf9\u8c61\u5728\u521d\u59cb\u5316\u65f6\u5c31\u5df2\u7ecf\u6253\u5f00\u4e86\u6587\u4ef6\uff08\u5982\u679c\u6587\u4ef6\u5b58\u5728\uff09\uff0c\u4e0d\u8981\u518d <code>fs.open()</code> \u518d\u6253\u5f00\u4e00\u6b21\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4 bug \u51fa\u73b0\u3002</p> <p><pre><code>int main() {\n    std::ofstream ofs(\"hello.txt\");\n    //ofs.open(\"hello.txt\"); \u4e0d\u8981\u8fd9\u6837\uff01\n    if (ofs.is_open()) {\n        ofs &lt;&lt; \"Heloo CS106L!\" &lt;&lt; '\\n';\n    }\n    ofs.close();\n    return 0;\n}\n</code></pre> \u4e0a\u9762\u7684\u4f8b\u5b50\u8f93\u51fa <code>Heloo CS106L!</code></p> <p>\u7136\u540e ofstream \u662f\u8f93\u51fa\u6587\u4ef6\u6d41\uff0c\u76f4\u63a5\u4ece\u6587\u4ef6\u7684\u6700\u5f00\u59cb\u5f00\u59cb\u5199\u5165\uff0c\u8986\u76d6\u6587\u4ef6\u5df2\u6709\u7684\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u50cf fwrite \u90a3\u6837\u5148\u6e05\u7a7a\u3002</p> <p>\u6709\u65f6\u6211\u4eec\u5199\u5165\u4e86\u4e71\u4e03\u516b\u7cdf\u7684\u4e1c\u897f\uff0c\u8981\u5148\u6e05\u7a7a\u7684\u8bdd\uff0c\u5c31\u8981\u4ee5\u7279\u6b8a\u6a21\u5f0f <code>out</code> \u6765\u6253\u5f00\u6587\u4ef6\uff0c\u5373\uff1a <pre><code>std::fstream ofs(\"hello.txt\", std::ios::out | std::ios::trunc);\n</code></pre></p>"},{"location":"Cpp/intro/#_6","title":"\u683c\u5f0f\u5316\u8f93\u51fa","text":"<p>\u4f8b\u5b50\u6284\u81ea\u8fd9\u4e2a\u94fe\u63a5\uff1ahttps://zhuanlan.zhihu.com/p/583649384</p> <p>C++ \u600e\u4e48\u7528 <code>cout</code> \u505a\u5230\u7c7b\u4f3c\u4e8e <code>printf</code> \u7684\u683c\u5f0f\u5316\u8f93\u51fa\u5462\uff1fC++ \u7684 <code>ostream</code> \u5e93\u4e2d\u5b9a\u4e49\u4e86\u5927\u91cf\u7684\u201c\u6d41\u64cd\u7eb5\u7b97\u5b50\u201d\u6765\u63a7\u5236\u8f93\u51fa\u3002\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\uff1a</p>"},{"location":"Cpp/intro/#_7","title":"\u6574\u6570\u4e0d\u540c\u8fdb\u5236\u8f93\u51fa","text":"<p>\u8f93\u51fa\u6574\u6570\u65f6\u7528\u7684\u6d41\u64cd\u7eb5\u7b97\u5b50\u6709 <code>dec</code>\uff0c<code>oct</code>\uff0c<code>hex</code> \u7b49\u7b49\u3002\u5728\u66f4\u6539\u8fdb\u5236\u663e\u793a\u65b9\u5f0f\u4e4b\u540e\uff0c\u7cfb\u7edf\u9ed8\u8ba4\u540e\u9762\u4f7f\u7528\u8be5\u65b9\u5f0f\u663e\u793a\u6570\u636e\uff0c\u5982\u679c\u6709\u663e\u793a\u4e3a\u5176\u4ed6\u8fdb\u5236\u5f62\u5f0f\u7684\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u8fdb\u5236\u663e\u793a\u65b9\u5f0f\u3002</p> <pre><code>cout &lt;&lt; \"cout\u4ee5\u4e0d\u540c\u8fdb\u5236\u663e\u793a\u6574\u6570***********************************************************\" &lt;&lt; endl;\n/*cout\u4ee5\u4e0d\u540c\u8fdb\u5236\u663e\u793a\u6574\u6570*/\ni = 90;\ncout &lt;&lt; \"\u4ee5\u5341\u8fdb\u5236\u663e\u793ai\uff1a\" &lt;&lt; dec &lt;&lt; i &lt;&lt; endl;//\u4ee5\u5341\u8fdb\u5236\u663e\u793a\ncout &lt;&lt; \"\u4ee5\u516b\u8fdb\u5236\u663e\u793ai\uff1a\" &lt;&lt; oct &lt;&lt; i &lt;&lt; endl;//\u4ee5\u516b\u8fdb\u5236\u663e\u793a\ncout &lt;&lt; \"\u4ee516\u8fdb\u5236\u663e\u793ai\uff1a\" &lt;&lt; hex &lt;&lt; i &lt;&lt; endl;//\u4ee516\u8fdb\u5236\u663e\u793a\n//\u5982\u9700\u66f4\u6539\u4e3a\u5341\u8fdb\u5236\u663e\u793a\u65b9\u5f0f\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\ncout.setf(ios_base::dec);\ncout &lt;&lt; \"\u4ee5\u5341\u8fdb\u5236\u663e\u793ai\uff1a\" &lt;&lt; i &lt;&lt; endl &lt;&lt; endl;\n/*bool\u6570\u636e\u7c7b\u578b\u663e\u793a*/\ncout &lt;&lt; \"bool\u6570\u636e\u7c7b\u578b\u663e\u793a\" &lt;&lt; endl;\nbool is_true = true;\ncout.setf(ios_base::boolalpha);//\u53ef\u4ee5\u663e\u793a\u4e3atrue\u6216false\ncout &lt;&lt; \"is_true = \" &lt;&lt; is_true &lt;&lt; endl;\nis_true = false;\ncout &lt;&lt; \"is_true = \" &lt;&lt; is_true &lt;&lt; endl &lt;&lt; endl;\n</code></pre> <p>\u8f93\u51fa\uff1a <pre><code>cout\u4ee5\u4e0d\u540c\u8fdb\u5236\u663e\u793a\u6574\u6570***********************************************************\n\u4ee5\u5341\u8fdb\u5236\u663e\u793ai\uff1a90\n\u4ee5\u516b\u8fdb\u5236\u663e\u793ai\uff1a132\n\u4ee516\u8fdb\u5236\u663e\u793ai\uff1a5a\n\u4ee5\u5341\u8fdb\u5236\u663e\u793ai\uff1a90\n\nbool\u6570\u636e\u7c7b\u578b\u663e\u793a\nis_true = true\nis_true = false\n</code></pre></p>"},{"location":"Cpp/intro/#_8","title":"\u8bbe\u7f6e\u5bbd\u5ea6","text":"<p><code>cout</code> \u4f7f\u7528 <code>width</code> \u65b9\u6cd5\u53ef\u4ee5\u8bbe\u7f6e\u5bbd\u5ea6\u3002<code>width()</code> \u53ea\u5f71\u54cd\u4e0b\u4e00\u6b21\u7684cout\uff0c\u7136\u540e\u5b57\u6bb5\u5bbd\u5ea6\u5c06\u6062\u590d\u9ed8\u8ba4\u503c\u3002C++ \u4e0d\u4f1a\u622a\u65ad\u6570\u636e\uff0c\u5982\u679c\u663e\u793a\u5b57\u6bb5\u5bbd\u5ea6\u5c0f\u4e8e\u6570\u5b57\u5bbd\u5ea6\uff0cC++ \u5c06\u589e\u5bbd\u5b57\u6bb5\uff0c\u4ee5\u5bb9\u7eb3\u8be5\u6570\u636e\uff0c\u5982\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>cout &lt;&lt; \"width()***************************************************************************\" &lt;&lt; endl;\nint w = cout.width(30);\ncout &lt;&lt; \"default field width = \" &lt;&lt; w &lt;&lt; \":\\n\";\ncout.width(5);\ncout &lt;&lt; \"N\" &lt;&lt; ':';\ncout.width(8);\ncout &lt;&lt; \"N * N\" &lt;&lt; \":\\n\";\nfor (long i = 1; i &lt;= 100; i *= 10)\n{\n    cout.width(5);\n    cout &lt;&lt; i &lt;&lt; ':';\n    cout.width(8);\n    cout &lt;&lt; i * i &lt;&lt; \":\\n\";\n}\ncout.width(5);\ncout &lt;&lt; 9.888889999 &lt;&lt; endl;//\u5c06\u4e0d\u4f1a\u622a\u65ad\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c</p> <pre><code>width()***************************************************************************\n        default field width = 0:\n    N:   N * N:\n    1:       1:\n   10:     100:\n  100:   10000:\n9.88889\n</code></pre>"},{"location":"Cpp/intro/#_9","title":"\u66f4\u6539\u586b\u5145\u5b57\u7b26","text":"<p><code>fill()</code> \u65b9\u6cd5\u66f4\u6539\u7a7a\u4f4d\u586b\u5145\u7684\u5b57\u7b26\uff08\u9ed8\u8ba4\u662f\u7a7a\u683c\uff09\uff0c\u4e5f\u662f\u5168\u5c40\u8bbe\u5b9a\uff0c\u66f4\u6539\u540e\u7cfb\u7edf\u90fd\u7528\u8fd9\u4e2a\u5b57\u7b26\u586b\u5145\u3002</p> <pre><code>cout &lt;&lt; \"\u66f4\u6539\u586b\u5145\u5b57\u7b26****************************************************************************\" &lt;&lt; endl;\ncout.fill('*');\nconst char* staff[2] = { \"Waldo Whipsnade\", \"Wilmarie Wooper\" };\nlong bonus[2] = { 900, 1350 };\nfor (int i = 0; i &lt; 2; i++)\n{\n    cout &lt;&lt; staff[i] &lt;&lt; \": $\";\n    cout.width(7);\n    cout &lt;&lt; bonus[i] &lt;&lt; \"\\n\";\n}\n</code></pre> <p>\u8f93\u51fa\uff1a <pre><code>\u66f4\u6539\u586b\u5145\u5b57\u7b26****************************************************************************\nWaldo Whipsnade: $****900\nWilmarie Wooper: $***1350\n</code></pre></p>"},{"location":"Cpp/intro/#_10","title":"\u66f4\u6539\u663e\u793a\u7cbe\u5ea6","text":"<p><code>precision</code> \u65b9\u6cd5\u53ef\u4ee5\u66f4\u6539\u663e\u793a\u7cbe\u5ea6\uff0c\u4e5f\u662f\u5168\u5c40\u8bbe\u7f6e\u3002</p> <pre><code>cout &lt;&lt; \"\u8bbe\u7f6e\u5c0f\u6570\u663e\u793a\u7cbe\u5ea6\uff1aprecision()***********************************************************\" &lt;&lt; endl;\ndouble j = 3333.1415926;\n/*\u8bbe\u7f6e\u663e\u793a\u6709\u6548\u6570\u5b57\u4f4d\u6570*/\ncout &lt;&lt; \"\u9ed8\u8ba4\u60c5\u51b5\u663e\u793a(6\u4f4d)\uff1a\" &lt;&lt; j &lt;&lt; endl;//\u8f93\u51fa\u6d6e\u70b9\u6570\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4fdd\u7559\u516d\u4f4d\u6709\u6548\u6570\u5b57\ncout.precision(9);//\u53ef\u4ee5\u4f7f\u7528cout.precision(n)\u8bbe\u7f6e\u8f93\u51fa\u6d6e\u70b9\u6570\u65f6\u4fdd\u7559n\u4f4d\u6709\u6548\u6570\u5b57\ncout &lt;&lt; \"\u8bbe\u7f6e\u6709\u6548\u6570\u5b57\u4f4d\u6570\u4e3a9\u4f4d\u65f6\uff1a\" &lt;&lt; j &lt;&lt; endl;\ncout.precision(3);//\u5f53\u6709\u6548\u6570\u5b57\u4f4d\u6570\u5c0f\u4e8e\u6574\u6570\u6709\u6548\u6570\u5b57\u4f4d\u6570\u65f6\uff0c\u4f7f\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u663e\u793a\ncout &lt;&lt; \"\u8bbe\u7f6e\u6709\u6548\u6570\u5b57\u4f4d\u6570\u4e3a3\u4f4d\u65f6\uff1a\" &lt;&lt; j &lt;&lt; endl &lt;&lt; endl;\n</code></pre> <p>\u8f93\u51fa <pre><code>\u8bbe\u7f6e\u5c0f\u6570\u663e\u793a\u7cbe\u5ea6\uff1aprecision()***********************************************************\n\u9ed8\u8ba4\u60c5\u51b5\u663e\u793a(6\u4f4d)\uff1a3333.14\n\u8bbe\u7f6e\u6709\u6548\u6570\u5b57\u4f4d\u6570\u4e3a9\u4f4d\u65f6\uff1a3333.14159\n\u8bbe\u7f6e\u6709\u6548\u6570\u5b57\u4f4d\u6570\u4e3a3\u4f4d\u65f6\uff1a3.33e+03\n</code></pre></p> <p>\u603b\u7684\u6765\u8bf4\u611f\u89c9\u8fd8\u662f <code>printf()</code> \u597d\u7528\uff1f\u4f46\u662f\u4eba\u8981\u5b66\u4f1a\u63a5\u53d7\u65b0\u4e8b\u7269\u3002</p>"},{"location":"Cpp/intro/#lecture-5-containers","title":"Lecture 5: Containers","text":"<p>Container \u5bb9\u5668\uff0c\u5c31\u662f\u5bf9\u8c61\u7684\u96c6\u5408\u3002\u66f4\u51c6\u786e\u7684\u8bf4\uff0ccontainer is an object that allows us to collect other objects together and interact with them in some way.</p> <p>\u6211\u4eec\u7528\u8fc7\u7684 <code>vectors</code>\uff0c<code>stacks</code>\uff0c<code>queues</code> \u90fd\u662f\u6240\u8c13\u7684 container \u7c7b\u578b\u3002\u5df2\u7ecf\u6bd4\u8f83\u719f\u6089\u4e86\uff0c\u4e0b\u9762\u5c31\u53ea\u7b80\u5355\u4ecb\u7ecd <code>vector</code>\u3002</p> <p><pre><code>vector&lt;string&gt; v{\"hello\", \"hi\", \"qq\"}; //\u521d\u59cb\u5316\nv.push_pack(\"va\"); //\"va\"\u6dfb\u52a0\u5230vector\u7684\u6700\u540e\nv.empty(); //v \u662f\u5426\u4e3a\u7a7a\nv.size(); //\u5143\u7d20\u4e2a\u6570\nv[n]; //\u7b2cn\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5143\u7d20\u5f15\u7528\nv1 = v2; // v2 \u4e2d\u7684\u5143\u7d20\u62f7\u8d1d\u66ff\u6362v1\u4e2d\u7684\u5143\u7d20\nv1 = {a,b,c ...} //\u5217\u8868\u4e2d\u7684\u5143\u7d20\u62f7\u8d1d\u66ff\u6362v1\u4e2d\u7684\u5143\u7d20\nv1 == v2; //\u5143\u7d20\u6570\u91cf\u548c\u5143\u7d20\u503c\u662f\u5426\u76f8\u540c\nv1 != v2; \nv1 &lt; v2; //\u5b57\u5178\u987a\u5e8f\u6bd4\u8f83\n</code></pre> \u6ce8\u610f\uff0c\u4e0b\u6807\u8fd0\u7b97\u7b26\u53ea\u80fd\u8bbf\u95ee\u5df2\u5b58\u5728\u7684\u5143\u7d20\uff0c\u800c\u4e0d\u80fd\u7528\u4e8e\u6dfb\u52a0\u5143\u7d20\u3002 <pre><code>vector&lt;int&gt; ivec;\nfor(int ix=0;ix&lt;10;ix++)\n    ivec[ix] = ix; //\u4e25\u91cd\u9519\u8bef\n</code></pre> \u6b63\u786e\u7684\u662f <pre><code>vector&lt;int&gt; ivec;\nfor(int ix=0;ix&lt;10;ix++)\n    ivec.push_back(ix) = ix; \n</code></pre></p>"},{"location":"Cpp/intro/#lecture-6-iterators-and-pointers","title":"Lecture 6: Iterators and Pointers","text":"<p>\u8981\u8bbf\u95ee\u5bb9\u5668\u4e2d\u7684\u5bf9\u8c61\uff0c\u9664\u4e86\u7528\u4e0b\u6807\u8fd0\u7b97\u7b26\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 iterator\uff08\u8fed\u4ee3\u5668\uff09\u5b9e\u73b0\u3002\u800c\u4e14\uff0c\u5927\u90e8\u5206\u6807\u51c6\u5e93\u5bb9\u5668\u90fd\u652f\u6301\u8fed\u4ee3\u5668\uff08\u9664\u4e86 stack \u548c queue \u4ee5\u5916\uff09\uff0c\u4f46\u662f\u53ea\u6709\u5c11\u6570\u51e0\u79cd\u8fd8\u540c\u65f6\u652f\u6301\u4e0b\u6807\u8fd0\u7b97\u7b26\u3002</p> <p>\u5bf9\u4e00\u4e2a\u5bb9\u5668\u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>begin</code> \u548c <code>end</code> \u83b7\u5f97\u8fed\u4ee3\u5668\u3002<code>begin</code> \u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c<code>end</code> \u6307\u5411\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u3002</p> <pre><code>auto b = v.begin(), e = v.end();\n</code></pre> <p>\u8fed\u4ee3\u5668\u652f\u6301\u7684\u8fd0\u7b97\u5982\u4e0b\uff1a <pre><code>*iter; //\u8fd4\u56de\u8fed\u4ee3\u5668\u6240\u6307\u5143\u7d20\u7684\u5f15\u7528\niter-&gt;mem; //\u76f8\u5f53\u4e8e(*iter).mem\n++iter; //\u8ba9\u8fed\u4ee3\u5668\u6307\u793a\u5bb9\u5668\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\n--iter; //\u8ba9\u8fed\u4ee3\u5668\u6307\u793a\u5bb9\u5668\u7684\u4e0a\u4e00\u4e2a\u5143\u7d20\niter + n; // \u5411\u540e/\u5411\u524d\u79fb\u52a8 n \u4e2a\u5143\u7d20\niter1==iter2;\niter1!=iter2;\n//\u5224\u65ad\u4e24\u4e2a\u8fed\u4ee3\u5668\u662f\u5426\u76f8\u7b49\uff1a\u662f\u5426\u6307\u793a\u540c\u4e00\u4e2a\u5143\u7d20\u6216\u8005\u662f\u540c\u4e00\u4e2a\u5bb9\u5668\u7684\u5c3e\u540e\u8fed\u4ee3\u5668\niter1-iter2; //\u6bd4\u8f83\u4e24\u4e2a\u8fed\u4ee3\u5668\u7684\u8ddd\u79bb\niter1&lt;iter2; //\u5224\u65ad\u5148\u540e\u4f4d\u7f6e\n</code></pre></p> <p>\u5982\u4f55\u83b7\u5f97 container \u91cc\u9762\u7684\u5143\u7d20\uff1f\u4e0b\u9762\u63d0\u4f9b\u4e00\u4e2a\u793a\u4f8b\uff1a</p> <pre><code>std::map&lt;int,int&gt;{{1,6},{2,8},{0,3},{3,9}};\nfor(auto iter = map.begin();iter != map.end();iter++) {\n    const auto&amp; [key, value] = *iter;\n}\n</code></pre> <p>\u4e0a\u9762\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u8fed\u4ee3\u5668\u7684\u7528\u6cd5\u5f88\u50cf\u6307\u9488\u3002\u90a3\u4e48\u5b83\u548c\u6307\u9488\u6709\u4ec0\u4e48\u8054\u7cfb\u548c\u533a\u522b\u5417\uff1f</p> <p>https://www.geeksforgeeks.org/difference-between-iterators-and-pointers-in-c-c-with-examples/</p> <p>\u9996\u5148\u8981\u77e5\u9053\uff0c\u8fed\u4ee3\u5668\u5e76\u4e0d\u662f\u6307\u9488\uff0c\u5b83\u7684\u7c7b\u578b\u662f\u8fd9\u6837\u7684\uff1a <pre><code>std::vector&lt;int&gt;::iterator it1;\nstd::string::iterator it2;\n\nstd::vector&lt;int&gt;::const_iterator it3;\nstd::string::const_iterator it4;\n</code></pre> iterator \u7c7b\u578b\u7684\u5143\u7d20\u53ef\u8bfb\u53ef\u5199\uff0cconst_iterator \u7c7b\u578b\u7684\u5143\u7d20\u53ea\u8bfb\u3002https://www.geeksforgeeks.org/const-vs-regular-iterators-in-c-with-examples/?ref=ml_lbp</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fed\u4ee3\u5668\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u5305\u542b\u6bd4\u5730\u5740\u66f4\u591a\u7684\u4e1c\u897f\uff0c\u800c\u6307\u9488\u53ea\u5305\u542b\u5730\u5740\u3002</p> <p>\u6307\u9488\u901a\u8fc7\u81ea\u589e\u3001\u81ea\u51cf\u53ef\u4ee5\u904d\u5386\u8fde\u7eed\u5730\u5740\u7a7a\u95f4\u7684\u5143\u7d20\uff1b\u7136\u800c\u6709\u4e00\u4e9b\u5bb9\u5668\uff0c\u5b83\u7684\u5143\u7d20\u7684\u5730\u5740\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u8fed\u4ee3\u5668\u7684\u81ea\u589e\u548c\u81ea\u51cf\u4ecd\u7136\u53ef\u4ee5\u904d\u5386\uff0c\u8fd9\u5c31\u8bf4\u660e\u4e86\u8fed\u4ee3\u5668\u5305\u542b\u7684\u4e0d\u4ec5\u4ec5\u662f\u5730\u5740\u3002</p> <p>\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c\u8fed\u4ee3\u5668\u662f\u6307\u9488\u7684\u9ad8\u7ea7\u62bd\u8c61\u3002</p>"},{"location":"Cpp/intro/#lecture-7-class","title":"Lecture 7: Class","text":"<p>\u6765\u5230\u6700\u91cd\u8981\u7684\u90e8\u5206\u4e86\u3002\uff08\u8bdd\u8bf4\u4f60\u7684\u5f62\u5bb9\u8bcd\u9664\u4e86\u91cd\u8981\u80fd\u4e0d\u80fd\u6362\u70b9\u522b\u7684\uff09\uff08rewarding \u548b\u6837\uff09</p> <p>\u6211\u4eec\u5df2\u7ecf\u5728 python \u548c Java \u4e2d\u90fd\u4f7f\u7528\u8fc7 Class \u4e86\u3002C++ \u4e2d\u7684\u5199\u6cd5\u548c\u7279\u6027\u53c8\u6709\u6240\u4e0d\u540c\uff08\u601d\u60f3\u8fd8\u662f\u4e00\u6837\u7684\uff09\u3002</p> <p>\u7c7b\u7684\u58f0\u660e\u653e\u5728\u540c\u540d\u7684\u5934\u6587\u4ef6\uff08.h \u6587\u4ef6\uff09\u4e2d\uff0c\u7c7b\u7684\u5b9a\u4e49\u653e\u5728\u540c\u540d\u7684 .cpp \u6587\u4ef6\u4e2d\u3002</p> <p>\u4e0b\u9762\u662f\u7c7b\u7684\u58f0\u660e\uff1a <pre><code>// Student.h\nclass Student {\nprivate:\n    std::string name;\n    std::string state;\n    int age;\n\npublic:\n    Student();\n    Student(std::string name, std::string state, int age);\n    ~Student();\n    std::string getName();\n    std::string getState();\n    int getAge();\n\n    void setName(std::string name);\n    void setState(std::string state);\n    void setAge(int state);\n};\n</code></pre></p> <p>\u7136\u540e\u662f\u7c7b\u7684\u5b9a\u4e49\uff08\u5b9e\u73b0\uff09\uff1a <pre><code>// Student.cpp\n#include \"Student.h\"\n\n// constructor\n// \u9700\u8981\u540d\u5b57\u7a7a\u95f4\uff0c\u540d\u5b57\u7a7a\u95f4\u548c\u7c7b\u540d\u76f8\u540c\nStudent::Student(std::string name, std::string state, int age) {\n    this-&gt;name = name;\n    this-&gt;state = state;\n    this-&gt;age = age;\n}\n\n// \u51fd\u6570\u91cd\u8f7d\nStudent::Student() {\n    name = \"John\";\n    state = \"Appleseed\";\n    age = 18;\n}\n\n// Destructor\nStudent::~Student(){}; \n\n\nstd::string Student::getName() {\n    return this-&gt;name;\n}\n\nstd::string Student::getState() {\n    return this-&gt;state;\n}\n\nint Student::getAge() {\n    return this-&gt;age;\n}\n\nvoid Student::setName(std::string name) { this-&gt;name = name; }\n\nvoid Student::setState(std::string state) { this-&gt;state = state; }\n\nvoid Student::setAge(int age) { \n  if ( age &gt;= 0) {\n    this-&gt;age = age;\n  }\n}\n</code></pre></p> <p>\u4e0a\u9762\u5c31\u662f\u4e00\u4e2a\u5b8c\u6574\u7684 Student \u7c7b\u5b9e\u73b0\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u3002\u6ce8\u610f, \u6709\u591a\u79cd\u65b9\u5f0f\u4f7f\u7528\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316\u4e00\u4e2a\u65b0\u7684\u7c7b.</p> <pre><code>Student s = Student(\"Haven\", \"AR\", 21); // \u6700\u57fa\u672c\u7684, \u663e\u5f0f\u8c03\u7528\u6784\u9020\u51fd\u6570\nauto s1 = Student(); // \u53ef\u4ee5\u7528 auto, \u8ba9\u7f16\u8bd1\u5668\u6765\u51b3\u5b9a\nStudent s2{\"Peter\",\"kka\",22}; // uniform initialization, \u597d\u7528\u7231\u7528\nStudent s3(\"Ama\", \"lo\", 12); // \u9690\u5f0f\u8c03\u7528\u6784\u9020\u51fd\u6570\nStudent* p = new Student(\"Prata\", \"TE\", 67); // \u7528 new, \u8fd4\u56de\u4e00\u4e2a\u6307\u9488\u6765\u7ba1\u7406\u7c7b\ncout &lt;&lt; s.getAge()&lt;&lt; a &lt;&lt; endl;\ns1.setName(\"Jack\");\ncout &lt;&lt; s.getName() &lt;&lt; s1.getName() &lt;&lt; s2.getName() &lt;&lt; s3.getName() &lt;&lt; p-&gt;getName() &lt;&lt; endl;\n</code></pre> <p>\u7136\u540e\u518d\u6765\u770b\u4e00\u4e0b C++ \u662f\u600e\u4e48\u5b9e\u73b0\u7ee7\u627f\u7684\uff0c\u4e5f\u5f88\u7b80\u5355\uff1a</p> <pre><code>class Shape {\npublic:\n    virtual double area() const = 0;\n};\n\nclass Circle : public Shape {\nprivate:\n    double _radius;\n    Circle(double radius): _radius{radius} {};\n    double area() const {\n        return 3.14 * _radius * _radius;\n    }\n};\n</code></pre> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5728 C++ \u4e2d\uff0c\u7c7b\u7684\u672c\u8d28\u662f struct\u3002\uff08TODO \u9605\u8bfb C++ primer\uff09</p>"},{"location":"Cpp/intro/#lecture-8-template-classes-and-const-correctness","title":"Lecture 8: Template Classes and Const Correctness","text":""},{"location":"Cpp/intro/#template-class","title":"Template Class","text":"<p>\u6a21\u7248\u6709\u4ec0\u4e48\u4f5c\u7528? \u4e4b\u524d\u5728\u5b66\u6570\u636e\u7ed3\u6784\u8bfe\u7684\u65f6\u5019, \u5199\u4e86\u4e00\u4e2a stack. \u7136\u540e\u90a3\u4e2a stack \u53ea\u80fd\u5b58\u50a8 int \u7c7b\u578b\u7684. \u7ed3\u679c\u9ebb\u70e6\u6765\u4e86, \u8fc7\u4e86\u51e0\u5929, \u8981\u5b58\u50a8 double \u7c7b\u578b\u4e86, \u518d\u8fc7\u51e0\u5929, \u8981\u5b58\u50a8\u5b57\u7b26\u4e32\u4e86. \u90a3\u8be5\u600e\u4e48\u529e\u5462? \u53ea\u80fd\u590d\u5236\u4e00\u4efd, \u7136\u540e\u628a\u91cc\u9762\u7684\u7c7b\u578b\u90fd\u6539\u6389\u5417? \u6a21\u677f\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u800c\u8bde\u751f\u7684.</p> <pre><code>class IntContainer {\npublic:\n    IntContainer(int val);\n    int getValue();\n\nprivate:\n    int value;\n};\n</code></pre> <p>\u5148\u770b\u4e0a\u9762\u7684\u4ee3\u7801, \u8fd9\u4e2a\u7c7b\u662f\u4e0d\u662f\u5c31\u78b0\u5230\u4e86\u4e0a\u9762\u7684\u95ee\u9898\u5462, \u53ea\u80fd\u50a8\u5b58 <code>int</code> \u7c7b\u578b\u7684\u53d8\u91cf. \u7136\u540e\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684\u7c7b\u6a21\u677f\u662f\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898.</p> <pre><code>// Container.hh\ntemplate &lt;typename T&gt;\nclass Container {\npublic:\n    Container (T val);\n    T getValue();\n\nprivate:\n    T value;\n};\n</code></pre> <p>\u7136\u540e\u518d\u6765\u770b\u4e00\u4e0b cpp \u600e\u4e48\u5b9e\u73b0 <pre><code>//Container.cpp\n#include \"Container.hh\"\n\ntemplate &lt;class T&gt;\nContainer&lt;T&gt;::Container(T val) {\n    this-&gt;value = val;\n}\n\ntemplate &lt;typename T&gt;\nT Container&lt;T&gt;::getValue() {\n    return value;\n}\n</code></pre></p> <p>\u5728\u6a21\u7248\u58f0\u660e\u65f6, <code>typename</code> \u548c <code>class</code> \u4e24\u4e2a\u5173\u952e\u5b57\u53ef\u4ee5\u4e92\u6362.</p> <p>\u4f60\u76f4\u63a5\u62ff\u53bb\u8fd0\u884c, \u7ed3\u679c\u53d1\u73b0\u62a5\u9519\u4e86, \u600e\u4e48\u56de\u4e8b? \u8fd9\u5c31\u662f C++ \u795e\u91d1\u7684\u5730\u65b9\u4e86. \u4e0b\u9762\u7684\u94fe\u63a5\u7ed9\u51fa\u4e86\u4e00\u4e9b\u7b54\u6848.</p> <p>https://blog.csdn.net/amnesiagreen/article/details/108575310</p> <p>http://www.uml.org.cn/c++/20112284.asp</p> <p>\u901a\u5e38\u60c5\u51b5\u4e0b, \u6211\u4eec\u4f1a\u628a\u7c7b\u7684\u5b9a\u4e49\u548c\u65b9\u6cd5\u7684\u58f0\u660e\u653e\u5728 .h \u6587\u4ef6\u4e2d, \u628a\u65b9\u6cd5\u7684\u5b9a\u4e49\u653e\u5728 .cpp \u6587\u4ef6\u4e2d. \u4f46\u662f\u5bf9\u4e8e\u4e0a\u9762\u7684\u7c7b\u6a21\u677f, \u8fd9\u6837\u505a\u5c31\u4e0d\u884c\u4e86. \u56e0\u4e3a\u5f53\u5b9e\u4f8b\u5316\u4e00\u4e2a\u6a21\u677f\u65f6\uff0c\u7f16\u8bd1\u5668\u5fc5\u987b\u770b\u5230\u6a21\u677f\u786e\u5207\u7684\u5b9a\u4e49\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u5b83\u7684\u58f0\u660e\u3002 \u56e0\u6b64\uff0c\u6700\u597d\u7684\u529e\u6cd5\u5c31\u662f\u5c06\u6a21\u677f\u7684\u58f0\u660e\u548c\u5b9a\u4e49\u90fd\u653e\u7f6e\u5728\u540c\u4e00\u4e2a.h\u6587\u4ef6\u4e2d\u3002 \u53e6\u5916, STL \u5e93\u597d\u50cf\u5c31\u662f\u8fd9\u4e48\u5e72\u7684. (\u6709\u6bd2)</p> <p>\u53e6\u5916, \u7ecf\u8fc7\u6d4b\u8bd5, \u7f16\u8bd1\u5668\u5bf9\u4e8e\u6a21\u7248\u662f\u4f1a\u8fdb\u884c\u7279\u6b8a\u5904\u7406\u7684, \u5c06\u5b9a\u4e49\u548c\u58f0\u660e\u653e\u5728\u4e00\u8d77\u5e76\u4e0d\u4f1a\u5bfc\u81f4\u91cd\u5b9a\u4e49\u7684\u7f16\u8bd1\u9519\u8bef.</p> <p>\u94fe\u63a5\u4e2d\u8fd8\u63d0\u5230\u4e86 <code>export</code> \u5173\u952e\u5b57\u7684\u65b9\u6cd5, \u8fd9\u4e2a\u5df2\u7ecf\u8fc7\u65f6\u4e86, \u5c31\u4e0d\u8981\u4f7f\u7528\u4e86.</p>"},{"location":"Cpp/intro/#const-correctness","title":"Const Correctness","text":"<p><code>const</code> \u5176\u5b9e\u6709\u5f88\u591a\u7684\u7ec6\u8282\u8981\u6ce8\u610f\u7684. \u4e0b\u9762\u5c31\u8bb2\u89e3\u9664\u4e86\u4fee\u9970\u5e38\u91cf\u7c7b\u578b\u4ee5\u5916, \u53e6\u5916\u7684\u7528\u6cd5.</p>"},{"location":"Cpp/intro/#_11","title":"\u4ecb\u7ecd","text":"<pre><code>// Student.h\nclass Student {\nprivate:\n    std::string name;\n    std::string state;\n    int age;\n\npublic:\n    Student();\n    Student(std::string name, std::string state, int age);\n    ~Student();\n    std::string getName();\n    std::string getState();\n    int getAge();\n\n    void setName(std::string name);\n    void setState(std::string state);\n    void setAge(int state);\n};\n</code></pre> <p>\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a\u51fd\u6570 <pre><code>std::string stringify(const Student&amp; s) {\n    return s.getName() + \" is \" + std::to_string(s.getAge()) + \" years old.\";\n}\n</code></pre> \u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570, \u7f16\u8bd1\u5668\u4f1a\u62a5\u9519! \u4f60\u77e5\u9053\u4e3a\u4ec0\u4e48\u5417? \u5c31\u5728\u5173\u952e\u5b57 <code>const</code>. \u5982\u679c\u4e00\u4e2a\u53c2\u6570\u524d\u9762\u58f0\u660e\u4e86 <code>const</code>, \u5c31\u8868\u793a\u5b83\u662f\u5e38\u91cf, \u90a3\u4e48\u5c31\u8981\u4fdd\u8bc1, \u5728\u8fd0\u884c\u7684\u6574\u4e2a\u8fc7\u7a0b, \u8fd9\u4e2a\u53c2\u6570\u90fd\u4e0d\u80fd\u6539\u53d8. \u4f46\u662f\u76ee\u524d, \u7f16\u8bd1\u5668\u4e0d\u80fd\u786e\u5b9a <code>s.getName()</code> \u548c <code>s.getAge()</code> \u4f1a\u5426\u6539\u53d8 <code>s</code>. </p> <p>\u90a3\u4e48\u8be5\u600e\u4e48\u529e\u5462? \u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u5728\u65b9\u6cd5\u91cc\u4e5f\u58f0\u660e <code>const</code>, \u6765\u4fdd\u8bc1\u6211\u4eec\u4e0d\u4f1a\u6539\u53d8\u8fd9\u4e2a\u53c2\u6570, \u5982\u4e0b\u6240\u793a: <pre><code>// Student.h\nclass Student {\nprivate:\n    std::string name;\n    std::string state;\n    int age;\n\npublic:\n    Student();\n    Student(std::string name, std::string state, int age);\n    ~Student();\n    std::string getName() const;\n    std::string getState() const;\n    int getAge() const;\n\n    void setName(std::string name);\n    void setState(std::string state);\n    void setAge(int state);\n};\n</code></pre></p> <p>\u7136\u540e\u5728\u65b9\u6cd5\u7684\u5b9a\u4e49\u91cc\u9762\u4e5f\u8bb0\u5f97\u6539: <pre><code>std::string Student::getName() const {\n    return this-&gt;name;\n}\n\nstd::string Student::getState() const {\n    return this-&gt;state;\n}\n\nint Student::getAge() const {\n    return this-&gt;age;\n}\n</code></pre></p> <p>\u7b80\u800c\u8a00\u4e4b, \u5c31\u662f Objects that are const can only interact with the const-interface, which is the functions don't modify the object of the class.  \u88ab const \u4fee\u9970\u7684\u5bf9\u8c61, \u53ea\u80fd\u88ab const \u63a5\u53e3\u8c03\u7528</p> <p>const \u4fee\u9970\u7c7b\u6210\u5458\u51fd\u6570\uff0c\u5176\u76ee\u7684\u662f\u9632\u6b62\u6210\u5458\u51fd\u6570\u4fee\u6539\u88ab\u8c03\u7528\u5bf9\u8c61\u7684\u503c\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u4fee\u6539\u4e00\u4e2a\u8c03\u7528\u5bf9\u8c61\u7684\u503c\uff0c\u6240\u6709\u7684\u6210\u5458\u51fd\u6570\u90fd\u5e94\u5f53\u58f0\u660e\u4e3a const \u6210\u5458\u51fd\u6570\u3002</p>"},{"location":"Cpp/intro/#_12","title":"\u4e00\u4e2a\u4f8b\u5b50","text":"<p>\u7136\u540e\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u795e\u91d1\u7684\u4f8b\u5b50: <code>const T&amp; data() const { return data_; }</code> (\u4f8b\u5b50\u6765\u81eahttps://stackoverflow.com/questions/16449889/why-using-the-const-keyword-before-and-after-method-or-function-name)</p> <p>\u4e3b\u8981\u662f\u8981\u641e\u6e05\u695a\u4e24\u4e2a <code>const</code> \u7684\u533a\u522b.</p> <p>\u7b2c\u4e00\u4e2a <code>const</code> \u5c31\u662f\u548c\u4e4b\u524d\u4e00\u6837, \u8868\u793a\u8fd4\u56de\u7684\u662f\u5e38\u91cf\u7c7b\u578b. \u8fd9\u91cc\u662f <code>T</code> \u7684\u5f15\u7528. \u5e38\u91cf\u53ea\u80fd\u7ed9\u5e38\u91cf\u7c7b\u578b\u521d\u59cb\u5316, \u5426\u5219\u4f1a\u5bfc\u81f4\u9519\u8bef. \u5982\u4e0b\u4f8b\u5b50\u6240\u793a:</p> <pre><code>Class c;\nT&amp; t = c.get_data()        ;     // Not allowed.\nconst T&amp; tc = c.get_data() ;     // OK.\n</code></pre> <p>\u7b2c\u4e8c\u4e2a <code>const</code> \u662f\u4eca\u5929\u6240\u5b66, \u662f\u4e00\u79cd\u58f0\u660e, \u58f0\u660e\u8fd9\u4e2a\u7c7b\u65b9\u6cd5\u51fd\u6570\u7edd\u5bf9\u4e0d\u4f1a\u6539\u53d8\u7c7b\u4e2d\u7684\u5185\u5bb9, \u662f\u4e00\u4e2a const interface. \u5982\u4e0b\u4f8b\u5b50\u6240\u793a: <pre><code>void Class::get_data() const {\n   this-&gt;data_ = ...;  // is not allowed here since get_data() is const (unless 'data_' is mutable)\n   this-&gt;anything = ... // Not allowed unless the thing is 'mutable'\n}\n</code></pre> (<code>mutable</code> \u662f\u4ec0\u4e48\u5173\u952e\u5b57, \u4e0b\u6b21\u518d\u8bf4\u5427...)</p>"},{"location":"Cpp/intro/#const-casting","title":"const casting","text":"<p>\u5076\u5c14\u4e5f\u8bb8\u5728\u88ab const \u7c7b\u578b\u4fee\u9970\u7684\u7c7b\u65b9\u6cd5\u51fd\u6570\u91cc, \u8981\u8c03\u7528\u90a3\u4e9b\u6ca1\u6709 const \u4fdd\u8bc1\u7684\u51fd\u6570, \u6b64\u65f6\u8be5\u600e\u4e48\u505a\u5462? \u5f53\u7136\u662f\u7528 C \u4e2d\u81ed\u540d\u662d\u8457\u7684 casting (\u7c7b\u578b\u8f6c\u6362) \u4e86. \u89c1\u4e0b\u9762\u4f8b\u5b50:</p> <pre><code>int&amp; findItem(int value) {\n    for (auto&amp; elem: arr) {\n        if (elem == value) \n            return elem;\n    }\n    throw std::out_of_range(\"not found\");\n}\n\nconst int&amp; findItem(int value) const {\n    return const_cast&lt;IntArray&gt;(*this).findItem(value);\n}\n</code></pre> <p>\u5230\u8fd9\u91cc, \u5e94\u8be5\u611f\u53d7\u5230 C++ \u7684\u590d\u6742\u6027\u4e86.</p>"},{"location":"Cpp/intro/#lecture-9-template-function","title":"Lecture 9: Template Function","text":"<p>\u4e0a\u4e00\u7ae0\u8bb2\u4e86\u7c7b\u6a21\u677f, \u8fd9\u4e00\u7ae0\u770b\u4e00\u4e0b\u51fd\u6570\u6a21\u677f.</p> <p>\u6a21\u7248\u51fd\u6570\u7684\u5199\u6cd5\u7c7b\u4f3c:</p> <pre><code>template &lt;typename Type&gt;\nType myMin(Type a, Type b) {\n    return a &lt; b ? a : b;\n}\n</code></pre> <p>\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u9700\u8981\u6307\u5b9a <code>Type</code>:</p> <pre><code>cout &lt;&lt; myMin&lt;int&gt;(3, 4) &lt;&lt; endl;\n</code></pre> <p>\u5f53\u7136\u4e5f\u6709\u5077\u61d2\u7684\u529e\u6cd5, \u53eb template argument deduction, \u8ba9\u7f16\u8bd1\u5668\u6765\u63a8\u65ad\u7c7b\u578b</p> <pre><code>template &lt;typename T, typename U&gt;\nauto smarterMyMin(T a, U b) {\n    return a &lt; b ? a : b; \n}\n\ncout &lt;&lt; smarterMyMin(3.2, 4) &lt;&lt; endl;\n</code></pre> <p>\u7f16\u8bd1\u5668\u4e3a\u6211\u4eec\u786e\u5b9a\u6a21\u7248\u7c7b\u578b\u7684\u8fc7\u7a0b\u79f0\u4e3a\u6a21\u677f\u7684\u5b9e\u4f8b\u5316. \u76f4\u5230\u5b9e\u4f8b\u5316\u65f6, \u624d\u4f1a\u751f\u6210\u4ee3\u7801</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f, All algorithms are fully generic, templated functions in the STL algorithm library!</p>"},{"location":"Cpp/intro/#lecture-10-functions-and-lambdas","title":"Lecture 10: Functions and Lambdas","text":"<p>\u8fd9\u4e00\u8282\u8bfe\u7684\u4e3b\u8981\u5185\u5bb9\u5c31\u662f, \u51fd\u6570\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570, \u53ef\u4e0d\u53ef\u4ee5? \u90fd\u5b66\u5230\u8fd9\u4efd\u4e0a\u4e86, \u5c31\u522b\u88c5\u4e86, \u5f53\u7136\u662f\u53ef\u4ee5\u7684, \u7528\u51fd\u6570\u6307\u9488\u5c31\u53ef\u4ee5\u8f7b\u677e\u5b8c\u6210. \u56de\u8c03\u51fd\u6570\u4e0d\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684\u51fd\u6570\u53c2\u6570\u5417.</p> <p>OK, \u770b\u4e0b\u9762\u7684\u4f8b\u5b50, \u51fd\u6570\u6307\u9488\u4f5c\u4e3a\u6a21\u7248\u51fd\u6570\u7684\u53c2\u6570:</p> <pre><code>template&lt;typename InputIt, typename Unipred&gt;\nint count_occurences(InputIt begin, InputIt end, Unipred pred) {\n    int count = 0;\n    for (auto iter = begin; iter != end; ++iter) {\n        if (pred(*iter)) {\n            count++;\n        }\n    }\n    return count;\n}\n\nbool isVowel(char c)\n{\n    std::string vowels = \"aeiou\";\n    return vowels.find(c) != std::string::npos;\n}\n\nint main()\n{\n    std::string str = \"Peter\";\n    std::cout &lt;&lt; \"number of vowel is: \" &lt;&lt; count_occurences(str.begin(), str.end(), isVowel) &lt;&lt; \"\\n\";\n}\n</code></pre> <p>\u4f46\u662f, \u6211\u4eec\u4ecd\u7136\u8fd8\u4e0d\u592a\u6ee1\u610f. \u5982\u679c\u9884\u6d4b\u51fd\u6570 <code>pred</code> \u662f\u8981\u548c\u67d0\u4e00\u4e2a\u503c\u6bd4\u5927\u5c0f\u5462? \u8981 <code>isMorethan3</code>, <code>isMorethan4</code>, <code>isMorethan5</code>... \u8fd9\u6837\u5b50\u5417? \u4e00\u79cd\u65b9\u6cd5\u662f\u4fee\u6539\u51fd\u6570\u4e3a\u4e8c\u53c2\u6570\u51fd\u6570\u5c31\u884c, \u4f46\u662f\u6709\u65f6\u5199\u4ee3\u7801\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u4e3a\u4e86\u5f15\u51fa\u4e3b\u89d2, lambda.</p> <p>Lambdas are inline, anonymous functions that can know about variables declared in their same scope.</p> <p>Lambda \u51fd\u6570\u7684\u5f62\u5f0f\u5982\u4e0b: <pre><code>auto var = [capture-clause] (auto param) -&gt; returntype\n{\n    ...\n}\n</code></pre></p> <p>[] \u4e2d\u63d0\u4f9b\u5916\u90e8\u53c2\u6570, param \u5c31\u662f\u51fd\u6570\u53c2\u6570, {} \u4e2d\u662f\u51fd\u6570\u4e3b\u4f53, var \u6307\u5411 lambda \u51fd\u6570\u7684\u9996\u5730\u5740. -&gt; \u540e\u662f\u6307\u5b9a\u7684\u8fd4\u56de\u7c7b\u578b, \u82e5 lambda \u8868\u8fbe\u5f0f\u5305\u542b\u9664 return \u4e4b\u5916\u7684\u8bed\u53e5\u5219\u5fc5\u987b\u6307\u5b9a, \u5426\u5219\u9ed8\u8ba4\u8fd4\u56de void \u7c7b\u578b.</p> <p>\u4e3e\u4e2a\u4f8b\u5b50, </p> <pre><code>int limit = 5;\nauto isMoreThan = [limit] (int n) { return n &gt; limit; };\n// isMoreThan(4) is true\n\nstd::vector&lt;int&gt; nums = {3, 5, 6, 7, 9, 13};\ncount_occurences(nums.begin(), nums.end(), isMoreThan);\n</code></pre>"},{"location":"Cpp/intro/#lecture-11-operators-overloading","title":"Lecture 11: Operators Overloading","text":"<p>\u8fd9\u8282\u8bfe\u4ecb\u7ecd\u4e00\u4e0b C++ \u4e2d\u7684\u8fd0\u7b97\u7b26\u91cd\u8f7d.</p>"},{"location":"Cpp/intro/#1","title":"1. \u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<p>\u4e00\u822c\u6765\u8bf4, \u8fd0\u7b97\u7b26\u7528\u4e8e\u57fa\u672c\u6570\u636e\u7c7b\u578b. \u4f46\u662f\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u91cd\u8f7d, \u5c06\u8fd0\u7b97\u7b26\u4f5c\u7528\u4e8e\u7c7b\u7c7b\u578b\u7684\u8fd0\u7b97\u5bf9\u8c61.</p> <p>C++ \u4e2d\u5927\u90e8\u5206\u7684\u8fd0\u7b97\u7b26\u90fd\u53ef\u4ee5\u91cd\u8f7d, \u4f5c\u4e3a\u7b14\u8bb0, \u5c31\u4e0d\u8be6\u7ec6\u4ecb\u7ecd\u53cd\u4f8b\u4e86.</p> <p>\u7c7b\u672c\u8eab\u662f\u4e0d\u652f\u6301\u67d0\u4e9b\u8fd0\u7b97\u7b26\u7684, \u4f46\u662f\u6211\u4eec\u53ea\u8981\u6dfb\u52a0\u4e00\u4e2a\u8fd0\u7b97\u7b26\u7684\u6210\u5458\u51fd\u6570, \u5c31\u53ef\u4ee5\u4f7f\u5b83\u652f\u6301\u4e86.</p> <p>\u4e3e\u4f8b, \u770b\u4e0b\u9762\u7684 Time \u7c7b.</p> <pre><code>//mytime2.hh\n#ifndef MYTIME2\n#define MYTIME2\nclass Time\n{\nprivate:\n    int hours;\n    int minutes;\npublic:\n    Time();\n    Time(int h, int m = 0);\n    Time operator+(const Time &amp;t) const;\n    Time operator-(const Time &amp;t) const;\n    Time operator*(double mult) const;\n    void Reset(int h=0, int m=0);\n    void Show() const;\n};\n#endif\n\n//mytime2.cpp\n#include &lt;iostream&gt;\n#include \"mytime2.hh\"\n\nTime::Time()\n{\n    hours = minutes = 0;\n}\n\nTime::Time(int h, int m)\n{\n    hours = h;\n    minutes = m;\n}\n\nTime Time::operator+(const Time &amp;t) const\n{\n    Time sum;\n    sum.minutes = minutes + t.minutes;\n    sum.hours = hours + t.hours + sum.minutes / 60;\n    sum.minutes %= 60;\n    return sum;\n\n}\n\nTime Time::operator-(const Time &amp;t) const\n{\n    // Omit\n    Time diff = Time();\n    return diff; \n}\n\nTime Time::operator*(double mult) const\n{\n    //Omit\n    return Time();\n}\n\nvoid Time::Show() const\n{\n    std::cout &lt;&lt; hours &lt;&lt; \" hours, \" &lt;&lt; minutes &lt;&lt; \" minutes\" &lt;&lt; std::endl;\n}\n\n//main.cpp\n#include &lt;iostream&gt;\n#include \"mytime2.hh\"\nint main(int, char**){\n    Time atime(4 ,35);\n    Time btime(2, 47);\n    Time total, diff, adjust;\n    total = atime + btime;\n    diff = atime - btime;\n    adjust = atime * 1.5;\n    total.Show();\n    diff.Show();\n    adjust.Show();\n    return 0;\n}\n</code></pre> <p>\u4e0a\u9762\u6211\u4eec\u5c06 +, - , * \u4e09\u4e2a\u64cd\u4f5c\u7b26, \u4f5c\u4e3a\u7c7b\u7684\u6210\u5458\u51fd\u6570(member function), \u8fdb\u884c\u4e86\u91cd\u8f7d, \u4ece\u800c\u5b9e\u73b0\u4e86\u65f6\u95f4\u7684\u52a0\u51cf\u4e58\u65b9\u6cd5.</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f, \u8fd9\u91cc\u64cd\u4f5c\u7b26\u6700\u7ec8\u7684\u884c\u4e3a\u5c31\u662f\u51fd\u6570\u7684\u8c03\u7528, \u6bd4\u5982, <code>atime * 1.5</code> \u76f8\u5f53\u4e8e <code>atime.operator*(1.5)</code>. \u6240\u4ee5\u60f3\u4e00\u60f3\u5c31\u77e5\u9053, \u4e0d\u80fd\u5199\u6210 <code>1.5 * atime</code> \u7684\u5f62\u5f0f, \u56e0\u4e3a\u5de6\u4fa7\u7684\u64cd\u4f5c\u6570\u5e94\u8be5\u662f\u8c03\u7528\u5bf9\u8c61, \u800c <code>1.5</code> \u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61. \u6240\u4ee5, \u4e0a\u9762\u7684\u65b9\u6cd5\u8fd8\u6709\u5c40\u9650\u6027, \u4e0b\u9762\u5c06\u4ecb\u7ecd\u5229\u7528\u53cb\u5143, \u8fdb\u884c\u975e\u6210\u5458\u51fd\u6570\u7684\u8fd0\u7b97\u7b26\u91cd\u8f7d.</p>"},{"location":"Cpp/intro/#2","title":"2. \u53cb\u5143","text":"<p>\u975e\u6210\u5458\u51fd\u6570\u7684\u8fd0\u7b97\u7b26\u91cd\u8f7d\u9700\u8981\u7528\u5230\u53cb\u5143\u7684\u6982\u5ff5. \u4e00\u4e2a\u53cb\u5143\u51fd\u6570\u5728\u7c7b\u58f0\u660e\u4e2d\u7528\u5173\u952e\u5b57 <code>friend</code> \u58f0\u660e, \u8868\u793a\u5b83\u4e0d\u662f\u4e00\u4e2a\u6210\u5458\u51fd\u6570, \u4f46\u662f\u548c\u6210\u5458\u51fd\u6570\u6709\u76f8\u540c\u7684\u8bbf\u95ee\u6743\u9650.</p> <p>\u4ecd\u7136\u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\u4e3a\u4f8b:</p> <p>\u521b\u5efa\u4e58\u6cd5\u7684\u53cb\u5143\u51fd\u6570\u58f0\u660e: <pre><code>friend Time operator*(double m, const Time &amp; t);\n</code></pre></p> <p>\u521b\u5efa\u51fd\u6570\u5b9a\u4e49. \u6ce8\u610f, \u7531\u4e8e\u4e0d\u662f\u6210\u5458\u51fd\u6570, \u6240\u4ee5\u4e0d\u8981\u4f7f\u7528 <code>Time::</code> \u9650\u5b9a\u7b26. \u53e6\u5916, \u4e0d\u8981\u5728\u5b9a\u4e49\u4e2d\u4f7f\u7528\u5173\u952e\u5b57 <code>friend</code>, \u5982\u4e0b\u6240\u793a: <pre><code>Time operator*(double m, const Time&amp; t)\n{\n    Time result;\n    long tm = t.hours * m * 60 + t.minutes * m;\n    result.hours = tm / 60;\n    result.minutes = tm % 60;\n    return result;\n}\n</code></pre></p> <p>\u6ce8\u610f\u770b\u4e0a\u9762\u7684\u5b9a\u4e49, \u5982\u679c <code>oprator*</code> \u4e0d\u662f\u4e00\u4e2a\u53cb\u5143\u51fd\u6570, \u90a3\u4e48\u5b83\u4e0d\u80fd\u8bbf\u95ee <code>hours</code> \u548c <code>minutes</code> \u6210\u5458, \u56e0\u4e3a\u5b83\u4eec\u90fd\u662f <code>private</code> \u7c7b\u578b\u7684. \u4f46\u662f\u6211\u4eec\u5728\u58f0\u660e\u4e2d\u7528 <code>friend</code> \u58f0\u660e\u4e86\u5b83\u662f\u7c7b\u7684\u53cb\u5143, \u4e8e\u662f\u5c31\u6709\u4e86\u548c\u7c7b\u6210\u5458\u76f8\u540c\u7684\u8bbf\u95ee\u6743\u9650.</p> <p>\u8fd9\u6837, <code>1.5 * atime</code> \u5c31\u7b49\u4ef7\u4e8e <code>operator*(1.5, atime)</code>.</p> <p>\u7136\u540e\u518d\u770b\u4e00\u4e2a\u4f8b\u5b50, \u91cd\u8f7d\u8f93\u51fa\u8fd0\u7b97\u7b26, \u7531\u4e8e <code>ostream</code> \u7c7b\u5fc5\u5b9a\u5728\u5de6\u8fb9, \u6240\u4ee5\u80af\u5b9a\u4e5f\u662f\u8981\u7528\u975e\u6210\u5458\u51fd\u6570\u7684. \u91cd\u8f7d\u8f93\u51fa\u8fd0\u7b97\u7b26, \u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u6309\u6211\u4eec\u60f3\u8981\u7684\u65b9\u5f0f\u7528 <code>cout</code> \u8f93\u51fa\u7c7b\u4e86.</p> <pre><code>// declaration\nfriend std::ostream&amp; operator&lt;&lt; (std::ostream &amp; out, const Time&amp; time);\n\n// definition\nstd::ostream&amp; operator&lt;&lt; (std::ostream &amp; out, const Time&amp; time)\n{\n    return out &lt;&lt; \"operator overload time: \" &lt;&lt; time.hours &lt;&lt; \":\" &lt;&lt; time.minutes &lt;&lt; \"\\n\";\n}\n</code></pre>"},{"location":"Cpp/intro/#lecture-12-special-member-function","title":"Lecture 12: Special Member Function","text":"<p>C++ \u7684\u7c7b\u6709\u4e00\u4e9b\u7279\u6b8a\u6210\u5458\u51fd\u6570, \u5c31\u7b97\u6211\u4eec\u4e0d\u76f4\u63a5\u5b9a\u4e49, \u7f16\u8bd1\u5668\u4e5f\u4f1a\u5e2e\u6211\u4eec\u76f4\u63a5\u5408\u6210. \u8fd9\u6837\u7684\u6210\u5458\u51fd\u6570\u5305\u62ec:</p> <ul> <li>default constructor \u9ed8\u8ba4\u6784\u9020\u51fd\u6570</li> <li>copy constructor \u62f7\u8d1d\u6784\u9020\u51fd\u6570</li> <li>copy assignment operator \u62f7\u8d1d\u590d\u5236\u8fd0\u7b97\u7b26</li> <li>destructor \u6790\u6784\u51fd\u6570</li> <li>move constructor \u79fb\u52a8\u6784\u9020\u51fd\u6570</li> <li>move assignment operator \u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26</li> </ul> <p>\u5b83\u4eec\u5bf9\u5e94\u7684\u5f62\u5f0f\u5982\u4e0b:</p> <pre><code>class Widget {\npublic:\n    Widget();\n    Widget(const Widget&amp; w);\n    Widget&amp; operator=(const Widget&amp; w);\n    ~Widget();\n    Widget(Widget&amp;&amp; rhs);\n    Widget&amp; operator=(Widget&amp;&amp; rhs);\n}\n</code></pre> <p>\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684. \u53ea\u6709\u5728\u4f60\u6ca1\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u7684\u65f6\u5019, \u7f16\u8bd1\u5668\u624d\u4f1a\u5408\u6210\u9ed8\u8ba4\u6784\u9020\u51fd\u6570, \u5426\u5219\u662f\u4e0d\u4f1a\u5408\u6210\u7684. \u53ef\u4ee5\u7528 <code>default</code> \u548c <code>delete</code> \u5173\u952e\u5b57\u6765\u663e\u5f0f\u7684\u8bf4\u660e\u8981\u4e0d\u8981\u4f7f\u7528\u5408\u6210\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570. \u5bf9\u5176\u4ed6\u7684\u7279\u6b8a\u6210\u5458\u51fd\u6570\u4e5f\u9002\u7528. (\u6ce8\u610f, \u6790\u6784\u51fd\u6570\u4e0d\u80fd\u7528 delete, \u4e0d\u7136\u65e0\u6cd5\u91ca\u653e\u7a7a\u95f4)</p> <pre><code>class Widget{\npublic:\n    Widget() = default; // use\n    Widget() = delete; // not use\n    ...\n};\n</code></pre> <p>\u5bf9\u4e8e\u62f7\u8d1d, \u8d4b\u503c\u548c\u6790\u6784, \u6211\u4eec\u8fd8\u662f\u770b\u770b\u4e0b\u9762\u7684\u4f8b\u5b50, \u7b80\u5355\u7406\u89e3\u4e00\u4e0b\u5427.</p> <p><pre><code>using std::vector;\nvector&lt;int&gt; fun(vector&lt;int&gt; vec0) {\n    vector&lt;int&gt; vec1;\n    vector&lt;int&gt; vec2(3);\n    vector&lt;int&gt; vec3{3};\n    vector&lt;int&gt; vec4();\n    vector&lt;int&gt; vec5(vec2);\n    vector&lt;int&gt; vec{vec3 + vec4};\n    vector&lt;int&gt; vec8 = vec4;\n    vec8 = vec2;\n    return vec8;\n}\n</code></pre> \u4ece vec0 \u5f00\u59cb, vec0 \u662f\u51fd\u6570\u5f62\u53c2, \u62f7\u8d1d\u6784\u9020\u5f97\u5230, \u62f7\u8d1d\u6784\u9020\u51fd\u6570\u6784\u9020\u7684\u662f\u65b0\u5bf9\u8c61, \u5185\u5bb9\u548c\u539f\u5bf9\u8c61\u76f8\u540c\u4f46\u662f\u662f\u4e24\u4e2a\u4e0d\u540c\u5bf9\u8c61. vec1 \u662f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570. vec2, vec3 \u662f\u81ea\u5b9a\u4e49\u6784\u9020\u51fd\u6570. vec4 \u662f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570. vec5, vec \u662f\u62f7\u8d1d\u6784\u9020\u51fd\u6570. vec8 \u662f\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26, \u5b83\u6307\u5411\u7684\u5bf9\u8c61\u548c vec2 \u6216\u8005 vec4 \u76f8\u540c, \u662f\u540c\u4e00\u4e2a\u5bf9\u8c61. \u6ce8\u610f, <code>return vec8</code> \u4e5f\u662f\u8c03\u7528\u4e86\u62f7\u8d1d\u6784\u9020\u51fd\u6570, \u5c06 vec8 \u7684\u503c\u5199\u5230\u5bf9\u5e94\u7684\u5185\u5b58\u4e2d. \u6700\u540e\u51fd\u6570\u7ed3\u675f, \u6240\u6709\u5c40\u90e8\u53d8\u91cf\u5bf9\u8c61\u90fd\u4f7f\u7528\u6790\u6784\u51fd\u6570\u9500\u6bc1.</p> <p>TODO: \u8003\u8651\u4e00\u4e0b, \u8fd4\u56de\u7ed3\u6784\u4f53\u4e0d\u80fd\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\u4e2d, \u662f\u600e\u4e48\u8fd4\u56de\u7684\u5462? \u6211\u611f\u89c9\u5927\u6982\u662f\u76f4\u63a5\u4fdd\u5b58\u5230\u4e0a\u4e00\u4e2a\u51fd\u6570\u6808\u7684\u67d0\u4e00\u4e2a\u4f4d\u7f6e.</p> <p>\u6709\u7684\u65f6\u5019, \u6211\u4eec\u4e0d\u6ee1\u8db3\u4e8e\u9ed8\u8ba4\u7684\u62f7\u8d1d\u51fd\u6570\u800c\u8981\u81ea\u5df1\u91cd\u8f7d\u4e00\u4e2a, \u8fd9\u662f\u53ef\u4ee5\u7684. \u60f3\u60f3\u6709\u54ea\u4e9b\u60c5\u51b5\u5462? </p> <p>\u5bf9\u4e8e\u7279\u6b8a\u6210\u5458\u51fd\u6570\u7684\u91cd\u8f7d, \u6709\u89c4\u52190: \"If the default operations work, then don't define your own.\" \u548c\u89c4\u52193: \"If you explicitly define a copy constructor, copy assignment operator, or destructor, you should define all three.\"</p>"},{"location":"Cpp/intro/#lecture-13-move-semantics","title":"Lecture 13: Move Semantics","text":"<p>\u4e0b\u9762\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u7279\u6b8a\u6210\u5458\u51fd\u6570\u4e2d\u7684\u79fb\u52a8\u6784\u9020\u51fd\u6570\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u5373 move \u7c7b\u578b\u7684\u3002</p> <p>stackoverflow \u4e2d\u6709\u5f88\u597d\u7684\u4f8b\u5b50\uff1ahttps://stackoverflow.com/questions/3106110/what-is-move-semantics?newreg=7ef8506e56544c8492d025934de2b2d0</p> <p>\u8981\u4ecb\u7ecd\u79fb\u52a8\uff0c\u9996\u5148\u4ece\u5de6\u503c\u548c\u53f3\u503c\u5f00\u59cb\u3002\u5de6\u503c\u53ef\u4ee5\u653e\u5728\u8d4b\u503c\u8bed\u53e5\u7684\u5de6\u8fb9\u6216\u53f3\u8fb9\uff0c\u53f3\u503c\u53ea\u80fd\u653e\u5728\u8d4b\u503c\u8bed\u53e5\u7684\u53f3\u8fb9\u3002\u66f4\u6df1\u5c42\u6b21\u7684\u8003\u8651\u662f\uff1a\u5de6\u503c\u7684\u5bf9\u8c61\u5b58\u50a8\u5728\u5185\u5b58\u533a\u57df\u4e2d\uff0c\u6301\u4e45\u5b58\u5728\uff1b\u53f3\u503c\u7684\u53d8\u91cf\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u6570\u503c\uff0c\u662f\u4e34\u65f6\u7684\u3002</p> <p>\u7ee7\u7eed\u4ecb\u7ecd\u4e00\u4e0b\u5f15\u7528\u3002</p> <p>\u4e4b\u524d C++ \u4e2d\u63d0\u5230\u7684\u5f15\u7528\uff0c<code>std::string&amp; ref;</code> \u662f\u5de6\u503c\u5f15\u7528\uff0c\u5fc5\u987b\u6307\u5411\u4e00\u4e2a\u5de6\u503c\u3002</p> <p>\u800c <code>&amp;&amp;</code> \u662f\u53f3\u503c\u5f15\u7528\uff0c\u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u53f3\u503c\uff0c<code>std::string&amp;&amp; rrstr;</code>\u3002</p> <p>\u8fd9\u6837\u7684\u5f15\u7528\uff0c\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u79fb\u52a8\u8bed\u4e49\u3002\u6765\u770b\u770b C++ \u7684\u79fb\u52a8\u51fd\u6570\uff0c<code>std::move()</code>\u3002</p> <pre><code>typename std::remove_reference&lt;T&gt;::type&amp;&amp; move(T&amp;&amp; t) noexcept;\n</code></pre> <p>\u5b83\u5c06\u4f20\u5165\u7684\u5bf9\u8c61\u8f6c\u6362\u4e3a\u4e00\u4e2a\u53f3\u503c\u5f15\u7528\uff0c\u8fd9\u4f7f\u5f97\u4f20\u5165\u7684\u5bf9\u8c61\u6210\u4e3a\u4e86\u4e00\u4e2a\u4e34\u65f6\u53d8\u91cf\uff0c\u5728\u8d4b\u503c\u7ed3\u675f\u540e\u5c31\u88ab\u9500\u6bc1\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u79fb\u52a8\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>int main() {\nvector&lt;string&gt; vec1 = {\"hello\", \"world\"}\nvector&lt;string&gt; vec2 = std::move(vec1);\nvec1.push_back(\"Sure hope vec2 doesn\u2019t see this!\") // error\n}\n</code></pre> <p>\u5728 <code>move()</code> \u88ab\u8c03\u7528\u540e\uff0c<code>vec1</code> \u6210\u4e3a\u4e34\u65f6\u53d8\u91cf\uff0c\u8d4b\u503c\u540e\u968f\u5373\u91ca\u653e\uff0c\u6545\u7b2c\u4e09\u53e5\u4ee3\u7801\u5c31\u4f1a\u62a5\u9519\u3002</p>"},{"location":"Cpp/intro/#lecture-14-stdoptional-type-safety","title":"Lecture 14: std::optional, Type Safety","text":""},{"location":"Cpp/intro/#1-stdoptional","title":"1. std::optional","text":"<p><code>std::optional</code> \u662f C++17 \u4e2d\u5f15\u5165\u7684\u4e00\u4e2a\u7279\u6027\u3002</p>"},{"location":"Cpp/intro/#lecture-15-smart-pointers","title":"Lecture 15: Smart Pointers","text":"<p>\u8fd9\u4e00\u7ae0\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u667a\u80fd\u6307\u9488\u3002C++ \u4e2d\u7684\u667a\u80fd\u6307\u9488\u662f\u600e\u4e48\u56de\u4e8b\u5462\uff1fC \u8bed\u8a00\u4e2d\u5982\u679c\u5fd8\u8bb0\u91ca\u653e\u5185\u5b58\uff0c\u5c31\u53ef\u80fd\u9020\u6210\u5185\u5b58\u6cc4\u9732\u3002\u4e8e\u662f C++ \u5c31\u63d0\u4f9b\u4e86\u667a\u80fd\u6307\u9488\uff0c\u6765\u81ea\u52a8\u91ca\u653e\u7ba1\u7406\u7684\u5bf9\u8c61\u3002\u667a\u80fd\u6307\u9488\u5305\u62ec\u4e09\u79cd\u6307\u9488\uff1a</p> <ul> <li><code>shared_ptr</code>\uff1a\u5141\u8bb8\u591a\u4e2a\u6307\u9488\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61</li> <li><code>unique_ptr</code>\uff1a\u72ec\u5360\u6240\u6307\u5411\u7684\u5bf9\u8c61</li> <li><code>weak_ptr</code>\uff1a\u4e00\u79cd\u5f31\u5f15\u7528\uff0c\u6307\u5411 <code>shared_ptr</code> \u7ba1\u7406\u7684\u5bf9\u8c61</li> </ul> <p>\u8fd9\u4e09\u79cd\u6307\u9488\u5b9a\u4e49\u5728 <code>memory</code> \u5934\u6587\u4ef6\u4e2d\u3002\u4e0b\u9762\u4e3b\u8981\u4ee5 <code>shared_ptr</code> \u4e3a\u4f8b\u5b50\u8bb2\u89e3\u3002</p>"},{"location":"Cpp/intro/#1-shared_ptr","title":"1. shared_ptr","text":"<p>\u548c <code>vector</code> \u4e00\u6837\uff0c\u667a\u80fd\u6307\u9488\u4e5f\u662f\u6a21\u677f\u7c7b\u3002\u56e0\u6b64\u521b\u5efa\u667a\u80fd\u6307\u9488\u65f6\uff0c\u5fc5\u987b\u63d0\u4f9b\u6307\u9488\u6307\u5411\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff1a</p> <pre><code>shared_ptr&lt;string&gt; p1;\nshared_ptr&lt;list&lt;int&gt;&gt; p2;\n</code></pre> <p>\u667a\u80fd\u6307\u9488\u7684\u4f7f\u7528\u65b9\u5f0f\u548c\u666e\u901a\u6307\u9488\u7c7b\u4f3c\uff0c\u89e3\u5f15\u7528\u8fd4\u56de\u5176\u6307\u5411\u7684\u5bf9\u8c61\u3002</p> <pre><code>if (p1 &amp;&amp; p1-&gt;empty())\n    *p1 = \"hi\";\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528 <code>make_shared</code> \u51fd\u6570\u6765\u521d\u59cb\u5316\u667a\u80fd\u6307\u9488\uff0c\u5206\u914d\u5185\u5b58\u3002<code>make_shared</code> \u662f\u4e00\u4e2a\u6a21\u677f\u51fd\u6570\uff0c\u51fd\u6570\u540d\u540e\u8ddf\u4e00\u4e2a\u5c16\u62ec\u53f7\u7ed9\u51fa\u53c2\u6570\u7c7b\u578b\u3002</p> <pre><code>shared_ptr&lt;int&gt; p3 = make_shared&lt;int&gt;(42);\nshared_ptr&lt;string&gt; p4 = make_shared&lt;string&gt;(10, '9');\nauto p6 = make_shared&lt;vector&lt;string&gt;&gt;();\n</code></pre> <p>\u667a\u80fd\u6307\u9488\u901a\u8fc7\u8ba1\u6570\u5668\u6765\u7ba1\u7406\u4f55\u65f6\u91ca\u653e\u5185\u5b58\u3002\u6bcf\u5f53\u8fdb\u884c\u62f7\u8d1d\u548c\u8d4b\u503c\u64cd\u4f5c\u65f6\uff0c<code>shared_ptr</code> \u90fd\u4f1a\u8bb0\u5f55\u6709\u591a\u5c11\u4e2a\u5176\u4ed6 <code>shared_ptr</code> \u6307\u5411\u76f8\u540c\u7684\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u8ba1\u6570\u79f0\u4e3a\u5f15\u7528\u8ba1\u6570\u3002\u5f53\u6211\u4eec\u62f7\u8d1d\uff08\u5982\u521d\u59cb\u5316\u3001\u53c2\u6570\u4f20\u9012\u3001\u51fd\u6570\u8fd4\u56de\uff09\u4e00\u4e2a <code>shared_ptr</code> \u65f6\uff0c\u5176\u8ba1\u6570\u9012\u589e\uff0c\u53cd\u4e4b\u6211\u4eec\u7ed9\u5176\u8d4b\u503c\u6216\u8005\u9500\u6bc1\uff08\u5982\u79bb\u5f00\u4f5c\u7528\u57df\uff09\uff0c\u90a3\u4e48\u8ba1\u6570\u5668\u5c31\u4f1a\u9012\u51cf\u3002\u5f53\u4e00\u4e2a <code>shared_ptr</code> \u7684\u8ba1\u6570\u5668\u53d8\u4e3a 0 \u7684\u65f6\u5019\uff0c\u5b83\u5c31\u4f1a\u81ea\u52a8\u91ca\u653e\u81ea\u5df1\u7ba1\u7406\u7684\u5bf9\u8c61\u3002</p> <pre><code>auto p = make_shared&lt;int&gt;(42);\nauto q(p);\n</code></pre> <p><code>p</code> \u548c <code>q</code> \u6307\u5411\u76f8\u540c\u5bf9\u8c61\uff0c\u6b64\u5bf9\u8c61\u6709\u4e24\u4e2a\u5f15\u7528\u8005\u3002</p> <pre><code>auto r = make_shared&lt;int&gt;(42);\nr = q;\n</code></pre> <p>\u73b0\u5728 <code>q</code> \u6307\u5411\u7684\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u518d\u52a0 1\uff0c\u800c <code>r</code> \u539f\u5148\u6307\u5411\u7684\u5bf9\u8c61\u6ca1\u6709\u5f15\u7528\u8005\uff0c\u4e8e\u662f\u81ea\u52a8\u91ca\u653e\u3002</p> <p>\u7528\u667a\u80fd\u6307\u9488\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u8fdb\u884c\u5bf9\u6bd4\u3002</p> <p>\u4e0d\u4f7f\u7528\u667a\u80fd\u6307\u9488\uff0c\u7528\u4f20\u7edf\u65b9\u5f0f\u5206\u914d\u5185\u5b58\uff1a</p> <pre><code>void f() {\n    Node* n = new Node;\n    // do sth\n    delete n;\n}\n</code></pre> <p>\u4f7f\u7528\u667a\u80fd\u6307\u9488\uff1a</p> <pre><code>void f() {\n    std::unique_ptr&lt;Node&gt; n(new Node);\n    // do sth\n    // automatically freed n\n}\n</code></pre> <p>\u770b\u4f3c\u4e24\u8005\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u5982\u679c\u8003\u8651\u591a\u7ebf\u7a0b\u7684\u60c5\u51b5\u5c31\u4e0d\u4e00\u6837\u4e86\u3002\u53ef\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u8c03\u7528\u7684\u65f6\u5019\u89e6\u53d1\u4e86\u5f02\u5e38\u9000\u51fa\u4e86\uff0c\u5982\u679c\u662f\u524d\u9762\u4f20\u7edf\u7684\u65b9\u5f0f\uff0c\u5c31\u65e0\u6cd5\u6267\u884c <code>delete n</code>\uff0c\u800c\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732\u3002\u800c\u667a\u80fd\u6307\u9488\uff0c\u5728\u53d8\u91cf\u79bb\u5f00\u4f5c\u7528\u57df\u65f6\u5c31\u4f1a\u81ea\u52a8\u91ca\u653e\u5185\u5b58\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u667a\u80fd\u6307\u9488\u5229\u7528\u4e86 RALL\uff08Resource Acquisition is Initialization\uff09\u7684\u601d\u60f3\u3002\u5177\u4f53\u6765\u8bf4\u6709\u4e24\u70b9\uff1a\u5728\u521d\u59cb\u5316\u540e\u83b7\u5f97\u8d44\u6e90\uff0c\u79bb\u5f00\u4f5c\u7528\u57df\u65f6\u7acb\u523b\u91ca\u653e\u8d44\u6e90\uff0c\u907f\u514d\u4e2d\u95f4\u6001\u7684\u4ea7\u751f\u3002\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u9501\u8bbe\u8ba1\u4e5f\u7528\u5230\u8fd9\u4e2a\u601d\u60f3\u3002\uff08\u539f\u5b50\u5316\u601d\u60f3\uff09</p> <pre><code>void f_lock() {\n    lock();\n    //do sth\n    unlock();\n}\n</code></pre> <pre><code>void f_lock() {\n    lock_guard();\n    //do sth\n    //if exception throws, unlock\n}\n</code></pre> <p>\u5982\u679c\u6709\u4e00\u4e2a\u7ebf\u7a0b\u7a81\u7136\u9000\u51fa\uff0c\u6309\u524d\u8005\u7684\u65b9\u5f0f\u5c06\u5bfc\u81f4\u9501\u6c38\u8fdc\u65e0\u6cd5\u5173\u95ed\uff0c\u5bfc\u81f4\u5176\u4ed6\u7ebf\u7a0b\u65e0\u6cd5\u8fdb\u5165\u4e34\u754c\u533a\u3002\u800c\u540e\u8005\u89e3\u51b3\u4e86\u8fd9\u4e00\u95ee\u9898\u3002</p> <p>\u4e0b\u9762\u662f copilot \u7ed9\u51fa\u7684\u4e00\u6bb5\u667a\u80fd\u6307\u9488\u7684\u4f8b\u7a0b\uff0c\u4e0d\u5f97\u4e0d\u611f\u6168\u5927\u6a21\u578b\u7684\u5f3a\u5927\u4e86\uff0c\u5199\u7684\u4ee3\u7801\u4e5f\u662f\u975e\u5e38\u7684\u6613\u61c2\u597d\u7528\uff01\u751a\u81f3\u8fde <code>move</code> \u90fd\u641e\u6e05\u695a\u4e86\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\nclass MyClass {\npublic:\n    MyClass() {\n        std::cout &lt;&lt; \"MyClass Constructor\" &lt;&lt; std::endl;\n    }\n    ~MyClass() {\n        std::cout &lt;&lt; \"MyClass Destructor\" &lt;&lt; std::endl;\n    }\n    void display() {\n        std::cout &lt;&lt; \"Hello from MyClass\" &lt;&lt; std::endl;\n    }\n};\n\nvoid uniquePtrExample() {\n    std::unique_ptr&lt;MyClass&gt; ptr1 = std::make_unique&lt;MyClass&gt;();\n    ptr1-&gt;display();\n\n    // std::unique_ptr\u4e0d\u80fd\u88ab\u590d\u5236\uff0c\u4f46\u53ef\u4ee5\u88ab\u79fb\u52a8\n    std::unique_ptr&lt;MyClass&gt; ptr2 = std::move(ptr1);\n    if (!ptr1) {\n        std::cout &lt;&lt; \"ptr1 is now nullptr\" &lt;&lt; std::endl;\n    }\n    ptr2-&gt;display();\n}\n\nvoid sharedPtrExample() {\n    std::shared_ptr&lt;MyClass&gt; ptr1 = std::make_shared&lt;MyClass&gt;();\n    {\n        std::shared_ptr&lt;MyClass&gt; ptr2 = ptr1;\n        std::cout &lt;&lt; \"ptr1 use count: \" &lt;&lt; ptr1.use_count() &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"ptr2 use count: \" &lt;&lt; ptr2.use_count() &lt;&lt; std::endl;\n        ptr2-&gt;display();\n    }\n    std::cout &lt;&lt; \"ptr1 use count after ptr2 goes out of scope: \" &lt;&lt; ptr1.use_count() &lt;&lt; std::endl;\n    ptr1-&gt;display();\n}\n\nint main() {\n    std::cout &lt;&lt; \"Unique Pointer Example:\" &lt;&lt; std::endl;\n    uniquePtrExample();\n\n    std::cout &lt;&lt; \"\\nShared Pointer Example:\" &lt;&lt; std::endl;\n    sharedPtrExample();\n\n    return 0;\n}\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/","title":"\u5b9e\u9a8c\u624b\u518c","text":"<p>\u672c\u6587\u662fPeter\u7684NJU PA\u7684\u5b9e\u9a8c\u624b\u518c\u3002\u53ea\u8bb0\u5f55\u4e00\u4e9b\u4e1c\u897f\uff0c\u4e0d\u63d0\u4f9b\u6e90\u4ee3\u7801\u3002</p> <p>\u8bfe\u7a0b\u7f51\u5740\u5728\u8fd9\u91cc\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#pa0-tools","title":"PA0 (tools)","text":"<p>If you have problems in conflicting debs, just use the original source rather than tsinghua or ustc. It wastes a lot of time.</p> <p>\u5305\u51b2\u7a81\u7684\u89e3\u51b3\uff1a\u76f4\u63a5\u7528ubuntu\u63d0\u4f9b\u7684\u6e90\u5373\u53ef\uff0c\u4e0d\u7528\u963f\u91cc\u4e91\u6216\u8005\u6e05\u534e\u4e91\u4e86\u3002\u53ef\u4ee5\u4fdd\u8bc1\u4e0b\u8f7d\u901f\u5ea6\u7684\uff0c\u4e5f\u4e0d\u4f1a\u6709\u51b2\u7a81\u3002</p> <p>\u7ec8\u4e8e\u53ef\u4ee5\u8f93\u5165\u4e2d\u6587\u4e86\u3002\u597d\u9a9a\u7684sogou\u8f93\u5165\u6cd5.</p> <p>\u5148\u5b89\u88c5\u4e00\u4e9b\u5fc5\u8981\u7684\u5de5\u5177\uff1a <pre><code>apt-get install build-essential    # build-essential packages, include binary utilities, gcc, make, and so on\napt-get install man                # on-line reference manual\napt-get install gcc-doc            # on-line reference manual for gcc\napt-get install gdb                # GNU debugger\napt-get install git                # revision control system\napt-get install libreadline-dev    # a library used later\napt-get install libsdl2-dev        # a library used later\napt-get install llvm llvm-dev      # llvm project, which contains libraries used later\napt-get install vim                # vim\napt-get install vim-gtk            # vim-more\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#c","title":"C\u8bed\u8a00","text":"<p>\u6ca7\u6d77\u9057\u73e0\u7684\u7ec6\u8282</p>"},{"location":"ICS/2023-11-02-PAnote/#macro","title":"macro","text":"<p>\u4e00\u662f\u8ba8\u8bba\u4e00\u4e0b<code>#include</code>\u7684\u8def\u5f84.</p> <p>\u82e5\u662f\u7528<code>&lt;&gt;</code>\u90a3\u4e48\u5c31\u662f\u5728\u6807\u51c6\u76ee\u5f55\u4e2d\u5bfb\u627e\u6587\u4ef6</p> <p>\u82e5\u662f\u7528<code>\"\"</code>, \u5c31\u662f\u5728\u5f53\u524d\u76ee\u5f55(c\u6587\u4ef6\u6240\u5728\u7684\u4f4d\u7f6e)\u5bfb\u627e\u6587\u4ef6. \u5199\u6cd5\u548clinux\u4e2d\u76ee\u5f55\u7684\u5199\u6cd5\u4e00\u81f4, \u6bd4\u5982\u5728\u4e0a\u7ea7\u6587\u4ef6\u5939\u4e0b\u7684\u53e6\u4e00\u4e2a\u6587\u4ef6\u5939, \u53ef\u4ee5\u5199\u6210<code>#include \"../another/hello.h\"</code></p> <p>\u4e00\u822c\u8981\u628a\u51fd\u6570\u58f0\u660e\u653e\u5728\u5934\u6587\u4ef6\u4e2d, \u8fd9\u6837\u53ef\u4ee5\u9700\u8981\u8fd9\u4e2a\u51fd\u6570\u7684c\u6587\u4ef6\u5f15\u7528\u8fd9\u4e2a\u5934\u6587\u4ef6\u5c31\u53ef\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\u4e86.</p> <p>\u5934\u6587\u4ef6\u7684\u5185\u5bb9\u4e00\u822c\u5305\u542b: \u660e\u663e\u5e38\u91cf, \u5b8f, \u51fd\u6570\u58f0\u660e, \u7ed3\u6784\u6a21\u677f\u5b9a\u4e49\u548c\u7c7b\u578b\u5b9a\u4e49. </p> <p>\u5728\u53bb\u5e74\u4e0a\u6570\u636e\u7ed3\u6784\u8bfe\u7684\u65f6\u5019, \u78b0\u5230\u8fc7\u8fd9\u6837\u7684\u95ee\u9898, \u6709\u591a\u4e2a\u6587\u4ef6\u5f15\u7528<code>list.h</code>,  \u5bfc\u81f4<code>list.h</code>\u4e2d\u7684\u7ed3\u6784\u7c7b\u578b<code>node</code>\u88ab\u91cd\u5b9a\u4e49\u7684\u95ee\u9898. </p> <p>c\u8bed\u8a00\u4e2d,\u58f0\u660e\u53ef\u4ee5\u91cd\u590d\u5f88\u591a\u6b21, \u4f46\u662f\u5b9a\u4e49\u53ea\u80fd\u6709\u4e00\u6b21</p> <pre><code>int a();\nint a();\nint a();\n//\u8fd9\u6837\u4e0d\u4f1a\u62a5\u9519\n</code></pre> <p>\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462, \u5c31\u662f\u7528\u6761\u4ef6\u7f16\u8bd1\u6307\u4ee4\u4e86:</p> <pre><code>#ifndef LIST\n#define LIST\nstruct Node;\ntypedef struct Node *PtrToNode;\ntypedef PtrToNode List;\ntypedef PtrToNode Position;\nList MakeEmpty(List L);\nint IsListEmpty(List L);\nint IsLast(Position P,List L);\nvoid Insert(char X[], List L);\nPosition Find(char X[],List L);\nstruct Node{\n    char* Element;\n    Position Next;\n};\n#endif\n</code></pre> <p>\u5982\u4e0a\u6240\u793a<code>ifndef</code>\u6307\u4ee4\u4fdd\u8bc1\u7ed3\u6784\u7c7b\u578b\u53ea\u88ab\u5b9a\u4e49\u4e00\u6b21. <code>ifndef</code>\u6307\u4ee4\u5e38\u5e38\u7528\u4e8e\u9632\u6b62\u591a\u6b21\u5305\u542b\u540c\u4e00\u6587\u4ef6, \u4fdd\u8bc1\u8fd9\u4e2a\u6587\u4ef6\u53ea\u88ab\u5305\u542b\u4e00\u6b21.</p>"},{"location":"ICS/2023-11-02-PAnote/#_2","title":"\u4f5c\u7528\u57df\u548c\u94fe\u63a5","text":""},{"location":"ICS/2023-11-02-PAnote/#_3","title":"\u4f5c\u7528\u57df","text":"<p>\u4e00\u4e2aC\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u53ef\u4ee5\u662f\u4ee3\u7801\u5757\u4f5c\u7528\u57df/\u51fd\u6570\u539f\u578b\u4f5c\u7528\u57df/\u6587\u4ef6\u4f5c\u7528\u57df.</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u6765\u8bf4, \u5b83\u5177\u6709\u6587\u4ef6\u4f5c\u7528\u57df, \u6574\u4e2a\u6587\u4ef6\u90fd\u53ef\u4ee5\u4f7f\u7528\u5b83</p>"},{"location":"ICS/2023-11-02-PAnote/#_4","title":"\u94fe\u63a5","text":"<p>c\u53d8\u91cf\u53ef\u4ee5\u6709\u5916\u90e8\u94fe\u63a5/\u5185\u90e8\u94fe\u63a5/\u7a7a\u94fe\u63a5</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u6765\u8bf4, \u5b83\u662f\u53ea\u6709\u7a7a\u94fe\u63a5, \u7531\u4ee3\u7801\u5757\u6216\u8005\u51fd\u6570\u539f\u578b\u79c1\u6709, \u53ea\u6709\u6587\u4ef6\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u624d\u8ba8\u8bba\u5185\u90e8\u8fd8\u662f\u5916\u90e8\u94fe\u63a5.</p> <pre><code>int giant = 5;\nstatic int dog = 3;\nint main(){\n    ...\n}\n//main.c\n</code></pre> <p><code>giant</code>\u5c31\u5177\u6709\u5916\u90e8\u94fe\u63a5, \u5176\u4ed6\u6587\u4ef6\u90fd\u53ef\u4ee5\u4f7f\u7528<code>giant</code>, \u53ea\u8981\u52a0\u4e0a<code>extern</code>\u5173\u952e\u5b57:</p> <pre><code>extern int giant;\n...\n//foo.c\n</code></pre> <p>\u4f46\u662f<code>dog</code>\u6709<code>static</code>\u6807\u8bc6, \u90a3\u4e48\u4ed6\u5c31\u662f<code>main.c</code>\u6240\u79c1\u6709\u7684, \u5176\u4ed6\u6587\u4ef6\u65e0\u6cd5\u8bbf\u95ee. \u8fd9\u91cc<code>static</code>\u58f0\u660e\u662f\u8bf4\u8be5\u5168\u5c40\u53d8\u91cf\u5177\u6709\u5185\u90e8\u94fe\u63a5.</p> Tips <p>\u6ce8\u610f\uff1a <pre><code>extern int giant;\n</code></pre> \u662f\u58f0\u660e</p> <p><pre><code>int giant;\n</code></pre> \u662f\u5b9a\u4e49\u3002 C\u8bed\u8a00\u58f0\u660e\u53ef\u4ee5\u6709\u5f88\u591a\u6b21\uff0c\u800c\u5b9a\u4e49\u53ea\u80fd\u6709\u4e00\u6b21\u3002\u6545\u82e5\u8981\u4f7f\u7528\u540c\u540d\u7684\u72ec\u7acb\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u5fc5\u987b\u52a0 static \u5173\u952e\u5b57\u3002\u800c\u5982\u679c\u4f7f\u7528\u7684\u662f\u5916\u90e8\u53d8\u91cf\uff0c\u9664\u975e\u662f\u7b2c\u4e00\u6b21\u5b9a\u4e49\uff0c\u5426\u5219\u5fc5\u987b\u52a0 extern \u58f0\u660e\u3002\u5982\u679c\u5728\u4e24\u4e2a\u6587\u4ef6\u4e2d\u540c\u65f6\u5b9a\u4e49\u4e86 <code>int giant</code>\uff0c\u5219\u4f1a\u62a5\u9519\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#_5","title":"\u5b58\u50a8\u65f6\u671f","text":"<p><code>static</code>\u8fd8\u6709\u4e00\u4e2a\u5730\u65b9\u4f1a\u78b0\u5230, \u5c31\u662f\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\u662f\u9759\u6001\u5b58\u50a8\u65f6\u671f. \u4e00\u822c\u7684\u53d8\u91cf\u90fd\u662f\u81ea\u52a8\u5b58\u50a8\u65f6\u671f, \u4f5c\u7528\u57df\u7ed3\u675f\u5c31\u91ca\u653e. \u800c\u9759\u6001\u5b58\u50a8\u65f6\u671f\u7684\u53d8\u91cf, \u5728\u6574\u4e2a\u7a0b\u5e8f\u6267\u884c\u671f\u95f4\u4e00\u76f4\u5b58\u5728. \u5f88\u663e\u7136, \u4e0d\u7ba1\u52a0\u4e0d\u52a0<code>static</code>, \u5168\u5c40\u53d8\u91cf\u90fd\u4e00\u5b9a\u662f\u9759\u6001\u53d8\u91cf. \u81ea\u52a8\u53d8\u91cf\u4e0d\u521d\u59cb\u5316, \u9759\u6001\u53d8\u91cf\u7f3a\u7701\u5730\u521d\u59cb\u5316\u4e3a0.</p>"},{"location":"ICS/2023-11-02-PAnote/#_6","title":"\u5b57\u7b26\u4e32\u5904\u7406\u51fd\u6570\uff1a","text":"<p>strtok</p> <p>\u7528\u4e8e\u5b57\u7b26\u4e32\u5207\u5272</p> <p><code>char *strtok(char *str, const char *delim)</code></p> <ul> <li>str -- \u8981\u88ab\u5206\u89e3\u6210\u4e00\u7ec4\u5c0f\u5b57\u7b26\u4e32\u7684\u5b57\u7b26\u4e32\u3002</li> <li>delim -- \u5305\u542b\u5206\u9694\u7b26\u7684 C \u5b57\u7b26\u4e32\u3002</li> </ul> <p>\u8be5\u51fd\u6570\u8fd4\u56de\u88ab\u5206\u89e3\u7684\u7b2c\u4e00\u4e2a\u5b50\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u6ca1\u6709\u53ef\u68c0\u7d22\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6307\u9488\u3002</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\nint main() {\n    char str[90] = \"I    love you   So     much\";\n    char* token;\n    token = strtok(str, \" \");\n\n    char* a;\n    a = strtok(NULL, \" \");\n    char* b; \n    b = strtok(str+strlen(token)+1, \" \");\n    printf(\"%s\\n\", token);\n    printf(\"%s\\n\",a);\n    printf(\"%s\\n\",b);\n    return 0;\n}\n</code></pre> <p>\u4f1a\u8f93\u51fa\u5982\u4e0b\u7ed3\u679c</p> <pre><code>I\nlove\nlove\n</code></pre> <p>\u6ce8\u610f:</p> <ol> <li> <p><code>strtok</code>\u662f\u4f1a\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u7684, \u5728<code>str</code>\u7684\u7b2c\u4e00\u4e2a\u88ab\u5206\u9694\u7684\u4f4d\u7f6e\u5c06<code>delim</code>\u4e2d\u5bf9\u5e94\u7684\u5b57\u7b26\u66ff\u6362\u6210<code>\\0</code></p> </li> <li> <p>\u5982\u679c\u8981\u7ee7\u7eed\u5206\u5272\u5f53\u524d\u5b57\u7b26\u4e32, <code>a = strtok(NULL, \" \");</code>\u5373\u53ef,      \u548c<code>b = strtok(str+strlen(token)+1, \" \");</code>\u7684\u6548\u679c\u662f\u4e00\u6837\u7684, <code>strlen(token)</code>\u662f\u524d\u9762\u88ab\u5206\u5272\u7684\u603b\u957f\u5ea6.</p> </li> <li> <p>\u6ca1\u6709\u4e86, \u5c31\u8fd9\u6837.</p> </li> </ol> <p>strncpy</p> <p><code>char *strncpy(char *dest, char *src, size_t n)</code></p> <p>\u5c06<code>src</code>\u8d4b\u503c\u5230<code>dest</code>, \u8fd4\u56de<code>dest</code>\u7684\u9996\u5730\u5740, \u6700\u591a\u590d\u5236n\u4e2a\u5b57\u7b26</p> <p>sprintf</p> <p><code>int sprintf(char* dest, char *format_string, ...)</code></p> <p>\u5c06\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u8f93\u51fa\u5230<code>dest</code>\u4e2d</p> <p>sscanf</p> <p><code>int sscanf(const char *src, const char *format, ...)</code></p> <p>\u548c<code>scanf</code>\u57fa\u672c\u4e00\u6837, \u53ea\u662f<code>sscanf</code>\u662f\u4ece<code>src</code>\u4e2d\u8bfb\u53d6\u6570\u636e. </p>"},{"location":"ICS/2023-11-02-PAnote/#inline-volatile","title":"inline \u548c volatile \u5173\u952e\u5b57","text":"<p>\u5185\u8054\u51fd\u6570\u7684\u53c2\u8003\u94fe\u63a5: https://blog.csdn.net/zqixiao_09/article/details/50877383</p> <p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u7528 inline \u5173\u952e\u5b57\u4fee\u9970\u7684\u8bdd, \u8868\u793a\u5b83\u662f\u5185\u8054\u51fd\u6570, \u5b83\u7684\u7f16\u8bd1\u7ed3\u679c\u5c06\u4e0d\u4f7f\u7528\u6808\u7a7a\u95f4, \u800c\u662f\u5c31\u5982\u540c\u666e\u901a\u7684\u4ee3\u7801\u4e00\u6837\u8fd0\u884c. \u6240\u4ee5\u5185\u8054\u51fd\u6570\u662f\u6ca1\u6709\u51fd\u6570\u5730\u5740\u7684.</p> <p>\u6807\u51c6\u89c4\u5b9a\u5177\u6709\u5185\u8054\u51fd\u6570\u7684\u5b9a\u4e49\u4e0e\u8c03\u7528\u8be5\u51fd\u6570\u7684\u4ee3\u7801\u5fc5\u987b\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d, \u6240\u4ee5\u5b9a\u4e49\u5185\u8054\u51fd\u6570\u901a\u5e38\u90fd\u540c\u65f6\u4f7f\u7528\u5173\u952e\u5b57 static \u548c inline.</p> <p>\u4e3e\u4e2a\u4f8b\u5b50:  <pre><code>inline static int isEven(int num) { return num % 2 == 0;}\n</code></pre></p> <p>\u53ea\u6709\u5728\u8fd0\u884c\u7b80\u5355\u7684\u51fd\u6570\u65f6, \u5185\u8054\u51fd\u6570\u624d\u6709\u4f18\u5316\u6548\u679c. \u5982\u679c\u51fd\u6570\u590d\u6742, \u6bcf\u4e00\u5904\u8c03\u7528\u51fd\u6570\u7684\u90e8\u5206\u90fd\u8981\u590d\u5236\u4e00\u4efd\u8fd9\u6837\u7684\u4ee3\u7801, \u8fd9\u6837\u5f88\u5360\u7528\u5185\u5b58(\u539f\u672c\u8df3\u8f6c\u5230\u51fd\u6570\u5730\u5740, \u53ea\u9700\u8981\u4e00\u4efd\u4ee3\u7801\u5373\u53ef). \u800c\u4e14, \u590d\u6742\u7684\u4ee3\u7801, \u7528\u5185\u8054\u8282\u7701\u4e0d\u4e86\u591a\u5c11\u65f6\u95f4. \u53e6\u5916, \u5185\u8054\u51fd\u6570\u662f\u4e0d\u80fd\u6267\u884c\u9012\u5f52\u7684, \u56e0\u4e3a\u666e\u901a\u51fd\u6570\u7684\u9012\u5f52\u662f\u6808\u5b9e\u73b0\u7684.</p> <p>volatile \u5173\u952e\u5b57\u5219\u8868\u793a\u67d0\u4e2a\u53d8\u91cf\u662f\u53ef\u53d8\u7684, \u8981\u6c42\u7f16\u8bd1\u5668\u6bcf\u6b21\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\u65f6\u90fd\u8981\u4ece\u5185\u5b58\u4e2d\u91cd\u65b0\u8bfb\u53d6. \u6ce8\u610f, \u6709\u65f6\u505a\u4e86\u4f18\u5316, \u60f3\u901f\u5ea6\u5feb\u4e00\u70b9, \u7f16\u8bd1\u5668\u7f16\u8bd1\u51fa\u7684\u4ee3\u7801\u4f1a\u76f4\u63a5\u4ece\u5bc4\u5b58\u5668\u8bfb\u53d6, \u4f46\u662f\u5982\u679c\u6709\u591a\u4e2a\u7ebf\u7a0b\u7684\u60c5\u51b5\u4e0b, \u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u80fd\u4f1a\u6539\u53d8\u53d8\u91cf\u7684\u503c, \u5bfc\u81f4\u5185\u5b58\u4e2d\u7684\u503c\u548c\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\u4e0d\u7b26. \u5bf9\u4e8e\u8fd9\u79cd\u60c5\u51b5, \u6211\u4eec\u5c31\u8981\u7528 volatile \u6765\u58f0\u660e\u53d8\u91cf.</p> <p>\u5982\u4e0b\u9762\u7684\u4f8b\u5b50</p> <p><pre><code>volatile int i=10;\nint a = i;\nint b = i;\n</code></pre> \u5982\u679c\u6ca1\u6709 volatile, \u7f16\u8bd1\u5668\u5728\u6267\u884c <code>b = i</code> \u65f6\u53ef\u80fd\u5c31\u76f4\u63a5\u4f18\u5316\u6210 <code>b = a</code>, \u4f46\u662f\u53ef\u80fd\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u4f1a\u6539\u53d8 i, \u8fd9\u6837\u5c31\u4f1a\u5bfc\u81f4\u53d8\u91cf b \u88ab\u8d4b\u9519\u8bef\u7684\u503c.</p>"},{"location":"ICS/2023-11-02-PAnote/#_7","title":"\u5185\u8054\u6c47\u7f16","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1ahttps://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html#toc2</p> <p>https://blog.csdn.net/lyndon_li/article/details/118471845</p> <p>\u8bed\u6cd5\u5f88\u7b80\u5355\uff1a</p> <p><pre><code>asm(\"assembly code\");\n__asm__(\"assembly code\");\n</code></pre> \u4e24\u79cd\u90fd\u53ef\u4ee5\u3002</p> <pre><code>asm(\"movl %ecx %eax\"); /* moves the contents of ecx to eax */\n</code></pre> <p>\u5982\u679c\u6709\u591a\u6761\u6307\u4ee4\uff0c\u6bcf\u884c\u90fd\u52a0\u53cc\u5f15\u53f7\uff0c\u6bcf\u884c\u7684\u7ed3\u5c3e\u90fd\u52a0\u6362\u884c\u7b26\u548c tab \u952e\u3002</p> <pre><code> asm (\"movl %eax, %ebx\\n\\t\"\n          \"movl $56, %esi\\n\\t\"\n          \"movl %ecx, $label(%edx,%ebx,$4)\\n\\t\"\n          \"movb %ah, (%ebx)\");\n</code></pre> <p>\u524d\u9762\u90fd\u662f\u5f88\u76f4\u63a5\u7684\u5d4c\u5165\u6c47\u7f16\u6307\u4ee4\uff0c\u8fd8\u6709\u6269\u5c55\u5185\u8054\u6c47\u7f16\uff0c\u53ef\u4ee5\u6307\u5b9a\u64cd\u4f5c\u6570\uff0c\u548c c \u8bed\u8a00\u7684\u53d8\u91cf\u8fdb\u884c\u4ea4\u4e92\u3002\u6269\u5c55\u5185\u8054\u6c47\u7f16\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <p><pre><code>asm ( assembler template\n        : output operands                /* optional */\n        : input operands                 /* optional */\n        : list of clobbered registers    /* optional */\n);\n</code></pre> \u8fd9\u79cd\u683c\u5f0f\u7531\u56db\u90e8\u5206\u7ec4\u6210\uff0c\u7b2c\u4e00\u90e8\u5206\u662f\u6c47\u7f16\u6307\u4ee4\uff0c\u548c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e00\u6837\uff0c\u7b2c\u4e8c\u90e8\u5206\u548c\u7b2c\u4e09\u90e8\u5206\u662f\u7ea6\u675f\u6761\u4ef6\uff0c\u7b2c\u4e8c\u90e8\u5206\u6307\u793a\u6c47\u7f16\u6307\u4ee4\u7684\u8fd0\u7b97\u7ed3\u679c\u8981\u8f93\u51fa\u5230\u54ea\u4e9b C \u64cd\u4f5c\u6570\u4e2d\uff0cC \u64cd\u4f5c\u6570\u5e94\u8be5\u662f\u5de6\u503c\u8868\u8fbe\u5f0f\uff0c\u7b2c\u4e09\u90e8\u5206\u6307\u793a\u6c47\u7f16\u6307\u4ee4\u9700\u8981\u4ece\u54ea\u4e9b C \u64cd\u4f5c\u6570\u83b7\u5f97\u8f93\u5165\uff0c\u7b2c\u56db\u90e8\u5206\u662f\u5728\u6c47\u7f16\u6307\u4ee4\u4e2d\u88ab\u4fee\u6539\u8fc7\u7684\u5bc4\u5b58\u5668\u5217\u8868\uff0c\u6307\u793a\u7f16\u8bd1\u5668\u54ea\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\u5728\u6267\u884c\u8fd9\u6761 asm \u8bed\u53e5\u65f6\u4f1a\u6539\u53d8\u3002\u540e\u4e09\u4e2a\u90e8\u5206\u90fd\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u6709\u5c31\u586b\u5199\uff0c\u6ca1\u6709\u5c31\u7a7a\u7740\u53ea\u5199\u4e2a <code>:</code> \u53f7\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\u5427\uff1a</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int a = 10;\n    int b = 20;\n    int c;\n    int d;\n\n    asm(\"movl %3, %%eax \\n\"\n        \"movl %%eax, %1 \\n\"\n        :\"=b\"(c),\"=c\"(d)\n        :\"d\"(a),\"S\"(b)\n        :\"%eax\"\n        );\n\n    printf(\"d = %d\\n\", d);\n}\n</code></pre> <p>\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e00\u4e2a <code>%</code> \u8868\u793a\u64cd\u4f5c\u6570\uff0c\u4e24\u4e2a <code>%</code> \u8868\u793a\u5bc4\u5b58\u5668\u3002\u6570\u5b57\u8868\u793a\u64cd\u4f5c\u6570\u7684\u987a\u5e8f\uff0c\u4ece 0 \u5f00\u59cb\u3002\u7b2c\u4e8c\u3001\u7b2c\u4e09\u90e8\u5206\u4e2d\u7684\u64cd\u4f5c\u6570\u524d\u7684\u5f15\u53f7\u5185\u7684\u5185\u5bb9\u662f\u4fee\u9970\u7b26\uff0c\u5e38\u89c1\u7684\u4fee\u9970\u7b26\uff0c<code>=</code> \u8868\u793a\u53ea\u5199\u64cd\u4f5c\u6570\u53ea\u5199\uff08\u8f93\u51fa\u64cd\u4f5c\u6570\uff09\uff0c<code>a/b/c/d/S/D</code> \u8868\u793a\u5c06\u64cd\u4f5c\u6570\u653e\u5165 <code>eax/ebx/ecx/edx/esi/edi</code>\uff0c<code>r</code> \u8868\u793a\u5c06\u8f93\u5165\u53d8\u91cf\u653e\u5165\u4e0a\u8ff0\u4efb\u4e00\u901a\u7528\u5bc4\u5b58\u5668\u3002</p> <p>\u4e8e\u662f\u4e0a\u9762\u7684\u6c47\u7f16\u4ee3\u7801\uff0c<code>%3</code> \u8868\u793a\u6c47\u7f16\u4ee3\u7801\u4e2d\u7b2c 4 \u4e2a\u64cd\u4f5c\u6570\uff0c\u5373 <code>b</code>,  <code>%1</code> \u8868\u793a\u7b2c 2 \u4e2a\u5bc4\u5b58\u5668\uff0c\u5373 <code>d</code>\uff0c\u5f88\u5bb9\u6613\u77e5\u9053\uff0c\u6700\u540e <code>d</code> \u7684\u503c\u662f 20\uff0c\u6545\u4e0a\u8ff0\u4ee3\u7801\u8f93\u51fa 20\u3002</p> <p>\u4e3a\u4e86\u9632\u6b62\u6c47\u7f16\u4ee3\u7801\u88ab\u7f16\u8bd1\u5668\u4f18\u5316\uff0c\u53ef\u4ee5\u52a0\u4e0a <code>volatile</code> \u5173\u952e\u5b57 <pre><code>asm volatile ( ... : ... : ... : ...);\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#clash","title":"clash","text":"<p>\u9996\u5148\u7167readme\u5c06url\u6539\u6210\u8ba2\u9605\u5730\u5740</p> <p>\u540e\u9762 \u6309\u63d0\u793a\u5373\u53ef</p> <p><code>sudo bash start.sh</code></p> <p><code>source /etc/profile.d/clash.sh</code></p> <p><code>proxy_on</code> \u6253\u5f00\u4ee3\u7406</p> <p><code>proxy_off</code>\u5173\u95ed\u4ee3\u7406</p> <p><code>sudo bash shutdown.sh</code>\u5173\u95ed\u7a0b\u5e8f</p> <p>\u8fd9\u6837\u5f04\u597d\u4ee5\u540e\uff0c\u518d\u6253\u5f00\u7cfb\u7edf\u7684\u4ee3\u7406:</p> <p>ubuntu\u684c\u9762\u7248\uff0c\u53f3\u4e0a\u89d2\u70b9\u51fb\u8bbe\u7f6e\uff0c\u7f51\u7edc\uff0c\u7f51\u7edc\u4ee3\u7406\uff0c\u624b\u52a8\uff0c\u7136\u540e\u628ahttp://127.0.0.1\u548c7890</p> <p>Then you can google and github freely.</p>"},{"location":"ICS/2023-11-02-PAnote/#gcc","title":"gcc","text":"<p><code>-g</code>  \u589e\u52a0\u8c03\u8bd5\u6307\u4ee4</p> <p>gcc \u53ef\u4ee5\u589e\u52a0\u8b66\u544a\uff0c\u8b66\u544a\u89c6\u4f5c\u9519\u8bef\u3002</p> <p>gcc \u53ef\u4ee5\u53ea\u8f93\u51fa\u5b8f\u5b9a\u4e49\u5c55\u5f00\uff0c\u4e0d\u7f16\u8bd1\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#gdb","title":"gdb","text":""},{"location":"ICS/2023-11-02-PAnote/#starting","title":"Starting:","text":"<pre><code>  gdb\n\n  gdb &lt;file&gt; ----   open gdb with the file\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#running-and-stopping","title":"Running and Stopping:","text":"<pre><code>  quit   ----  exit gdb\n  **please run the program before debug...** \n  run    ----  run the program(&lt;file&gt;)   \n  run 1 2 3  ---- run program with command-line arguments 1 2 3\n  kill  ---- stop the program\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#breakpoint","title":"Breakpoint:","text":"<pre><code>  info break ---- list all breaks \n  (b)\n  break &lt;func&gt; ---- Set breakpoint at the entry to &lt;func&gt;\n  break  *0x80483c3 ----Set breakpoint at address 0x80483c3\n  break  9  ---- Set breakpoint at line 9\n  break main.c:9 if q==0 ---- conditional breakpoint\n  delete     ----     delete all breakpoints\n  delete 1   ----     delete the breakpoint 1\n  disable 1   ----    disable the breakpoint 1\n  enable 1    ----    enable the breakpoint 1\n  clear &lt;func&gt; ----   Clear any points at the entry to &lt;func&gt;\n\n  (w)\n  watch *\u5730\u5740    # \u5f53\u5730\u5740\u6240\u6307\u5185\u5bb9\u53d1\u9001\u53d8\u5316\u65f6\u65ad\u70b9\n  watch var    #\u5f53var\u503c\u53d8\u5316\u65f6\uff0c\u65ad\u70b9\n  watch (condition)    #\u5f53\u6761\u4ef6\u7b26\u5408\u65f6\uff0c\u65ad\u70b9\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#execution","title":"Execution:","text":"<pre><code>  stepi ---- Execute 1 instruction (assemble instruction)\n  stepi 4 ---Execute 4 instruction (assemble instruction)\n  nexti ---- Execute 1 instruction, but it doesn't enter the  function and just execute it\n  step ---- Execute one C statement\n  next ---- Execute one C Statement but doesn't enter the function.\n  c(continue) -- -- execute to the next breakpoint\n  until 3 ---- continue exec until the breakpoint 3\n  finish ----   Resume execution until the current function return. \n  call &lt;func&gt; ---- call the func and print the return Value\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#examining-code","title":"Examining code:","text":"<pre><code>  (p)\n  print /d $rax ----  Print contents of %rax in decimal\n  print /x $rax ----  Print contents of %rax in hex\n  print /t $rax ----  Print contents of %rax in binary\n  print /d (int)$rax ---- Print contents of %rax in decimal but it has signs.\n\n  Examine:\n  x/[num][size][format] address\n  num = number of objects todisplay\n  size = size of each project (b=byte h=half-word, w=word, g=quad-word) \n  (1 word = 4 Byte)\n  FORMAT = how to display each object (d=decimal, x=hex, o=octal, etc.)\n  for example:\n   x/w  $rax\n   x/2wd 0xbffff890\n   x/200bc $rdi\n   x/s   $rsp (a string)\n   x/6i 0x200  \u6253\u5370\u5730\u5740 0x200 \u5f00\u59cb\u7684 6 \u6761\u6307\u4ee4\n\n   \u6ce8\u610f\uff0cp \u7528\u6765\u6253\u5370\u5bc4\u5b58\u5668\u7684\u503c\uff0cx \u7528\u6765\u6253\u5370\u5730\u5740\u50a8\u5b58\u7684\u503c\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#display","title":"Display","text":"<p>Compared with <code>examine</code>, If we use display, the value will be printed each time the code is stopped, which is very convenient. <pre><code>  info display ---- get all the info of variables\n  display {var1 var2 var3} ---- print var1 var2 var3 each time.\n  display /i $pc ---- print where is pc at as asm.\n  delete display (%num) ---- delete all or %numth variable\n  disable/enable display (%num) ---- disable/enable %numth variable.\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#layout","title":"Layout:","text":"<p>use <code>layout</code> to display what you want, like source code . <pre><code>  layout regs\n  layout split ---- asm and src\n  layout asm\n  layout src\n  layout prev\n  layout next\n  focus name\n  (name = cmd|src|asm|regs|next|prev)\n  refresh\n  update\n  &lt;C-l&gt; refresh\n  &lt;C-x&gt; 1/2 ---- 1/2 window\n  &lt;c-x&gt; a  ---- abort window\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#else","title":"Else:","text":"<pre><code>  where  ----   Print the current address and stack backtrace\n  list ---- see which line the code has examined and its contexts.\n    backtrace(bt) ---  Print the backtrace of the entire stack. \n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#todo-frame","title":"TODO: frame \u627e\u6bb5\u9519\u8bef","text":""},{"location":"ICS/2023-11-02-PAnote/#makefile","title":"Makefile","text":""},{"location":"ICS/2023-11-02-PAnote/#vim","title":"vim","text":""},{"location":"ICS/2023-11-02-PAnote/#_8","title":"\u6742\u9879","text":"<p>\u7528vim\u4e4b\u524d\u5148\u5728<code>.vimrc</code>\u4e2d\u914d\u7f6e\u3002</p> <p>\u4e0e\u7cfb\u7edf\u526a\u8d34\u677f\u590d\u5236\u7c98\u8d34\u4f7f\u7528<code>+y</code> and <code>+p</code>.</p> <p><code>&lt;C-G&gt;</code> \u663e\u793a\u6587\u4ef6\u4fe1\u606f</p> <p><code>q:</code> \u663e\u793a\u5386\u53f2\u547d\u4ee4 \u7528<code>&lt;C-G&gt;</code>\u5173\u95ed(\u5b9e\u9645\u4e0a\u548c\u5b8f\u6709\u5173\uff0c\u6709\u673a\u4f1a\u5c55\u5f00)</p> <p><code>%</code> \u662f\u627e\u5339\u914d\u7684\u62ec\u53f7\uff0c\u5728\u590d\u5236\u51fd\u6570\u65f6\u5f88\u6709\u7528\u3002</p> <p>`` \u5076\u7136\u53d1\u73b0\u53ef\u4ee5\u7528\u8fd9\u4e2a\u65b9\u4fbf\u7684\u8df3\u8f6c</p> <p><code>.</code> \u91cd\u590d\u4e0a\u4e00\u6761\u6307\u4ee4</p>"},{"location":"ICS/2023-11-02-PAnote/#vim_1","title":"vim\u591a\u6587\u4ef6\u7f16\u8f91","text":"<p>\u600e\u4e48\u4f7f\u7528vim\u50cfvscode\u90a3\u6837\u540c\u65f6\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6\u5462\uff1f <pre><code>$vim txt1 txt2 ---- \u6253\u5f00txt1\u548ctxt2\n$vim -o txt1 txt2 ---- \u6253\u5f00txt1\u548ctxt2\u5728\u540c\u4e00\u4e2a\u6c34\u5e73\u7a97\u53e3\u91cc\u9762\n$vim -O txt1 txt2 ---- \u6253\u5f00txt1\u548ctxt2\u5728\u540c\u4e00\u4e2a\u5782\u76f4\u7a97\u53e3\u91cc\u9762\n&lt;C-w&gt; + w/hjkl ----- \u5207\u6362\u7a97\u53e3\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#vim-itself","title":"vim itself","text":"<p>\u5728\u7f16\u8f91\u5668\u5185 <pre><code>:sp \u5c06\u7a97\u53e3\u6c34\u5e73\u5206\u5272\u6210\u4e24\u4e2a\n:vsp \u5c06\u7a97\u53e3\u5782\u76f4\u5206\u5272\u6210\u4e24\u4e2a\n:n\u4e0b\u4e00\u4e2a\u6587\u4ef6 :N\u4e0a\u4e00\u4e2a\u6587\u4ef6\n:buffers ---- \u663e\u793a\u5f53\u524d\u6240\u6709\u6b63\u5728\u7f16\u8f91\u7684\u6587\u4ef6\n:buffer %n ---- \u5207\u6362\u5230\u7b2cn\u4e2a\u6587\u4ef6\n:e txt3 ---- \u6253\u5f00txt3\nZZ ---- \u4fdd\u5b58\u5f53\u524d\u6587\u4ef6\u66f4\u6539\n:wq ---- \u4fdd\u5b58\u6240\u6709\u6587\u4ef6\u66f4\u6539\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#nerdtree","title":"nerdtree","text":"<p>\u5b9e\u9645\u4e0a\uff0c\u4f7f\u7528<code>nerdtree</code>\u63d2\u4ef6\u66f4\u4e3a\u597d\u7528</p> <p>\u6211\u7528<code>F2</code>\u6253\u5f00\u8fd9\u4e2a\u63d2\u4ef6</p> <p>\u6253\u5f00\u4ee5\u540e\uff0c\u4ecd\u7136\u53ef\u4ee5\u7528<code>&lt;C-w&gt; + w/hjkl</code> \u5728\u4ee3\u7801\u7a97\u53e3\u548ctree\u7a97\u53e3\u5207\u6362</p> <p><code>o</code>\u5728\u5f53\u524d\u7a97\u53e3\u6253\u5f00\u6587\u4ef6\u3001\u6587\u4ef6\u5939</p> <p><code>t</code>\u5728\u65b0tab\u91cc\u6253\u5f00\u6587\u4ef6\u3001\u6587\u4ef6\u5939\uff08\u6587\u4ef6\u5939\u5c31\u662f\u65b0\u6811\u4e86\uff09</p> <p><code>gt/gT</code>\u5728tab\u4e4b\u95f4\u5207\u6362</p> <p><code>s</code>\u5782\u76f4\u6253\u5f00\u6807\u7b7e\u9875</p> <p><code>r</code> \u5237\u65b0\u6811</p> <p>\uff08\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u7528\u9f20\u6807\u70b9\u3002\uff09</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cnerdtree \u5f53\u7136\u4e5f\u652f\u6301\u5bf9\u6587\u4ef6\u7684\u589e\u5220\u67e5\u627e\u7b49\u3002\u7528\u5b83\u5c31\u4e0d\u7528\u5230\u5916\u90e8\u547d\u4ee4\u884c\u65b0\u5efa\u6587\u4ef6\u4e86\u3002\u57fa\u672c\u4e0a\u7528 <code>m</code> \u6253\u5f00\u83dc\u5355\u680f\u5c31\u53ef\u4ee5\u5b9e\u73b0\u3002 \u5177\u4f53\u770b\u8fd9\u4e2a\u94fe\u63a5\uff1ahttps://blog.csdn.net/weixin_37926734/article/details/124919260</p>"},{"location":"ICS/2023-11-02-PAnote/#plugin-introduction","title":"Plugin introduction","text":""},{"location":"ICS/2023-11-02-PAnote/#vundle","title":"vundle","text":"<p><code>vim +PluginInstall +qall</code></p> <p>\u5b89\u88c5\u65b0\u7684\u5305\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#ctags","title":"ctags","text":"<pre><code>ctags -R \u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u9762\u521b\u5efatags\n&lt;C-]&gt; \u8df3\u8f6c\u5230\u5b9a\u4e49\u5904\n&lt;C-t&gt; \u8fd4\u56de\n</code></pre>"},{"location":"ICS/2023-11-02-PAnote/#cscope","title":"cscope","text":"<p>\u6211\u5df2\u7ecf\u914d\u7f6e\u8fc7\uff1a <code>&lt;C-\\&gt; + %ch</code>  \u7b49\u4ef7\u4e8e:<code>cscope find %ch &lt;name at cursor&gt;</code></p> <p>\u4e8e\u662f <pre><code>:cscope find s   # symbol: find all references to the token under cursor\n:cscope find g   # global: find global definition(s) of the token under cursor\n:cscope find c   # calls:  find all calls to the function name under cursor\n:cscope find t   # text:   find all instances of the text under cursor\n:cscope find e   # egrep:  egrep search for the word under cursor\n:cscope find f   # file:   open the filename under cursor\n:cscope find i   # includes: find files that include the filename under cursor\n:cscope find d   # called: find functions that function under cursor calls\n</code></pre></p> <p>\u5728\u4f7f\u7528 cscope \u65f6\uff0c\u53ef\u4ee5\u8f93\u5165 <code>:cw</code> \u6765\u6253\u5f00 quickfix \u7a97\u53e3\uff0c\u6765\u663e\u793a\u6240\u6709\u7ed3\u679c\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002 \u5728 quickfix \u7a97\u53e3\u5207\u6362\u4e0d\u540c\u7684\u5339\u914d\u9879\uff0c\u53ef\u4ee5\u8f93\u5165 <code>:cs cn</code> \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u5339\u914d\u9879\uff0c<code>:cs cp</code> \u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u5339\u914d\u9879\u3002 \u5f53\u7136\uff0c\u4e0a\u4e0b\u5de6\u53f3hjkl\u4e5f\u53ef\u4ee5\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#youcompleteme","title":"YouCompleteMe","text":"<p>very powerful.</p> <p>\u5728.vimrc\u4e2d\u914d\u7f6e, \u914d\u7f6e\u53bb\u7f51\u4e0a\u6284. c\u8bed\u8a00\u8981\u88c5clang\u5148.</p> <p>\u4e2a\u4eba\u914d\u7f6e\u7684\u5907\u5fd8: </p> <p>\u9009\u62e9\u8865\u9009\u9879: \u4e00\u662f\u7528\u4e0a\u4e0b\u65b9\u5411\u952e, \u4e8c\u662f\u7528<code>&lt;C-N&gt;</code>\u548c<code>&lt;C-P&gt;</code>, \u5b9e\u9645\u4e0a\u539f\u672c\u9ed8\u8ba4\u662ftab\u952e\u9009\u62e9\u7684, \u4f46\u662f\u88ab\u6211\u7981\u7528\u4e86\u73b0\u5728.</p> <p>\u6309\u4e86enter\u9009\u4e2d\u540e\u662f\u5df2\u7ecf\u8865\u5168\u4e86, \u4f46\u8fd8\u662f\u4f1a\u5269\u4e0b\u4e00\u4e2a\u6846. \u4e0d\u7528\u7ba1\u5b83\u7ee7\u7eed\u7f16\u7a0b\u5373\u53ef.</p>"},{"location":"ICS/2023-11-02-PAnote/#linux","title":"linux","text":""},{"location":"ICS/2023-11-02-PAnote/#tools","title":"tools","text":""},{"location":"ICS/2023-11-02-PAnote/#tmux","title":"tmux","text":""},{"location":"ICS/2023-11-02-PAnote/#_9","title":"\u4f1a\u8bdd","text":"<p>tmux\u53ef\u4ee5\u7528\u6765\u6253\u5f00\u591a\u4e2aterminal\u3002</p> <p>\u547d\u4ee4\u884c\u4e0b\u8f93\u5165<code>tmux</code>, \u6253\u5f00\u65b0\u4f1a\u8bdd\u3002</p> <p><code>tmux new -s &lt;session-name&gt;</code>\u53ef\u4ee5\u7ed9\u65b0\u4f1a\u8bdd\u53d6\u540d\u5b57\u3002</p> <p><code>tmux info</code> \u4f1a\u8bdd\u4fe1\u606f</p> <p>\u57fa\u672c\u64cd\u4f5c\u6d41\u7a0b\uff1a</p> <ol> <li>\u65b0\u5efa\u4f1a\u8bdd<code>tmux new -s my_session</code>\u3002</li> <li>\u5728 Tmux \u7a97\u53e3\u8fd0\u884c\u6240\u9700\u7684\u7a0b\u5e8f\u3002</li> <li>\u6309\u4e0b\u5feb\u6377\u952eCtrl+b d\u5c06\u4f1a\u8bdd\u5206\u79bb\u3002</li> <li>\u4e0b\u6b21\u4f7f\u7528\u65f6\uff0c\u91cd\u65b0\u8fde\u63a5\u5230\u4f1a\u8bdd<code>tmux attach-session -t my_session</code>\u3002 \u5f53\u7136\u7528<code>tmux a</code>\u53ef\u4ee5\u5feb\u901f\u8fde\u63a5\u4e0a\u4e00\u4e2a\u4f1a\u8bdd\u3002</li> </ol> <p>\u5bf9tmux\u6765\u8bf4\uff0c\u6700\u91cd\u8981\u7684\u5feb\u6377\u952e\u5c31\u662f<code>&lt;C-b&gt;</code>, \u5148\u8f93\u5165\u8fd9\u4e2a\uff0c\u7136\u540e\u8f93\u5165\u6307\u4ee4tmux\u624d\u4f1a\u54cd\u5e94\u3002 <pre><code>Ctrl+b d ---- \u5206\u79bb\u5f53\u524d\u4f1a\u8bdd\u3002\nCtrl+b s ---- \u5217\u51fa\u6240\u6709\u4f1a\u8bdd\u3002\nCtrl+b $ ---- \u91cd\u547d\u540d\u5f53\u524d\u4f1a\u8bdd\nCtrl+b : ---- \u8fdb\u5165\u547d\u4ee4\u884c\u6a21\u5f0f\n:kill-server \u5220\u9664\u6240\u6709\u4f1a\u8bdd\n:kill-session \u5220\u9664\u5f53\u524d\u4f1a\u8bdd\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#window","title":"window","text":"<p>\u4e00\u4e2a\u4f1a\u8bdd\u5185\uff0ctmux\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7a97\u53e3\uff08\u611f\u89c9\u7a97\u53e3\u548c\u4f1a\u8bdd\u5dee\u4e0d\u591a\uff0c\u4e0d\u8d58\u8ff0\uff09 \u4f3c\u4e4e\u8fd8\u662f\u7a97\u53e3\u66f4\u65b9\u4fbf\u5207\u6362\u554a\u3002 <pre><code>&lt;C-b&gt; c ---- new window\n&lt;C-b&gt; n ---- next window\n&lt;C-b&gt; p ---- last window\n&lt;C-b&gt; %num ---- to %numth window\n&lt;C-b&gt; , ---- rename window\n&lt;C-b&gt; [ ---- \u8fdb\u5165\u590d\u5236\u6a21\u5f0f\uff08\u53ef\u4ee5\u4e0a\u4e0b\u6eda\u52a8\u5c4f\u5e55\uff09\uff0cESC \u9000\u51fa\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#_10","title":"\u7a97\u683c","text":"<p>\u4e5f\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7a97\u683c <pre><code>Ctrl+b %\uff1a\u5212\u5206\u5de6\u53f3\u4e24\u4e2a\u7a97\u683c\u3002\nCtrl+b \"\uff1a\u5212\u5206\u4e0a\u4e0b\u4e24\u4e2a\u7a97\u683c\u3002\nCtrl+b &lt;arrow key&gt;\uff1a\u5149\u6807\u5207\u6362\u5230\u5176\u4ed6\u7a97\u683c\u3002\u62ec\u53f7\u8868\u793a\u65b9\u5411\u952e\u3002\nCtrl+b x\uff1a\u5220\u9664\u8be5\u7a97\u683c\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#_11","title":"\u5bfb\u6c42\u5e2e\u52a9","text":"<p>Search The Fucking Web(STFW)</p> <p>Read The Fucking Manual(RTFM)</p> <p>Read The Fucking Source Code(RTFSC)</p>"},{"location":"ICS/2023-11-02-PAnote/#pa1","title":"PA1","text":"<p>how to run <code>nemu</code>? enter <code>nemu</code> dictionary and <code>make</code> to complile, <code>make run</code> to run, <code>make gdb</code> to use gdb to debug.  </p>"},{"location":"ICS/2023-11-02-PAnote/#_12","title":"\u6846\u67b6\u4ecb\u7ecd","text":"<p>TRM - Turing Machine.</p> <p>\u5b58\u50a8\u5668\u662f\u4e2a\u5728<code>nemu/src/memory/paddr.c</code>\u4e2d\u5b9a\u4e49\u7684\u5927\u6570\u7ec4.</p> <pre><code>static uint8_t pmem[CONFIG_MSIZE] PG_ALIGN = {};\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u5b9a\u4e49\u4e86<code>pmem</code>,\u5bf9\u5e94128M\u7684\u5b58\u50a8\u7a7a\u95f4</p> <p>PC\u548c\u901a\u7528\u5bc4\u5b58\u5668\u90fd\u5728<code>nemu/src/isa/$ISA/include/isa-def.h</code>\u4e2d\u7684\u7ed3\u6784\u4f53\u4e2d\u5b9a\u4e49. \u5bc4\u5b58\u5668\u6709\u5173\u7684\u5728\u5168\u5c40\u53d8\u91cf<code>cpu</code>\u4e2d, \u5305\u62ec<code>cpu.pc</code>\u7a0b\u5e8f\u8ba1\u6570\u5668 \u548c<code>cpu.gpr[n]</code>n\u8868\u793a\u7b2cn\u4e2a\u5bc4\u5b58\u5668\u3002</p> <p><code>nemu/src/cpu/cpu-exec.c</code>\u4e2d\u6709\u548c\u6307\u4ee4\u6267\u884c\u76f8\u5173\u7684\u5185\u5bb9 <code>cpu_exec(n)</code>\u8868\u793a\u6267\u884c\u63a5\u4e0b\u6765\u7684n\u6761\u6307\u4ee4\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#_13","title":"\u600e\u4e48\u5f00\u673a","text":"<p>\u521d\u59cb\u5316nemu\u7684\u4ee3\u7801\u5728<code>monitor.c</code>\u4e2d\u5b9a\u4e49 \u524d\u9762\u90fd\u662f\u4e9b\u5fc5\u8981\u7684\u51c6\u5907\u5de5\u4f5c\uff0c\u4ecb\u7ecd\u4e00\u4e0b<code>init_isa()</code>\u51fd\u6570\uff0c\u5728<code>nemu/src/isa/$ISA/init.c</code>\u4e2d\u5b9a\u4e49 <pre><code>void init_isa() {\n  /* Load built-in image. */\n  memcpy(guest_to_host(RESET_VECTOR), img, sizeof(img));\n\n  /* Initialize this virtual computer system. */\n  restart();\n}\n</code></pre></p> <p>\u7b2c\u4e00\u9879\u5de5\u4f5c\u5c31\u662f\u5c06\u4e00\u4e2a\u5185\u7f6e\u7684\u5ba2\u6237\u7a0b\u5e8f\u8bfb\u5165\u5230\u5185\u5b58\u4e2d.\u76f4\u63a5\u5c31\u7528\u4e86<code>memcpy</code>\u8fd9\u4e2a\u51fd\u6570\uff0c\u660e\u5feb\u3002 \u6ce8\u610f\uff1a <code>RESET_VECTOR</code>\u662f\u5b58\u653e\u4ee3\u7801\u7684\u56fa\u5b9a\u5185\u5b58\u5730\u5740\u3002\u7531\u4e8e\u672c\u6b21\u5b9e\u9a8c\u91c7\u7528<code>RISC-V</code>,\u5185\u5b58\u5730\u5740\u4e0d\u4ece\u96f6\u5f00\u59cb\uff0c\u6240\u4ee5\u8981\u7528<code>guest_to_host()</code>\u51fd\u6570\u6765\u8f6c\u6362\u3002 \u5b83\u5c06CPU\u8981\u8bbf\u95ee\u7684\u5185\u5b58\u5730\u5740\u8f6c\u5316\u6210\u6570\u7ec4pmem\u4e2d\u7684\u504f\u79fb\u4f4d\u7f6e\u3002 <code>init_isa()</code>\u7684\u7b2c\u4e8c\u9879\u4efb\u52a1\u662f\u521d\u59cb\u5316\u5bc4\u5b58\u5668, \u8fd9\u662f\u901a\u8fc7restart()\u51fd\u6570\u6765\u5b9e\u73b0\u7684.\u5b83\u8bbe\u7f6e<code>cpu.pc</code> \u7684\u503c\u5e76\u5c060\u53f7\u5bc4\u5b58\u5668\u7f6e0.</p>"},{"location":"ICS/2023-11-02-PAnote/#_14","title":"\u9898\u76ee\u56de\u7b54 \u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728<code>cmd_c()</code>\u51fd\u6570\u4e2d, \u8c03\u7528<code>cpu_exec()</code>\u7684\u65f6\u5019\u4f20\u5165\u4e86\u53c2\u6570-1, \u4f60\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u5417?</p> <p>\u770b\u51fd\u6570\u53c2\u6570\u3002\u662f<code>uint_32t</code>\u7c7b\u578b\u7684\uff0c\u662f\u65e0\u7b26\u53f7\u6574\u6570\u3002-1\u88ab\u770b\u505a\u65e0\u7b26\u53f7\u6570\uff0c\u4e5f\u5c31\u662f2\u768432\u6b21\u65b9-1\uff0c\u5c31\u662f\u8fd0\u884c\u8fd9\u4e48\u591a\u6b21\u3002</p> <p>\u8868\u8fbe\u5f0f\u6c42\u503c\u6d4b\u8bd5\u8fd9\u91cc\uff1a</p> <p>\u5982\u4f55\u8fc7\u6ee4\u9664\u4ee5\u96f6\u7684\u8868\u8fbe\u5f0f?</p> <p>gcc \u5728\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u4f1a\u5bf9\u9664\u4ee50\u7684\u8868\u8fbe\u5f0f\u53d1\u751f\u8b66\u62a5\u3002\u5728\u7f16\u8bd1\u9009\u9879\u4e2d\u52a0\u5165<code>-Werror</code>\u5c06\u8b66\u544a\u89c6\u4f5c\u9519\u8bef\u5373\u53ef\u8fc7\u6ee4\u3002</p> <p>\u5982\u4f55\u83b7\u5f97\u65e0\u7b26\u53f7\u6570\u7684\u8fd0\u7b97\u7ed3\u679c?</p> <p>c\u8bed\u8a00\u9ed8\u8ba4\u6570\u5b57\u662f\u6709\u7b26\u53f7\u7684\uff0c\u5728\u6570\u5b57\u540e\u9762\u52a0<code>u</code>\u8868\u793a\u65e0\u7b26\u53f7\u6570\uff0c\u5982<code>12333u</code>\u3002</p> <p>\u6211\u52a0\u5165\u4e86\u903b\u8f91\u8fd0\u7b97\u901a\u4e0d\u8fc7\u6d4b\u8bd5\u53ef\u80fd\u662f\u4ec0\u4e48\u539f\u56e0\uff1f</p> <p>\u6ce8\u610fC\u8bed\u8a00\u4e2d\uff0c \"||\" \u548c \"&amp;&amp;\" \u662f\u77ed\u8def\u64cd\u4f5c\u3002\u4f60\u5b9e\u73b0\u4e86\u5417\uff1f</p> <p>\u8d1f\u53f7\u600e\u4e48\u5b9e\u73b0?</p> <p>\u8fd9\u91cc\u63d0\u4f9b\u601d\u8def: \u8d1f\u53f7\u7684\u8bc6\u522b\u770b\u8bb2\u4e49. \u8d1f\u53f7\u7684\u8ba1\u7b97\u5229\u7528\u8fd9\u4e2a\u7279\u5f81: \u5355\u5143\u8fd0\u7b97\u7b26\u53ea\u4e0e\u6700\u8fd1\u7684\u8868\u8fbe\u5f0f(\u53ea\u80fd\u662f\u62ec\u53f7\u6216\u8005\u662f\u6570\u5b57)\u76f8\u7ed3\u5408. \u5229\u7528\u8fd9\u4e2a\u7279\u70b9, \u6211\u8003\u8651\u7528\u6808, \u82e5\u78b0\u5230\u5355\u5143\u8fd0\u7b97\u7b26, \u5c06\u4e4b\u653e\u5165\u6808\u4e2d. \u53e6\u5916\u518d\u7ef4\u62a4\u4e00\u4e2a\u6808\u6765\u8bb0\u5f55\u4e0b\u4e0e\u8fd9\u4e9b\u5355\u5143\u8fd0\u7b97\u7b26\u7ed3\u5408\u7684\u62ec\u53f7\u6216\u8005\u6570\u5b57\u7684\u4f4d\u7f6e. \u5728\u9012\u5f52\u51fa\u53e3\u65f6, \u82e5\u662f\u62ec\u53f7\u6216\u8005\u6570\u5b57\u7684\u60c5\u51b5, \u6bd4\u8f83\u8be5\u8868\u8fbe\u5f0f\u6240\u5728\u4f4d\u7f6e\u548c\u5148\u524d\u8bb0\u5f55\u4f4d\u7f6e, \u82e5\u76f8\u7b49, \u8bf4\u660e\u6808\u4e2d\u7684\u8fd0\u7b97\u7b26\u90fd\u662f\u5c5e\u4e8e\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7684. \u7136\u540e\u5c06\u8fd0\u7b97\u7b26\u6808\u6e05\u7a7a\u8ba1\u7b97\u540c\u65f6\u4f4d\u7f6e\u6808\u5e76\u5f39\u51fa\u4e00\u4e2a\u5143\u7d20. \u5bf9\u4e86, \u6ce8\u610f\u62ec\u53f7\u7684\u60c5\u51b5. \u6709\u62ec\u53f7\u65f6, \u5c06\u62ec\u53f7\u4e5f\u538b\u5165\u6808, \u5f39\u51fa\u65f6\u5f39\u5230\u62ec\u53f7\u4e3a\u6b62. </p> <p>\u8868\u8ff0\u80fd\u529b\u6709\u9650, \u591a\u5305\u6db5. \u8be5\u601d\u8def\u672c\u8eab\u6709\u4e9b\u9ebb\u70e6, \u4e0d\u8fc7\u901a\u8fc7\u4e86\u4e00\u4e9b\u6d4b\u8bd5. \u5e0c\u671b\u6709\u66f4\u7b80\u5355\u7684\u601d\u8def.</p> <p>\u505a\u5b8cPA1\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u6613\u7684\u8c03\u8bd5\u5668\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#pa2","title":"PA2","text":"<p>C \u8bed\u8a00\u5e93\u51fd\u6570\u6e90\u7801</p> <p>https://stackoverflow.com/questions/5233514/where-to-find-stdio-h-functions-implementations</p> <p>\u4e0a\u9762\u662f glibc \u7684\u5b9e\u73b0\u3002\u6709\u597d\u5947\u8fc7 printf \u662f\u600e\u4e48\u5b9e\u73b0\u7684\u5417\uff1f\u770b\u770b\u4e0a\u9762\u7684\u94fe\u63a5\u5427\u3002</p> <p>\u5b59\u71d5\u59ff\u7684\u5b66\u4f1a\u771f\u597d\u542c\u554a\uff0c\u5f88\u6cbb\u6108\u3002</p> <p>\u505a\u8fd9\u4e2a PA \u5b9e\u9a8c\u82b1\u7684\u65f6\u95f4\u6bd4\u9884\u60f3\u7684\u4e45\uff0c\u4e00\u4e2a\u662f\u6211\u5b66\u5f97\u6162\uff0criscv \u770b\u4e86\u4e00\u5929\uff0c\u7136\u540e make \u600e\u4e48\u7528\u770b\u4e86\u4e00\u5929\uff0c\u57fa\u672c\u4e0a\u6bcf\u5929\u53ea\u80fd\u8fc7\u4e00\u70b9\u70b9\u8fdb\u5ea6\uff0c\u4e00\u5929\u505a\u663e\u5361\uff0c\u4e00\u5929\u505a\u58f0\u5361\uff1b\u4f46\u662f\u786e\u5b9e\u5f88\u6709\u6536\u83b7\u7684\uff0c\u4e4b\u524d\u5f88\u5c11\u6709\u673a\u4f1a\u770b\u8fd9\u4e48\u591a\u4ee3\u7801\u3002\u6700\u5927\u7684\u6536\u83b7\u5c31\u662f\u5bf9\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u628a\u63e1\u5427\u3002</p> <p>PA 2 \u8fd9\u4e2a\u5b9e\u9a8c\u82b1\u4e86\u5e94\u8be5\u6709 100+ \u5c0f\u65f6\u5427\uff0c\u9646\u9646\u7eed\u7eed\u5199\u4e86\u4e24\u4e2a\u661f\u671f\u4e86</p> <p>\u4e0b\u9762\u5c31\u4ee5\u95ee\u9898\u4e3a\u5bfc\u5411\u6765\u6574\u7406\u597d\u4e86\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#1-nemu","title":"1. NEMU \u4e2d\uff0c\u4e00\u6761\u6307\u4ee4\u662f\u600e\u4e48\u5b8c\u6574\u6267\u884c\u7684","text":"<p>\u597d\u5427\uff0c\u5c31\u4ece\u8fd9\u4e2a\u5fc5\u7b54\u9898\uff1a\u4e00\u6761\u6c47\u7f16\u6307\u4ee4\u5728 NEMU \u4e2d\u7684\u6267\u884c\u8fc7\u7a0b\u5f00\u59cb\u8bf4\u8d77\u3002</p> <p>\u53ea\u5b66\u8fc7\u5927\u8ba1\u57fa\u7684\u4eba\u4e5f\u77e5\u9053\uff0c\u6307\u4ee4\u7684\u6267\u884c\u8fc7\u7a0b\u662f\u53d6\u6307\u3001\u8bd1\u7801\u3001\u6267\u884c\uff0c\u800c NEMU \u6b63\u662f\u8fd9\u6837\u7684\u4e00\u4e2a\u6a21\u62df\u5668\u3002</p> <p>\u9996\u5148\u662f\u5f00\u673a\uff0c <code>nemu/src/monitor/monitor.c</code> \u4e2d\u505a\u4e86\u5404\u79cd\u521d\u59cb\u5316\u7684\u5de5\u4f5c</p> <pre><code>init_rand();\ninit_mem();\ninit_isa();\nload_img();\nIFDEF(CONFIG_DEVICE, init_device());\nwelcome();\n</code></pre> <p>\u7136\u540e\uff0c\u5f00\u59cb\u6267\u884c\u4f60\u7684\u7a0b\u5e8f\u3002 \u6267\u884c\u6709\u5173\u7684\u4ee3\u7801\u90fd\u5728 <code>nemu/src/cpu/cpu-exec.c</code> \u4e2d\u3002\u6211\u4eec\u4e00\u5c42\u4e00\u5c42\u770b\u4e0b\u53bb\u5c31\u77e5\u9053\u4e86\uff08\u7528 GDB \u8c03\u8bd5\u66f4\u6e05\u695a\uff09\u3002\u6267\u884c\u4e00\u6761\u6307\u4ee4\u7684\u51fd\u6570\u662f <code>exec_once()</code>\uff0c\u5b83\u505a\u4e86\u4ec0\u4e48\u5462\u3002 \u5148\u770b\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\u5427\uff0c\u770b\u8fd9\u4e2a Decode \u7ed3\u6784\u7684\u5b9a\u4e49 <pre><code>typedef struct Decode {\n  vaddr_t pc;\n  vaddr_t snpc; // static next pc\n  vaddr_t dnpc; // dynamic next pc\n  ISADecodeInfo isa;\n  IFDEF(CONFIG_ITRACE, char logbuf[128]);\n} Decode;\n</code></pre> \u5305\u62ec pc\uff08\u5f53\u524d\u6307\u4ee4\uff09snpc \u4e0b\u4e00\u6761\u52a8\u6001\u6307\u4ee4 dnpc \u4e0b\u4e00\u6761\u9759\u6001\u6307\u4ee4</p> <p>\u8fd9\u4e2a\u7ed3\u6784\u4f53\u5b58\u50a8\u4e86 <code>pc</code> \u7684\u4fe1\u606f\u3002\u4e8e\u662f\u6211\u4eec\u5c31\u8fd9\u6837\u66f4\u65b0 cpu.pc \u8fd9\u4e2a\u7a0b\u5e8f\u8ba1\u6570\u5668 <pre><code>s-&gt;pc = pc;\ns-&gt;snpc = pc;\nisa_exec_once(s);\ncpu.pc = s-&gt;dnpc;\n</code></pre> \u7136\u540e\u5728 isa_exec_once \u4e2d\u5c31\u662f\u5177\u4f53\u7684 \u53d6\u6307\u8bd1\u7801\u6267\u884c\u64cd\u4f5c\u4e86\u3002\u5177\u4f53\u7684\u4ee3\u7801\u5728 <code>nemu/src/isa/riscv32/inst.c</code> \u4e2d\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#_15","title":"\u53d6\u6307","text":"<p>\u9996\u5148\u8981\u53d6\u6307\u3002 <code>s-&gt;pc</code> \u5b58\u50a8\u4e86\u5f53\u524d\u8981\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\uff0c\u4ece\u8fd9\u4e2a\u5730\u5740\u8bfb\u53d6\u6307\u4ee4\u3002\u5177\u4f53\u6765\u8bf4\u662f\u8fd9\u6837\uff0c\u5728NEMU\u4e2d, \u6709\u4e00\u4e2a\u51fd\u6570 <code>inst_fetch()</code> (\u5728 <code>nemu/include/cpu/ifetch.h</code> \u4e2d\u5b9a\u4e49)\u4e13\u95e8\u8d1f\u8d23\u53d6\u6307\u4ee4\u7684\u5de5\u4f5c.  <code>inst_fetch()</code> \u6700\u7ec8\u4f1a\u6839\u636e\u53c2\u6570len\u6765\u8c03\u7528 <code>vaddr_ifetch()</code> (\u5728 <code>nemu/src/memory/vaddr.c</code> \u4e2d\u5b9a\u4e49), \u800c\u76ee\u524d <code>vaddr_ifetch()</code> \u53c8\u4f1a\u901a\u8fc7 <code>paddr_read()</code> \u6765\u8bbf\u95ee\u7269\u7406\u5185\u5b58\u4e2d\u7684\u5185\u5bb9. \u56e0\u6b64, \u53d6\u6307\u64cd\u4f5c\u7684\u672c\u8d28\u53ea\u4e0d\u8fc7\u5c31\u662f\u4e00\u6b21\u5185\u5b58\u7684\u8bbf\u95ee\u800c\u5df2.</p> <p>\u53e6\u5916\uff0c <code>isa_exec_once()</code> \u5728\u8c03\u7528 <code>inst_fetch()</code> \u7684\u65f6\u5019\u4f20\u5165\u4e86 <code>s-&gt;snpc</code> \u7684\u5730\u5740, \u56e0\u6b64 <code>inst_fetch()</code> \u6700\u540e\u8fd8\u4f1a\u6839\u636e <code>len</code> \uff08\u5373\u6307\u4ee4\u957f\u5ea6\uff09\u6765\u66f4\u65b0 <code>s-&gt;snpc</code> , \u4ece\u800c\u8ba9 <code>s-&gt;snpc</code> \u6307\u5411\u4e0b\u4e00\u6761\u6307\u4ee4. </p>"},{"location":"ICS/2023-11-02-PAnote/#_16","title":"\u8bd1\u7801","text":"<p>\u7136\u540e\u8bd1\u7801\u3002\u63a5\u4e0b\u6765\u4ee3\u7801\u4f1a\u8fdb\u5165 <code>decode_exec()</code> \u51fd\u6570, \u6765\u8fdb\u884c\u8bd1\u7801\u3002\u8bd1\u7801\uff0c\u987e\u540d\u601d\u4e49\u5c31\u662f\u7ffb\u8bd1\u53d6\u51fa\u7684\u6307\u4ee4\uff0c\u770b\u5bf9\u5e94\u7684\u64cd\u4f5c\u662f\u4ec0\u4e48\u3002</p> <p>\u5728 NEMU \u4e2d\uff0c\u8bd1\u7801\u662f\u901a\u8fc7\u6a21\u5f0f\u5339\u914d\u6765\u5b9e\u73b0\u7684\u3002\u8981\u5b9e\u73b0\u5339\u914d\uff0c\u53c8\u5b9a\u4e49\u4e86\u4e00\u4e2a\u975e\u5e38\u7cbe\u5999\u7684\u5b8f <code>INSTPAT</code> \u6765\u5b9a\u4e49\u3002</p> <p>\u683c\u5f0f\u662f\u8fd9\u6837</p> <pre><code>INSTPAT(\u6a21\u5f0f\u5b57\u7b26\u4e32, \u6307\u4ee4\u540d\u79f0, \u6307\u4ee4\u7c7b\u578b, \u6307\u4ee4\u6267\u884c\u64cd\u4f5c);\n</code></pre> <p>\u4f8b\u5b50\u5982\u4e0b</p> <pre><code>INSTPAT_START();\nINSTPAT(\"??????? ????? ????? ??? ????? 00101 11\", auipc, U, R(rd) = s-&gt;pc + imm);\nINSTPAT(\"0000000 00001 00000 000 00000 11100 11\", ebreak , N, NEMUTRAP(s-&gt;pc, R(10))); // R(10) is $a0\nINSTPAT(\"??????? ????? ????? ??? ????? ????? ??\", inv    , N, INV(s-&gt;pc)); // invalid inst\n// ...\nINSTPAT_END();\n</code></pre> <p>\u5982\u679c\u4f60\u7684\u6307\u4ee4\u6ee1\u8db3\u67d0\u4e00\u6761\u5339\u914d\u89c4\u5219\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u89c4\u5219\u5c06\u4e00\u4e32\u4e8c\u8fdb\u5236 01 \u7ffb\u8bd1\u6210\u5bf9\u5e94\u7684\u6267\u884c\u64cd\u4f5c\u4e86\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#_17","title":"\u6267\u884c","text":"<p>\u8bd1\u7801\u5b8c\u6210\u4e86\u4ee5\u540e\uff0c\u76f8\u5e94\u7684\u52a8\u4f5c\u90fd\u662f\u7528 C \u8bed\u8a00\u6a21\u62df\u7684\uff0c\u6211\u4eec\u6267\u884c\u8fd9\u4e9b\u52a8\u4f5c\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#pc","title":"\u66f4\u65b0 PC","text":"<p>\u4e0a\u9762\u6267\u884c\u5b8c\u4e86\u4ee5\u540e\uff0c\u56de\u5230 <code>exec-once</code> \u51fd\u6570\uff0c \u66f4\u65b0 pc \u5c31\u7ed3\u675f\u4e86\u3002</p> <p>\u518d\u4e4b\u540e\u7684\u4ee3\u7801\uff0c\u5c31\u662f\u6253\u5370\u51fa\u53d6\u5230\u7684\u6307\u4ee4\u7684 16 \u8fdb\u5236\u8868\u793a\u53ca\u5176\u53cd\u6c47\u7f16\u7ed3\u679c\u7684\uff1b\u6e90\u7801\u5f88\u6e05\u695a\uff0c\u5c31\u4e0d\u591a\u8bf4\u4e86\uff0c\u81ea\u5df1\u770b\u5427\u3002</p> tips <p>\u5b8f\u5b9a\u4e49\u592a\u590d\u6742\u4e86\uff0c\u8981\u7ed5\u6655\u4e86\u600e\u4e48\u529e\u5462\uff1f\u7f16\u8bd1\u5668\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u3002gcc \u52a0 <code>-E</code> \u9009\u9879\u53ef\u4ee5\u53ea\u6253\u5370\u5c55\u5f00\u7ed3\u679c\u800c\u4e0d\u7f16\u8bd1\u3002</p> <p>\u6709\u4e24\u4e2a\u5b8f\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\uff0c\u5c55\u5f00\u4e86\u5c31\u5f88\u6e05\u6670\u4e86\uff1a \u4e00\u4e2a\u5c31\u662f\u5b58\u50a8\u5bc4\u5b58\u5668\u548c PC \u7684\u60c5\u51b5\uff0c\u8fd8\u6709\u4e00\u4e2a\u5c31\u662f\u7528\u6765\u5b58\u50a8\u6307\u4ee4\u7684\u7ed3\u6784\u4f53</p> <pre><code>typedef struct {\nword_t gpr[32];\n  vaddr_t pc;\n} riscv32_CPU_state;\ntypedef struct {\nunion {\n    uint32_t val;\n  } inst;\n} riscv32_ISADecodeInfo;\n</code></pre> <p>\u6839\u636e riscv \u6307\u4ee4\u6765\u4e00\u6761\u6761\u6dfb\u52a0\u5339\u914d\u89c4\u5219\uff0c\u8fd9\u5c31\u662f PA2 \u7684\u7b2c\u4e00\u90e8\u5206\u4e86\u3002\u8fd9\u91cc\u5c31\u4f53\u73b0\u4e86 riscv \u7684\u4f18\u8d8a\u6027\uff0c\u53ea\u9700\u8981\u6dfb\u52a0\u5927\u7ea6 40 \u6761\u6307\u4ee4\u5c31\u53ef\u4ee5\u901a\u8fc7\u6240\u6709\u7684\u6d4b\u8bd5\u4e86\uff0c\u8fd9\u662f x86 \u60f3\u90fd\u4e0d\u6562\u60f3\u7684\u4e8b\u60c5\u3002</p> <p>\u4e0a\u9762\u5c31\u662f\u4e00\u6761\u6307\u4ee4\u5b8c\u6574\u7684\u6267\u884c\u7ed3\u679c\u4e86\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#nemu","title":"NEMU \u662f\u4ec0\u4e48\uff1f","text":"<p>NEMU \u662f\u4e00\u4e2a\u6a21\u62df\u5668\uff0c\u5b83\u6a21\u62df\u4e86\u771f\u5b9e\u8ba1\u7b97\u673a\u7684\u786c\u4ef6\uff0c\u4ece\u6267\u884c\u6307\u4ee4\u7684 CPU \u3001\u5185\u5b58\u5230\u540e\u9762\u663e\u5361\u3001\u58f0\u5361\u7b49\u5916\u8bbe\uff0c\u90fd\u53ef\u4ee5\u88ab\u5b83\u6a21\u62df\u51fa\u6765\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#2-am","title":"2. AM \u662f\u4ec0\u4e48\uff1f\u8fd0\u884c\u65f6\u73af\u5883\u662f\u4ec0\u4e48\uff1f","text":"<p>\u6211\u5199\u4e86\u4e00\u4e2a C \u7a0b\u5e8f\uff0c\u8981\u5728 NEMU \u4e0a\u8fd0\u884c\uff0c\u600e\u4e48\u8fd0\u884c\u5462\uff1f\u6211\u4eec\u8981\u4e3a\u7a0b\u5e8f\u63d0\u4f9b\u5b83\u9700\u8981\u7684\u8fd0\u884c\u65f6\u73af\u5883\u3002\u8fd0\u884c\u65f6\u73af\u5883\u662f\u4e00\u4e2a\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u201c\u7a0b\u5e8f\u8fd0\u884c\u6240\u9700\u7684\u5404\u79cd\u9700\u6c42\u7684\u6ee1\u8db3\u201d\u3002</p> <p>\u5728\u4e0a\u4e00\u90e8\u5206\u4e2d\u6211\u4eec\u5b9e\u73b0\u4e86\u56db\u5341\u591a\u6761\u6307\u4ee4\uff0c\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u5404\u79cd\u8ba1\u7b97\u4e86\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u4e00\u4e2a\u201c\u56fe\u7075\u673a\u201d\u3002\u201c\u56fe\u7075\u673a\u201d\u5c31\u662f\u6700\u7b80\u5355\u7684\u8fd0\u884c\u65f6\u73af\u5883\uff1a\u5185\u5b58\uff0c\u7ed3\u675f\u8fd0\u884c\u7684\u65b9\u5f0f\u548c\u8fd0\u7b97\u7684\u6307\u4ee4\u3002</p> <p>\u7136\u540e\u5462\uff0c\u5982\u679c\u6211\u7684\u7a0b\u5e8f\u7684\u9700\u6c42\u66f4\u591a\u5462\uff1f\u5b83\u4e0d\u6ee1\u8db3\u4e8e\u8fd0\u7b97\uff0c\u5b83\u60f3\u8981\u6253\u5370\uff0c\u5b83\u60f3\u8981\u663e\u793a\uff0c\u60f3\u8981\u63a5\u53d7\u952e\u76d8\u8f93\u5165\uff0c\u7b49\u7b49\uff0c\u600e\u4e48\u529e\uff1f\u6211\u4eec\u8981\u4e3a\u5b83\u63d0\u4f9b\u66f4\u4e30\u5bcc\u7684\u8fd0\u884c\u65f6\u73af\u5883\u3002</p> <p>\u4e8e\u662f AM \u5c31\u5e94\u8fd0\u800c\u751f\u4e86\u3002AM \u662f\u4e00\u4e2a\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u5404\u79cd\u8fd0\u884c\u65f6\u73af\u5883\u7684\u5e93\u3002</p> <p>AM \u5c06\u7a0b\u5e8f\u8fd0\u884c\u7684\u9700\u6c42\u90fd\u6536\u96c6\u8d77\u6765\uff0c\u62bd\u8c61\u6210\u4e86\u7edf\u4e00\u7684 API\uff0c\u5e94\u7528\u7a0b\u5e8f\u6709\u9700\u6c42\uff0c\u76f4\u63a5\u8c03\u7528\u5bf9\u5e94\u7684 API \u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5176\u5b9e\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8bf4\uff0c\u5e94\u7528\u7a0b\u5e8f\u5e72\u561b\u975e\u5f97\u8c03\u5e93\u5462\uff1f\u6211\u6709\u9700\u6c42\uff0c\u6211\u81ea\u5df1\u7801\u4ee3\u7801\u5b9e\u73b0\u4e0d\u53ef\u4ee5\u5417\uff1f\u6bd4\u5982\u8bf4\uff0c\u6211\u60f3\u64cd\u63a7\u786c\u4ef6\uff0c\u90a3\u6211\u5c31\u76f4\u63a5\u5199\u5bf9\u786c\u4ef6\u8bfb\u5199\u7684\u4ee3\u7801\u5457\uff0c\u4e0d\u884c\u5417\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5f53\u7136\u662f\u53ef\u4ee5\u7684\u3002\u4f46\u662f\uff0c\u8fd9\u6837\u4e0d\u9ebb\u70e6\u5417\uff1f\u6240\u4ee5\uff0cAM \u5b58\u5728\u7684\u6700\u5927\u610f\u4e49\u5c31\u662f\u4e3a\u4e86\u62bd\u8c61\uff0c\u800c\u62bd\u8c61\u662f\u4e3a\u4e86\u7b80\u5355\u3002\u6211\u62bd\u8c61\u51fa\u6765\uff0c\u8ba9\u5e94\u7528\u7a0b\u5e8f\u4e0d\u5fc5\u5173\u6ce8\u5e95\u5c42\u7684\u786c\u4ef6\uff0c\u4e13\u6ce8\u4e8e\u5b9e\u73b0\u81ea\u5df1\u7684\u529f\u80fd\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u6240\u4ee5\uff0c\u539f\u672c\u7684\u8f6f\u786c\u4ef6\u5173\u7cfb\u662f\u8fd9\u6837\u7684\uff1a <pre><code>NEMU -&gt; \u5e94\u7528\u8f6f\u4ef6\u5c42\n</code></pre> NEMU \u63d0\u4f9b\u786c\u4ef6\u529f\u80fd\uff1b\u5e94\u7528\u8f6f\u4ef6\u76f4\u63a5\u6267\u884c\uff0c\u76f4\u63a5\u548c\u786c\u4ef6\u4ea4\u4e92</p> <p>\u73b0\u5728\u589e\u52a0\u4e86\u4e00\u5c42 AM \u62bd\u8c61\u5c42\uff1a <pre><code>NEMU -&gt; AM \u62bd\u8c61\u5c42 -&gt; \u5e94\u7528\u8f6f\u4ef6\u5c42\n</code></pre> NEMU \u63d0\u4f9b\u786c\u4ef6\u529f\u80fd\uff1bAM \u62bd\u8c61\u5c42\u8d1f\u8d23\u548c\u4e0a\u5c42\u7684\u8f6f\u4ef6\u548c\u5e95\u5c42\u7684\u786c\u4ef6\u8fdb\u884c\u4ea4\u4e92\uff0c\u5c4f\u853d\u6389\u4ea4\u4e92\u7ec6\u8282\uff0c\u53ea\u63d0\u4f9b\u62bd\u8c61\u63a5\u53e3\u7ed9\u5e94\u7528\u8f6f\u4ef6\u5c42\uff1b\u5e94\u7528\u8f6f\u4ef6\u5c42\u4e0d\u76f4\u63a5\u64cd\u7eb5\u786c\u4ef6\uff0c\u53ea\u548c AM \u62bd\u8c61\u5c42\u8fdb\u884c\u4ea4\u4e92\u3002</p> <p>AM \u4e2d\u7684 API\uff0c\u5e2e\u52a9\u5b9e\u73b0\u4e86\u7a0b\u5e8f\u9700\u8981\u7684\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u4e8e\u662f\u5c06\u8fd9\u4e9b API \u79f0\u4f5c abstract machine\uff0c\u8fd9\u5c31\u662f AM \u5e93\u540d\u79f0\u7684\u7531\u6765\u3002\u8c03\u7528\u4e86\u8fd9\u4e9b\u63a5\u53e3\u7684\u7a0b\u5e8f\uff0c\u79f0\u4e3a AM \u7a0b\u5e8f\u3002\u7ec6\u7ec6\u7406\u89e3\u4e5f\u662f\uff0c\u8fd9\u4e9b\u63a5\u53e3\u5b9e\u73b0\uff0c\u5f88\u50cf\u4e00\u4e2a\u4e3a\u7a0b\u5e8f\u8fd0\u884c\u63d0\u4f9b\u5404\u79cd\u4e1c\u897f\u7684\u8ba1\u7b97\u673a\u3002AM \u5e93\u5305\u542b\u4e0b\u9762\u90e8\u5206\uff1a</p> <pre><code>AM = TRM + IOE + CTE + VME + MPE\n</code></pre> <p>TRM \u63d0\u4f9b\u8ba1\u7b97\u529f\u80fd\uff0cIOE \u63d0\u4f9b\u8f93\u5165\u8f93\u51fa\u529f\u80fd\uff0c\u5176\u4ed6\u7684\u8fd8\u672a\u6d89\u53ca\u3002</p> <p>(2024\u5e743\u670826\u65e5) \u611f\u89c9\u81ea\u5df1\u4e0a\u9762\u6709\u70b9\u5570\u55e6. \u5176\u5b9e\u5c31\u662f\u56e0\u4e3a\u76f4\u63a5\u548c\u786c\u4ef6\u4ea4\u4e92\u592a\u9ebb\u70e6\u4e86, \u6240\u4ee5\u4e8b\u5148\u5199\u597d\u548c\u786c\u4ef6\u4ea4\u4e92\u7684\u51fd\u6570\u518d\u8c03\u7528\u5c31\u4e0d\u7528\u8fd9\u4e48\u9ebb\u70e6\u6bcf\u6b21\u90fd\u4ece\u96f6\u5f00\u59cb\u5199\u4e86, AM \u5c31\u662f\u4e3a\u4e86\u65b9\u4fbf\u800c\u4ea7\u751f\u7684. </p>"},{"location":"ICS/2023-11-02-PAnote/#_18","title":"\u5177\u4f53\u5b9e\u73b0","text":"<p>\u8fd0\u884c\u65f6\u73af\u5883\u53ef\u4ee5\u5206\u4e3a\u67b6\u6784\u76f8\u5173\u548c\u67b6\u6784\u65e0\u5173\u3002io \u5c31\u662f\u5178\u578b\u7684\u67b6\u6784\u76f8\u5173\u7684\uff0c\u4e0d\u540c isa \u5bf9\u5e94\u7684\u5e95\u5c42\u786c\u4ef6\u4e0d\u540c\uff0c\u6240\u4ee5\u5bf9\u6bcf\u4e00\u79cd\u67b6\u6784\u90fd\u8981\u5199\u4e00\u4e2a\u5bf9\u5e94\u7684\u51fd\u6570\u3002\u8fd8\u6709\u4e00\u4e9b\u5e93\u51fd\u6570\u662f\u67b6\u6784\u65e0\u5173\u7684\uff0c\u4e00\u4e2a\u5b9e\u73b0\u5c31\u53ef\u4ee5\u7ed9\u6240\u6709\u7684\u67b6\u6784\u7528\u4e86\u3002</p> <p>\u5b9e\u73b0\u5e93\u51fd\u6570\u8fd9\u91cc\u90fd\u662f\u82e6\u529b\u6d3b\uff0c\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\u3002\u5c31\u4e00\u4e2a bug \u9700\u8981\u63d0\u4e00\u63d0\uff0c\u5728\u5b9e\u73b0 <code>strcmp</code> \u7684\u65f6\u5019\u53d1\u73b0\u7684\uff0c\u5173\u4e8e <code>char</code> \u7684 bug\u3002</p> <ol> <li><code>char</code> \u5728\u7f16\u8bd1\u65f6\u5c45\u7136\u662f\u9ed8\u8ba4\u88ab\u89e3\u91ca\u4e3a\u65e0\u7b26\u53f7\u7c7b\u578b\u7684\uff0c\u5373 <code>unsigned char</code>\u3002\u5e94\u8be5\u662f\u4ea4\u53c9\u7f16\u8bd1\u5bfc\u81f4\u7684\uff0c\u56e0\u4e3a x86 \u7684\u4e0b\u7f16\u8bd1\u662f\u89e3\u91ca\u4e3a\u6709\u7b26\u53f7\u7c7b\u578b\u7684\uff08\u7b49\u5f85 difftest \u9a8c\u8bc1\uff09\u3002\u89e3\u51b3\u65b9\u6cd5\u662f\u4f7f\u7528 <code>int8_t</code> \u6765\u660e\u786e\u7c7b\u578b\u3002</li> <li>8 \u4f4d\u65e0\u7b26\u53f7\u6570\u76f8\u51cf\u5f97\u5230\u7684\u5374\u662f\u6709\u7b26\u53f7\u6570\uff0c\u7136\u800c\u7ed3\u679c\u7528 (int) \u6269\u5c55\u5230 32 \u4f4d\u540e\u7ed3\u679c\u53c8\u53d8\u6210\u4e86\u65e0\u7b26\u53f7\u6570\u3002\u8fd9\u4e2a\u7279\u6027\u4e0d\u7ba1\u662f x86 \u8fd8\u662f riscv \u90fd\u6709\u3002\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u5c0f\u5fc3\u4e00\u70b9\u591a\u505a\u4e00\u6b65\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u3002     \u6211\u73b0\u5728\u53d1\u73b0\u8fd9\u5176\u5b9e\u4e0d\u662f\u4ec0\u4e48 bug\uff0c\u662f\u8fd9\u6837\u7684\u539f\u56e0\uff1a\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u505a\u8fd0\u7b97\uff08\u53cc\u76ee\u8fd0\u7b97\u7b26\u7684\u4e24\u8fb9\uff09\u65f6\u4f1a\u8f6c\u5316\u4e3a\u65e0\u7b26\u53f7\u6570\uff0c\u6240\u4ee5\u5728 a=1\uff0cb=2\u65f6\uff0ca-b==-1 \u548c a==-1u \u90fd\u6210\u7acb \u8fd9\u662f\u56e0\u4e3a -1 \u88ab\u8f6c\u5316\u6210\u4e86\u65e0\u7b26\u53f7\u6570\u3002</li> <li>\u6240\u4ee5 <code>&lt;stdint.h&gt;</code> \u89c4\u907f\u4e86\u5f88\u591a\u6b67\u4e49\uff0c\u5efa\u8bae\u4f7f\u7528\u3002</li> </ol>"},{"location":"ICS/2023-11-02-PAnote/#3-am-nemu","title":"3. AM \u7a0b\u5e8f\u600e\u4e48\u6784\u5efa\uff0c\u600e\u4e48\u5728 NEMU \u4e2d\u8fd0\u884c\uff1f","text":"<p>\u8bb2\u4e49\u503c\u5f97\u53c2\u8003\u7684\u90e8\u5206\uff1ahttps://nju-projectn.github.io/ics-pa-gitbook/ics2023/2.3.html#rtfsc3 </p> <p>\u53ef\u4ee5\u95ee\u4e00\u4e2a\u66f4\u52a0\u5177\u4f53\u7684\u95ee\u9898\uff1a\u5728<code>am-kernels/kernels/hello/</code> \u4e0b\u8fd0\u884c <code>make ARCH=$ISA-nemu run</code>\uff0cmake \u5230\u5e95\u505a\u4e86\u4e9b\u4ec0\u4e48\u5462\uff1f</p> <p>\u5148\u770b AM \u7a0b\u5e8f\u662f\u600e\u4e48\u6784\u5efa\u7684\u5427\u3002\u770b AM \u7684 Makefile \u6e90\u6587\u4ef6\uff0c\u6211\u53ef\u4ee5\u770b\u51fa\u6765\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u4ee3\u7801\uff0c\u5e76\u4e14\u53ef\u4ee5\u6839\u636e <code>ARCH</code> \u8fd9\u4e2a\u547d\u4ee4\u884c\u53c2\u6570\u6765\u9009\u62e9\u4e0d\u540c\u7684\u67b6\u6784\u3002\u9009\u62e9\u7684\u67b6\u6784\u4e0d\u540c\uff0c\u5c31\u4f1a\u9009\u62e9\u4e0d\u540c\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\uff0c\u7f16\u8bd1\u4e0d\u540c\u67b6\u6784\u7684\u4ee3\u7801\u3002\u5982\u679c\u9009\u62e9\u7684\u67b6\u6784\u662f<code>native</code>\uff0c\u5c31\u76f4\u63a5\u7528 gcc \u7f16\u8bd1\u6210 <code>x86</code> \u7c7b\u578b\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728 linux \u4e3b\u673a\u4e0a\u8fd0\u884c\uff1b\u5982\u679c\u9009\u62e9\u7684\u662f<code>riscv32-nemu</code>\uff0c\u5c31\u4f1a\u7528riscv64-linux-gnu-gcc \u6765\u7f16\u8bd1\uff0c\u5e76\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\uff0c\u6765\u4f7f\u5f97\u7a0b\u5e8f\u53ef\u4ee5\u5728 nemu \u4e0a\u8fd0\u884c\u3002</p> \u5c0f\u95ee\u9898 <p>\u95ee\u9898\uff1a\u6211\u76ee\u524d\u8fd8\u6ca1\u6709\u641e\u6e05\u695a\u5728 Makefile \u4e2d\u600e\u4e48\u89c4\u5b9a\u7f16\u8bd1\u94fe\u63a5\u7684\u987a\u5e8f\u3002</p> <p>\u52c9\u5f3a\u7b54\uff1a\u7f16\u8bd1\u7684\u5148\u540e\u987a\u5e8f\u65e0\u6240\u8c13\uff0c\u94fe\u63a5\u7684\u987a\u5e8f\u662f ld \u6839\u636e\u94fe\u63a5\u811a\u672c <code>abstract-machine/scripts/linker.ld</code> \u6765\u94fe\u63a5\uff0cbut \u8fd9\u4e2a\u6587\u4ef6\u6211\u8fd8\u662f\u770b\u4e0d\u61c2\u3002</p> \u4ea4\u53c9\u7f16\u8bd1 <p>\u4ec0\u4e48\u662f\u4ea4\u53c9\u7f16\u8bd1\u5462\uff1f\u5728\u4e00\u4e2a\u5e73\u53f0\u4e0a\u5c06\u4ee3\u7801\u7f16\u8bd1\u6210\u53e6\u4e00\u4e2a\u5e73\u53f0\u7684\u7a0b\u5e8f\u5c31\u53eb\u4ea4\u53c9\u7f16\u8bd1\u3002\u6bd4\u5982\u6211\u4eec\u8fd9\u91cc\uff0c\u5c31\u662f\u5728 <code>x86</code> \u7684 linux \u5e73\u53f0\u4e0b\u628a\u4ee3\u7801\u7f16\u8bd1\u6210 <code>riscv32</code> \u7c7b\u578b\u7684\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u8981\u641e\u6e05\u695a make \u5728\u505a\u4ec0\u4e48\u7684\u8bdd\uff0c\u53ef\u4ee5\u5229\u7528 make \u7684 -n \u9009\u9879\u6765\u67e5\u770b\u8fd0\u884c make \u4f1a\u6267\u884c\u54ea\u4e9b\u547d\u4ee4\u3002\u8fd9\u91cc\u6211\u4eec\u8fd0\u884c</p> <pre><code>make -n ARCH=riscv32-nemu run\n</code></pre> <p>\u8f93\u51fa\u7684\u7ed3\u679c\u5f88\u957f\uff0c\u6211\u5c31\u4e0d\u653e\u4e86\u3002 \u505a\u7684\u4e8b\u60c5\u6982\u62ec\u8d77\u6765\u662f\uff1a</p> <ol> <li>gcc \u5c06 AM \u5b9e\u73b0\u6e90\u6587\u4ef6\u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6\uff0c\u7528 ar \u5c06\u76ee\u6807\u6587\u4ef6\u6253\u5305\u6210\u4e00\u4e2a\u5e93</li> <li>\u901a\u8fc7 gcc \u548c ar \u5c06 klib \u7684\u5b9e\u73b0\u7f16\u8bd1\u6253\u5305\u6210\u5e93</li> <li>gcc \u628a\u5e94\u7528\u7a0b\u5e8f\u6e90\u6587\u4ef6 <code>hello.c</code> \u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6</li> <li>\u7528 ld \u6839\u636e\u94fe\u63a5\u811a\u672c <code>abstract-machine/scripts/linker.ld</code>, \u5c06\u4e0a\u8ff0\u76ee\u6807\u6587\u4ef6\u548c\u5f52\u6863\u6587\u4ef6\u94fe\u63a5\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c<code>*.bin</code>\u662f\u955c\u50cf\u6587\u4ef6\uff0c\u5c06\u52a0\u8f7d\u5230 nemu \u4e2d\u8fd0\u884c\uff0c<code>*.elf</code> \u662f\u5bf9\u5e94\u7684 16 \u8fdb\u5236\u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6\u5b83\u83b7\u5f97\u76f8\u5e94\u7684\u4fe1\u606f\u3002</li> <li>run \u9009\u9879\u5bf9\u5e94\u7684\u4ee3\u7801\u662f <code>$(MAKE)i-C $(NEMU_HOME) ISA=$(ISA) run ARGS=\"$(NEMUFLAGS)\" IMG=$(IMAGE).bin</code>\u3002\u5f88\u7b80\u5355\uff0c\u662f\u5728 nemu \u7684\u4e3b\u6587\u4ef6\u5939\u4e0b\u7f16\u8bd1\u6784\u5efa\u51fa nemu interpreter\uff0c\u5e76\u8fd0\u884c\u5b83\u3002</li> </ol> <p>\u63a5\u7740\uff0cnemu \u8fd0\u884c\u5b83\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u8fc7\u7a0b\uff1a</p> <ol> <li>\u6253\u5f00 nemu \u4ee5\u540e\uff0cnemu \u5728\u521d\u59cb\u5316\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u5373\u5c06\u6267\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u955c\u50cf\u6587\u4ef6 (*.bin) \u52a0\u8f7d\u5230\u5185\u5b58 (pmem) \u4e2d\u3002</li> <li>\u5f00\u59cb\u8fd0\u884c\u7a0b\u5e8f\u540e\uff0c\u7b2c\u4e00\u6761\u6307\u4ee4\u4ece <code>abstract-machine/am/src/$ISA/nemu/start.S</code> \u5f00\u59cb, \u8bbe\u7f6e\u597d\u6808\u9876\u4e4b\u540e\u5c31\u8df3\u8f6c\u5230 <code>abstract-machine/am/src/platform/nemu/trm.c</code> \u7684 <code>_trm_init()</code> \u51fd\u6570\u5904\u6267\u884c.</li> <li>\u5728 <code>_trm_init()</code>\u4e2d\u8c03\u7528 <code>main()</code> \u51fd\u6570\u6267\u884c\u7a0b\u5e8f\u7684\u4e3b\u4f53\u529f\u80fd</li> <li>\u4ece <code>main()</code> \u51fd\u6570\u8fd4\u56de\u540e, \u8c03\u7528 <code>halt()</code> \u7ed3\u675f\u8fd0\u884c</li> </ol> \u5c0f\u95ee\u9898 <p>\u95ee\u9898\uff1a\u7f16\u8bd1\u6784\u5efa nemu \u9879\u76ee\u65f6\uff0c\u6700\u540e\u7684\u9879\u76ee\u540d\u79f0 <code>nemu-intepreter</code> \u54ea\u91cc\u6765\u7684\uff1f\u6211\u8fd8\u6ca1\u641e\u6e05\u695a\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#4-io","title":"4. IO \u8bbe\u5907","text":"<p>NEMU \u662f\u600e\u4e48\u5b9e\u73b0\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\u7684\u6a21\u62df\u7684\uff1f</p> <p>\u770b\u4e00\u770b\u6e90\u7801\uff0c\u4e00\u4e2a\u8bbe\u5907\u662f\u600e\u4e48\u6ce8\u518c\u7684\u3002\u9996\u5148\u89c4\u5b9a\u597d\u8bbe\u5907\u7684\u5927\u5c0f\uff0c\u7ed9\u8bbe\u5907\u63a5\u53e3\u5206\u914d\u4e00\u4e2a\u6240\u9700\u7684\u5927\u5c0f\u7684\u7a7a\u95f4\uff08\u7528 malloc \u5373\u53ef\uff09\uff0c\u7136\u540e\u89c4\u5b9a\u597d\u8bbe\u5907\u7684\u6620\u5c04\u5730\u5740\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u6700\u540e\u5c06\u7a7a\u95f4\u3001\u5730\u5740\u548c\u51fd\u6570\u7b49\u4fe1\u606f\u901a\u8fc7\u521d\u59cb\u5316\u51fd\u6570\u5b58\u50a8\u8d77\u6765\uff0c\u5c31\u5b8c\u6210\u4e86\u6ce8\u518c\u3002</p> <p>\u5982\u679c\u6211\u6ce8\u518c\u4e86\u4e00\u4e2a\u8bbe\u5907\uff0c\u5f53\u6211\u8bbf\u95ee\u8fd9\u6bb5\u7269\u7406\u5730\u5740\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8df3\u8f6c\u5230\u5bf9\u5e94 I/O \u8bbe\u5907\u5730\u5740\uff08\u5c31\u662f\u4e0a\u9762 malloc \u5206\u914d\u7684\u989d\u5916\u7684\u7a7a\u95f4\uff0c\u800c\u4e0d\u518d\u662f pmem \u5185\u5b58\u4e2d\u4e86\uff09\u3002\u5f53\u6211\u5bf9\u8fd9\u6bb5\u5730\u5740\u8bfb\u5199\u65f6\uff0c\u53ef\u80fd\u4f1a\u89e6\u53d1\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff0c\u56de\u8c03\u51fd\u6570\u5c31\u662f\u8fd9\u4e2a\u8bbe\u5907\u7684\u201c\u52a8\u4f5c\u201d\u4e86\u3002\u6bd4\u5982\u4e32\u53e3\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5c31\u662f\u6253\u5370\u5199\u5165\u7684\u5b57\u7b26\u5230\u6807\u51c6\u9519\u8bef\u6d41\u4e2d\u3002</p> <p>\u66f4\u5177\u4f53\u7684\uff0c\u5c31 RTFSC \u5427\uff0c\u6e90\u4ee3\u7801\u8fd8\u662f\u6bd4\u8f83\u6e05\u695a\u7684\uff0c\u8bb2\u4e49\u4e5f\u5f88\u8be6\u7ec6\u4e86\uff1a https://nju-projectn.github.io/ics-pa-gitbook/ics2023/2.5.html</p>"},{"location":"ICS/2023-11-02-PAnote/#_19","title":"\u58f0\u5361","text":"<p>\u6700\u9ebb\u70e6\u7684\u5c31\u662f\u58f0\u5361\uff0c\u9700\u8981\u8f6f\u4ef6\u786c\u4ef6\u534f\u540c\u64cd\u4f5c\u3002</p> <p>\u4f46\u662f\u5b66\u5230\u7684\u4e5f\u6700\u591a\uff0c\u5b9e\u73b0\u4e86\u58f0\u5361\u4e86\u4ee5\u540e\uff0c\u7406\u89e3\u5c31\u66f4\u6df1\u523b\uff0c\u5728 AM \u4e2d\u5bc4\u5b58\u5668\u7684\u64cd\u4f5c\u90fd\u8fd8\u662f\u8f6f\u4ef6\u5c42\uff0cAM \u5c31\u662f\u8f6f\u4ef6\u548c\u786c\u4ef6\u7684\u6865\u6881\uff0c\u5c06\u76f8\u5e94\u7684\u6570\u636e\u5199\u5230\u5bf9\u5e94\u7684\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u786c\u4ef6\uff08NEMU\uff09\u518d\u8fdb\u884c\u5904\u7406\uff0c\u8fdb\u884c\u58f0\u97f3\u7684\u64ad\u653e\u3002\u770b\u5230\u5b8c\u6574\u7684 bad apple \u8fd8\u602a\u9ad8\u5174\u7684\u54c8\u54c8\u3002</p> <p>\u6253\u5f00\u58f0\u5361\u524d\uff0c\u6700\u597d\u5173\u95ed trace \u529f\u80fd\u3002</p> <p>\u58f0\u5361\u5f88\u5403\u914d\u7f6e\uff0c\u6253\u5f00\u58f0\u5361\u4ee5\u540e\uff0c\u8d85\u7ea7\u739b\u4e3d\u5b8c\u5168\u73a9\u4e0d\u4e86\u4e86\u3002\uff08\u663e\u5361\u8fd8\u6709\u5341\u51e0\u5e27\u7684\uff09\u3002</p> <p>\u53e6\u5916\uff0c\u4e0d\u8981\u8001\u662f\u6302\u8d77\u865a\u62df\u673a\u3002\u6b63\u5e38\u7684\u6307\u4ee4\u6267\u884c\u901f\u5ea6\u662f\u6bcf\u79d2\u4e24\u5343\u4e07\u6761\uff0c\u6709\u7684\u65f6\u5019\u6027\u80fd\u964d\u4f4e\u5230\u6bcf\u79d2\u516b\u4e07\u6761\uff0c\u6253\u5b57\u90fd\u5361\uff0c\u5c31\u8d76\u7d27\u5173\u673a\u91cd\u542f\u5427\u3002</p> <p>\u4e8c\u6b21\u5143\u662f\u8fd9\u6837\u7684\uff1a <pre><code>................................................................................\n..............................................X.X.X.............................\n.............................................XXXXXXXXX..........................\n..............................................XXXXXXXXX.XXXXX...................\n............................................XXXXXXXXXXXXXXXXXXX.................\n........................................X.XXXXXXXXXXXXXXXXXXXXX.................\n........................................XXXXXXXXXXXXXXXXXXXXXXXX................\n........................................XXXXXXXXXXXXXXXXXXXXXXXXX...............\n.......................................XXXXXXXXXXXXXXXXXXXXXXXXXXX..............\n........................................XXXXXXXXXXXXXXXXXXXXXXXXXXX.............\n...........................................XXXXXXXXXXXXXXXXXXXXXXXX.............\n............................................XXXXXXXXXXXXXXXXXXXXXXX.............\n.............................................XXXXXXXXXXXXXXXXXXXXXX.............\n..............................................XXX.XXXXXXXXXXXXXXXXX.............\n..............................................XXXXXXXXXXXXXXXXXXXXXX............\n........................X.X.X.X...............XXXXXXXXXXXXXXXXX.X.X.............\n.......................XXXXXXXXX...............XXXXXXXXXXXXXXXX.................\n......................XXXXXXXXXXX...........X.XXXXXXXXXXXXXXX.X.................\n.......................XXXXXXXXXXX.X.......XXXXXXXXXXXXXXXXXXX..................\n........................XXXXXXXXXXXXXXX.X.XXXXXXXXXXXXXXXXXXXX..................\n.............................XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX..................\n............................XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX...X.X...........\n.............................XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.X............\n............................XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX...............\n............................XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX..............\n</code></pre></p>"},{"location":"ICS/2023-11-02-PAnote/#5","title":"5. \u6742\u9879","text":"<p>ftrace \u771f\u7684\u662f\u8981\u8001\u547d\u4e86\uff0c\u7eaf\u82e6\u529b\u6d3b\u3002</p> <p>\u8bfb\u53d6 ELF \u6587\u4ef6\uff1f\u95ee\u4e92\u8054\u7f51\u3001\u95ee\u624b\u518c\u3001\u95ee GPT \u5427\u3002\u7b80\u5355\u7684\u8bf4\uff0c\u5229\u7528 <code>fread</code> <code>fseek</code> \u5c06\u6587\u4ef6\u91cc\u7684\u4fe1\u606f\u8bfb\u53d6\u5230 <code>&lt;elf.h&gt;</code> \u4e2d\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u91cc\u9762\uff0c\u5c31\u6210\u529f\u4e86\u3002\u6211\u4f1a\u4e0d\u4f1a\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b ELF \u7684\u7ed3\u6784\u5462\uff1f\u4f1a\u7684\u3002</p> <p>\u600e\u4e48\u5224\u65ad riscv \u4e2d\u4f55\u65f6 call\u3001\u4f55\u65f6 ret\uff1fcall \u548c ret \u90fd\u4f1a\u79bb\u5f00\u5f53\u524d\u51fd\u6570\u4f53\u3002\u5148\u5224\u65ad call\uff0c\u5982\u679c\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\u662f\u4e00\u4e2a\u51fd\u6570\u5934\uff0c\u5c31\u4e00\u5b9a\u662f call\uff0c\u53cd\u4e4b\u5c31\u662f ret\u3002</p> <p>\u800c\u4e14 ftrace \u505a\u5b8c\u4ee5\u540e\u8fd8\u5f15\u5165\u4e00\u4e2a\u65b0 bug\uff1a\u6211\u5173\u95ed\u8c03\u8bd5\u4fe1\u606f\u9009\u9879\u4ee5\u540e\uff0c\u7f16\u8bd1\u4e0d\u901a\u8fc7\u4e86\u662f\u51e0\u4e2a\u610f\u601d\uff1f\uff1f\uff1f\uff08\u5176\u5b9e\u53ef\u4ee5\u7406\u89e3\uff0c\u56e0\u4e3a\u5173\u95ed\u8c03\u8bd5\u9009\u9879\u610f\u5473\u7740\u6ca1\u6709\u4e86\u4efb\u4f55\u4fe1\u606f\uff0c\u5bfc\u81f4\u8bfb\u5165\u7684\u90fd\u662f\u65e0\u6548\u7684\u5b57\u7b26\uff0c\u6240\u4ee5\u5bfc\u81f4\u7f16\u8bd1\u5668\u62a5\u672a\u521d\u59cb\u5316\u8b66\u544a\uff09</p> <p>\u60f3\u5c3d\u53ef\u80fd\u628a\u5b9e\u9a8c\u7684\u8bb0\u5f55\u5199\u6e05\u695a\u70b9\uff0c\u4f46\u662f\u771f\u7684\u592a\u82b1\u7cbe\u529b\u4e86\uff0c\u7761\u89c9\uff01</p> <p>\u7136\u540e\u8fd8\u6709\u4e00\u70b9\uff0cNEMU \u7684\u6027\u80fd\u771f\u7684\u5f88\u4f4e\uff0c\u4e0d\u8981\u671f\u671b\u53ef\u4ee5\u6d41\u7545\u8fd0\u884c\u591a\u597d\u7684\u7a0b\u5e8f\u3002</p> <p>\u4e0a\u9762\u7684NEMU\u53ea\u80fd\u8fd0\u884c\u4e00\u4e2a\u7a0b\u5e8f\u3002\u5982\u4f55\u5b9e\u73b0\u591a\u7a0b\u5e8f\u540c\u65f6\u8fd0\u884c\uff1f\u865a\u62df\u5185\u5b58\uff1aPA4 \u7684\u5185\u5bb9</p>"},{"location":"ICS/2023-11-02-PAnote/#6-makefile","title":"6. makefile \u7684\u5404\u79cd\u95ee\u9898","text":"<ol> <li>mainargs \u662f\u600e\u4e48\u4f20\u53c2\u5230\u7a0b\u5e8f\u7684\u3002\u6211\u906d\u9047\u4e86 bug\uff0c\u524d\u51e0\u5929\u80fd\u6210\u529f\u4f20\u53c2\u7684\uff0c\u73b0\u5728\u7a81\u7136\u4e0d\u884c\u4e86.</li> <li>https://www.cnblogs.com/nosae/p/17066439.html#%E7%90%86%E8%A7%A3mainargs</li> <li>\u522b\u4eba\u76f4\u63a5\u90fd\u628a\u7b54\u6848\u5199\u5728\u535a\u5ba2\u91cc\u4e86\uff0c\u8fd8\u662f\u8981\u81ea\u5df1\u72ec\u7acb\u5b8c\u6210\u554a\u3002</li> <li>CFLAGS += -DMAINARGS=\\\"$(mainargs)\\\"  $AM_HOME/scripts/platform/nemu.mk</li> </ol>"},{"location":"ICS/2023-11-02-PAnote/#pa3","title":"PA3","text":""},{"location":"ICS/2023-11-02-PAnote/#pa31","title":"PA3.1","text":"<p>PA3.1 \u4e3b\u8981\u8bb2\u7684\u662f\u5f02\u5e38\uff0c\u8fd9\u91cc\u5982\u7b3c\u7edf\u5730\u5c06\u4e2d\u65ad\u548c\u5f02\u5e38\u4e24\u4e2a\u6982\u5ff5\u6df7\u4e3a\u4e00\u8c08\uff0c \u90a3\u4e48\u8fd9\u4e2a\u6982\u5ff5\u5728\u5355\u7247\u673a\u4e2d\u5df2\u7ecf\u5b66\u8fc7\uff0c\u53ef\u4ee5\u5f88\u4e0d\u51c6\u786e\u5730\u5c06\u4e4b\u7406\u89e3\u4e3a\u53e6\u5916\u4e00\u79cd\u201c\u51fd\u6570\u201d\u7684\u8c03\u7528\u3002</p> <p>\u4e3a\u4e86\u652f\u6301\u5f02\u5e38\uff0criscv \u662f\u5f15\u5165\u4e86\u7279\u6743\u7ea7\u6307\u4ee4\uff08ecall/mret/csrrw/csrrc \u7b49\u7b49\uff09\u548c\u63a7\u5236\u72b6\u6001\u5bc4\u5b58\u5668 CSR\uff08mepc/mstatus/mcause/mtvec \u7b49\u7b49\uff09\u3002\u4e3a\u4e86\u5b9e\u73b0\u5f02\u5e38\uff0c\u786c\u4ef6\u5c42\u9762\u8981\u989d\u5916\u52a0\u4e0a\u8fd9\u4e9b\u6307\u4ee4\u548c\u5bc4\u5b58\u5668\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#_20","title":"\u5904\u7406\u5f02\u5e38\u7684\u8fc7\u7a0b","text":"<p>\u7136\u540e\u770b\u770b\u5904\u7406\u201c\u5f02\u5e38\u201d \u7a76\u7adf\u53d1\u751f\u4e86\u4ec0\u4e48\u5427\u3002</p> <p>\u5728\u6211\u4f7f\u7528\u4e86 <code>ecall</code> \u81ea\u9677\u6307\u4ee4\u6765\u4e3b\u52a8\u53d1\u751f\u5f02\u5e38\u540e\uff0c\u786c\u4ef6\u5c42\u9762\u6240\u505a\u7684\u4e8b\u60c5\u5982\u4e0b\uff1a</p> <ol> <li>\u5c06\u5f53\u524dPC\u503c\u4fdd\u5b58\u5230mepc\u5bc4\u5b58\u5668</li> <li>\u5728mcause\u5bc4\u5b58\u5668\u4e2d\u8bbe\u7f6e\u5f02\u5e38\u53f7</li> <li>\u4ecemtvec\u5bc4\u5b58\u5668\u4e2d\u53d6\u51fa\u5f02\u5e38\u5165\u53e3\u5730\u5740</li> <li>\u8df3\u8f6c\u5230\u5f02\u5e38\u5165\u53e3\u5730\u5740</li> </ol> <p>\u7136\u540e\u5c31\u5bf9\u5f02\u5e38\u8fdb\u884c\u5904\u7406\uff0c\u9996\u5148\u8981\u4fdd\u5b58\u539f\u7a0b\u5e8f\u7684\u72b6\u6001\uff0c\u7136\u540e\u518d\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\uff0c\u6bd4\u5982\u5728\u5355\u7247\u673a\u4e2d\u53ef\u4ee5\u8fdb\u884c\u4e00\u6b21 AD/DA \u7684\u64cd\u4f5c\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u53ef\u4ee5\u5904\u7406\u9519\u8bef\u7b49\u7b49\u3002\u6839\u636e\u5f02\u5e38\u7684\u79cd\u7c7b\u6765\u51b3\u5b9a\u662f\u5426\u8fd4\u56de\u6e90\u7a0b\u5e8f\u3002</p> <p>\u5982\u679c\u8fd4\u56de\u539f\u7a0b\u5e8f\uff0c\u90a3\u4e48\u5c31\u5148\u6062\u590d\u539f\u7a0b\u5e8f\u7684\u72b6\u6001\uff0c\u7136\u540e\u4f7f\u7528 <code>mret</code> \u6307\u4ee4\uff0c\u53d6\u51fa mepc \u4e2d\u7684\u5730\u5740\u653e\u5165 pc \u4e2d\uff0c\u4ece\u5f02\u5e38\u72b6\u6001\u4e2d\u8fd4\u56de\u3002</p> <p>\u7a0b\u5e8f\u7684\u72b6\u6001\uff0c\u66f4\u786e\u5207\u7684\u8bf4\uff0c\u53ef\u4ee5\u7528\u201c\u4e0a\u4e0b\u6587\uff08context\uff09\u201d\u8fd9\u4e2a\u6982\u5ff5\u63cf\u8ff0\u3002AM \u4e5f\u6709\u4e0a\u4e0b\u6587\u7ba1\u7406\u7684 API\uff0c\u540d\u4e3a CTE\u3002\u4e0a\u4e0b\u6587\u7ba1\u7406\u4e3b\u8981\u9700\u8981\u4e24\u4e2a\u4fe1\u606f\uff0c\u4e00\u4e2a\u662f\u89e6\u53d1\u5f02\u5e38\u7684\u4e8b\u4ef6 event\uff0c\u8fd8\u6709\u5c31\u662f\u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587 context \u4e86\u3002\u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587\u5305\u62ec\u5404\u79cd\u5bc4\u5b58\u5668\u7684\u4fe1\u606f\u3002CTE \u7684\u5404\u79cd API \u90fd\u5728 <code>cte.c</code> \u4e2d\uff0c\u5305\u62ec <code>cte_init</code>\uff0c<code>__am_irq_handle</code>\uff0c<code>yield</code> \u7b49\u7b49\u3002 </p>"},{"location":"ICS/2023-11-02-PAnote/#yield-test","title":"yield test \u53d1\u751f\u4e86\u4ec0\u4e48","text":"<p>\u4e0a\u9762\u8bf4\u5b8c\u4e86\u5f02\u5e38\u5904\u7406\u7684\u8fc7\u7a0b\uff0c\u90a3\u4e48\u4e0b\u9762\u5c31\u56de\u7b54\u4e00\u4e0b\u4e00\u4e2a\u5fc5\u7b54\u9898\uff1a\u5728 yield test \u4e2d\u7a76\u7adf\u53d1\u751f\u4e86\u4ec0\u4e48\u4e8b\u60c5\uff1f</p> <p>\u9996\u5148\u662f\u5728 <code>cte_init</code> \u51fd\u6570\u4e2d\u521d\u59cb\u5316\u3002\u8fd9\u4e2a\u51fd\u6570\u505a\u4e24\u4ef6\u4e8b\u60c5\uff1a1. \u5728 mtvec \u5bc4\u5b58\u5668\u4e2d\u8bbe\u7f6e\u5f02\u5e38\u5165\u53e3\u5730\u5740\uff0c2. \u8bbe\u7f6e\u56de\u8c03\u51fd\u6570\uff08\u5f02\u5e38\u5904\u7406\u51fd\u6570\uff09\u3002\u6ce8\u610f\u8fd9\u53e5\u4ee3\u7801\uff1a</p> <pre><code>asm volatile(\"csrw mtvec, %0\" : : \"r\"(__am_asm_trap));\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f02\u5e38\u5411\u91cf mtvec \u7684\u5730\u5740\u5c31\u662f <code>__am_asm_trap</code> \u8fd9\u4e2a\u51fd\u6570\u7684\u5165\u53e3\u3002</p> <p>\u7136\u540e\u7ecf\u8fc7\u4e00\u4e9b\u65e0\u5173\u7d27\u8981\u7684\u64cd\u4f5c\u540e\uff0c\u8c03\u7528 <code>yield</code> \u51fd\u6570\u3002<code>yield</code> \u51fd\u6570\u91cc\u9762\u5c31\u662f\u5185\u8054\u6c47\u7f16\u4ee3\u7801\uff0c\u4f7f\u7528 <code>ecall</code> \u6307\u4ee4\u6765\u8fdb\u884c\u81ea\u9677\u64cd\u4f5c\u3002<code>ecall</code> \u6307\u4ee4\u8ba9\u7a0b\u5e8f\u8df3\u8f6c\u5230\u5f02\u5e38\u5165\u53e3\uff0c\u5373 <code>__am_asm_trap</code> \u7684\u8d77\u59cb\u5730\u5740\u3002<code>__am_asm_trap</code> \u662f <code>trap.S</code> \u4e2d\u7684\u6c47\u7f16\u4ee3\u7801\u3002\u505a\u7684\u4e8b\u60c5\u5176\u5b9e\u5c31\u662f\u628a\u5bc4\u5b58\u5668\u4fe1\u606f\u538b\u5165\u5230\u6808\u4e2d\u4fdd\u5b58\uff0c\u7136\u540e\u8fdb\u5165 <code>__am_irq_handle</code> \u8fd9\u4e2a\u51fd\u6570\u4e2d\uff0c\u8c03\u7528\u4e4b\u524d\u7684\u521d\u59cb\u5316\u8bbe\u7f6e\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5b8c\u6210\u5f02\u5e38\u5904\u7406\uff08\u8fd9\u91cc\u5c31\u662f\u6253\u5370 y \u8fd9\u4e2a\u5b57\u7b26\uff09\uff0c\u7136\u540e\u56de\u53bb\u6062\u590d\u5bc4\u5b58\u5668\u4fe1\u606f\uff0c\u6700\u540e <code>mret</code> \u56de\u5230\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u5c31\u5b8c\u6210\u4e86\u4e00\u6b21\u5f02\u5e38\u5904\u7406\u3002\u56e0\u4e3a\u662f\u5728\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\u4e2d\uff0c\u6240\u4ee5\u4f1a\u4e0d\u65ad\u7684\u6253\u5370 y\u3002\u5982\u679c\u6ca1\u6709\u5728\u5faa\u73af\u4e2d, \u90a3\u6253\u5370\u4e00\u6b21 y \u7a0b\u5e8f\u5c31\u7ed3\u675f\u4e86.</p> <p>yield test \u5c31\u8fd9\u6837\u8d70\u5b8c\u4e86\u5b83\u7684\u5168\u8fc7\u7a0b\u3002</p> <p>\u7b49\u7b49\uff0c\u8fd8\u6709\u4e00\u4ef6\u4e8b\uff01<code>__am_irq_handle</code> \u4e2d\u4e0a\u4e0b\u6587\u7ed3\u6784\u4f53\u6307\u9488 <code>c</code> \u662f\u4ec0\u4e48\u65f6\u5019\u6765\u7684\uff0c\u4ec0\u4e48\u65f6\u5019\u8d4b\u503c\u7684\uff1f\u90fd\u8d70\u5b8c\u4e86\u4e5f\u6ca1\u89c1\u5b83\u7684\u8e2a\u5f71\u554a\u3002</p> <p>\u5982\u679c\u53ea\u770b C \u8bed\u8a00\u4ee3\u7801\u7684\u8bdd\uff0c\u662f\u6c38\u8fdc\u4e5f\u627e\u4e0d\u5230\u7b54\u6848\u7684\u3002\u7b54\u6848\u5728\u6c47\u7f16\u4ee3\u7801 <code>trap.S</code> \u4e2d\u3002<code>__am_irq_handle</code> \u662f\u5728 <code>trap.S</code> \u4e2d\u88ab\u8c03\u7528\u7684\u3002\u6c47\u7f16\u8bed\u8a00\u7684\u51fd\u6570\u53c2\u6570\u662f\u600e\u4e48\u786e\u5b9a\u7684\u5462\uff1f\u5173\u952e\u5c31\u662f\u8c03\u7528\u51fd\u6570\u524d\u4e00\u53e5\u4ee3\u7801\uff0c<code>mv a0, sp</code>\uff0c\u8fd9\u662f\u6c47\u7f16\u8bed\u8a00\u7684\u4f20\u53c2\u3002\u770b\u4e00\u4e0b riscv \u7684\u624b\u518c\u4e5f\u53ef\u4ee5\u77e5\u9053\uff0c<code>a0</code> \u5bc4\u5b58\u5668\u50a8\u5b58\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002<code>__am_irq_handle</code> \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u662f\u7ed3\u6784\u6307\u9488 <code>c</code>\uff0c\u6240\u4ee5\u4f20\u5165\u7684\u53c2\u6570\u5c31\u662f\u6808\u5730\u5740 <code>sp</code>\u3002\u7ed3\u6784\u4f53\u6709\u8fd9\u6837\u7684\u6027\u8d28\uff1a\u5982\u679c\u67d0\u4e2a\u5730\u5740\u5f00\u5934\u6b63\u597d\u662f\u7ed3\u6784\u4f53\u7684\u5730\u5740\uff0c\u5e76\u4e14\u5199\u5165\u987a\u5e8f\u548c\u7ed3\u6784\u4f53\u7684\u5b9a\u4e49\u987a\u5e8f\u4e00\u81f4\uff0c\u90a3\u4e48\u5c31\u76f8\u5f53\u4e8e\u5411\u4e00\u4e2a\u7ed3\u6784\u4f53\u5199\u6570\u636e\u3002\u6240\u4ee5\uff0c\u8d4b\u503c\u7684\u8fc7\u7a0b\uff0c\u5728\u6211\u4eec\u5c06\u5bc4\u5b58\u5668\u538b\u5165\u5185\u5b58\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002\u8fd9\u5c31\u662f\u8fd9\u4e2a\u95ee\u9898\u7684\u7b54\u6848\uff0c\u4e5f\u662f PA \u7684\u5176\u4e2d\u4e00\u4e2a\u95ee\u9898\uff0c\u8981\u6c42\u6211\u4eec\u6309\u89c4\u5b9a\u7684\u987a\u5e8f\u6765\u5b9a\u4e49 context \u7ed3\u6784\u4f53\u7684\u539f\u56e0\u3002</p> <p>\u603b\u7ed3\uff1aPA3.1 \u4e3b\u8981\u7684\u5751\u4e00\u4e2a\u662f\u5185\u8054\u6c47\u7f16\u4e0d\u719f\u6089\uff0c\u8fd8\u6709\u4e00\u4e2a\u662f\u6c47\u7f16\u8bed\u8a00\u5df2\u7ecf\u5fd8\u8bb0\u5f97\u5dee\u4e0d\u591a\u4e86\uff0c\u6240\u4ee5\u5b8c\u5168\u6ca1\u6709\u770b\u51fa\u6765 <code>mv a0, sp</code> \u662f\u51fd\u6570\u53c2\u6570\u7684\u8d4b\u503c\u3002\u975e\u5e38\u611f\u8c22\uff1ahttps://www.cnblogs.com/GrootStudy/p/17039807.html \u7ed9\u4e86\u6211\u5f88\u5927\u7684\u542f\u53d1\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#pa-32","title":"PA 3.2","text":"<p>PA 3.2 \u4e3b\u8981\u7684\u4efb\u52a1\u662f\u5b9e\u73b0\u4e86\u7cfb\u7edf\u8c03\u7528\uff0c\u7136\u540e\u53ef\u4ee5\u7528 nanos-lite \u8fd9\u4e2a\u7b80\u5355\u7684\u6279\u5904\u7406\u7cfb\u7edf\u52a0\u8f7d\u4e00\u4e9b\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u8981\u5b9e\u73b0\u4e0a\u9762\u7684\u529f\u80fd\uff0c\u9996\u5148\u5c31\u662f\u8981\u5148\u5c06\u5e94\u7528\u7a0b\u5e8f\u52a0\u8f7d\u5230\u5bf9\u5e94\u7684\u5185\u5b58\u4e2d\u3002\u8fd9\u91cc\u6211\u60f3\u5230\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48 NEMU \u5185\u5b58\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u7edd\u5bf9\u5730\u5740\u8bbf\u95ee\uff1f\u6bd4\u5982 \"0x83000000\" \uff1f</p> <p>\u8fd9\u4e2a\u95ee\u9898\u5176\u5b9e\u633a\u7b80\u5355\u7684\u3002\u4e00\u822c\u6765\u8bb2\u4ee3\u7801\u91cc\u7684\u53d8\u91cf\u3001\u6570\u7ec4\u7684\u5730\u5740\u90fd\u662f\u901a\u8fc7\u7f16\u8bd1\u5668\u6765\u5206\u914d\u7684\u3002\u4f46\u4f60\u76f4\u63a5\u5199\u4e00\u4e2a\u7edd\u5bf9\u5730\u5740\uff0c\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u6700\u540e\u7f16\u8bd1\u5668\u8f6c\u5316\u6210\u5e95\u5c42\u7684\u6c47\u7f16\u4ee3\u7801\u540e\uff0c\u90a3\u4e9b\u5e95\u5c42\u7684\u6c47\u7f16\u4ee3\u7801\u5c31\u4f1a\u8bbf\u95ee\u4f60\u5199\u7684\u7edd\u5bf9\u5730\u5740\u3002<code>paddr_read</code>\u3001<code>paddr_write</code> \u8fd9\u4e9b\u51fd\u6570\u90fd\u662f\u5728\u6a21\u62df\u6c47\u7f16\u6307\u4ee4\u7684\u65f6\u5019\u8c03\u7528\u4e86\u3002</p> <p>\u7136\u540e\u5c31\u662f\u5b9e\u73b0\u7cfb\u7edf\u8c03\u7528\u4e86\uff0c\u9996\u5148\u5bf9 AM \u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4f7f\u5f97\u6211\u4eec\u7684\u6279\u5904\u7406\u7cfb\u7edf\u80fd\u591f\u5206\u8fa8\u662f\u81ea\u9677\u4e8b\u4ef6\u8fd8\u662f\u7cfb\u7edf\u8c03\u7528\u4e8b\u4ef6\uff0c\u7136\u540e\u6839\u636e\u4e0d\u540c\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u8fdb\u884c\u5e95\u5c42\u7684 AM \u5b9e\u73b0\u5c31\u53ef\u4ee5\u4e86\u3002\u6211\u4eec\u73b0\u5728\u5b9e\u73b0\u7684\u7cfb\u7edf\u8c03\u7528\u6709\uff1ayield \u8c03\u7528\u8fdb\u5165\u81ea\u9677\uff0cwrite \u8c03\u7528\u8fdb\u884c\u8f93\u51fa\uff0cexit \u8c03\u7528\u9000\u51fa\u7a0b\u5e8f\uff0csbrk \u8c03\u7528\u5206\u914d\u5185\u5b58\u7b49\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5c31\u5b8c\u5b8c\u6574\u6574\u5730\u8bb2\u89e3\u4e00\u4e0b hello \u8fd9\u4e2a\u6d4b\u8bd5\u7a0b\u5e8f\u7684\u6765\u9f99\u53bb\u8109\u5427\u3002\u76ee\u524d\u6211\u4e5f\u8fd8\u6709\u4e9b\u6ca1\u5b8c\u5168\u641e\u6e05\u695a\uff0c\u671f\u5f85\u8865\u5145\u3002</p> <p>\u9996\u5148\u5f97\u89e3\u91ca\u4e00\u4e0b\uff0cnavy \u9879\u76ee\u4e2d\u7684\u7a0b\u5e8f\u90fd\u662f\u4f9d\u8d56\u4e8e newlib \u5e93\u6765\u8fd0\u884c\u7684\uff0cnewlib \u662f\u4e00\u4e2a\u4e3a\u5d4c\u5165\u5f0f\u7cfb\u7edf\u63d0\u4f9b\u7684 C \u5e93\u3002hello \u7a0b\u5e8f\u4e2d\u7684 printf \u51fd\u6570\u53ef\u80fd\u4e0e AM \u9879\u76ee\u4e2d\u7684\u51fd\u6570\u91cd\u540d\uff0c\u4f46\u662f\u5177\u4f53\u7684\u5b9e\u73b0\u662f\u5728 newlib \u4e2d\u5b9e\u73b0\u7684\uff0c\u5e76\u4e14\u903b\u8f91\u4e5f\u4e0d\u540c\u3002\u4e0b\u9762\u4f1a\u8be6\u7ec6\u8bf4\u660e\u3002</p> <p>\u7528\u6237\u7a0b\u5e8f\u4ece\u54ea\u91cc\u5f00\u59cb\u7684\u5462\uff1f\u597d\u5427\u6211\u627f\u8ba4\u6211\u6ca1\u770b\u4ed4\u7ec6\u8bb2\u4e49\u91cc\u6709\u7684\u3002\u7528\u6237\u7a0b\u5e8f\u7684\u5165\u53e3\u4f4d\u4e8e <code>navy-apps/libs/libos/src/crt0/start.S</code> \u4e2d\u7684 <code>_start()</code> \u51fd\u6570\uff0c<code>_start()</code> \u51fd\u6570\u4f1a\u8c03\u7528 <code>navy-apps/libs/libos/src/crt0/crt0.c</code> \u4e2d\u7684 <code>call_main()</code> \u51fd\u6570, \u7136\u540e\u8c03\u7528\u7528\u6237\u7a0b\u5e8f\u7684 <code>main()</code> \u51fd\u6570\uff0c \u4ece <code>main()</code> \u51fd\u6570\u8fd4\u56de\u540e\u4f1a\u8c03\u7528 <code>exit()</code> \u7ed3\u675f\u8fd0\u884c\u3002\u600e\u4e48\u8df3\u8f6c\u5230\u7528\u6237\u7a0b\u5e8f\u7684\u5165\u53e3\u5462\uff1f Nanos-lite \u5728\u52a0\u8f7d\u597d\u7528\u6237\u7a0b\u5e8f\u540e\uff0c\u8fd4\u56de\u7528\u6237\u5730\u5740\u5165\u53e3 <code>entry</code>\uff0c\u7136\u540e <code>((void (*)())entry)();</code> \u5c31\u8df3\u8f6c\u4e86\u3002</p> <p>hallo \u7a0b\u5e8f\u4e2d\u6d89\u53ca\u4e86\u4e0a\u9762\u9664\u4e86 yield \u5916\u6240\u6709\u7684\u7cfb\u7edf\u8c03\u7528\u3002\u9996\u5148\u662f <code>write</code> \u51fd\u6570\uff0c\u67e5\u770b\u4e00\u4e0b <code>write</code> \u51fd\u6570\u7684\u6e90\u4ee3\u7801\u5c31\u77e5\u9053\uff0c<code>write</code> \u8c03\u7528\u4e86 <code>_write_r</code> \u51fd\u6570\uff0c<code>_write_r</code> \u51fd\u6570\u8c03\u7528\u4e86 <code>_write</code> \u51fd\u6570\uff0c<code>_write</code> \u51fd\u6570\u8c03\u7528\u4e86\u6211\u4eec\u7684\u7cfb\u7edf\u51fd\u6570 <code>_syscall_</code>\u3002\u4e0a\u9762\u90fd\u662f\u5e94\u7528\u7a0b\u5e8f\u5c42\u9762\u7684\u5b9e\u73b0\uff0c\u4e00\u76f4\u5230 <code>_syscall_</code> \u624d\u5230\u5e95\u5c42\u7684\u5b9e\u73b0\u3002<code>_syscall_</code> \u51fd\u6570\u5c06\u5f02\u5e38\u72b6\u6001\u53f7\u548c\u8f93\u5165\u53c2\u6570\u8bbe\u7f6e\u597d\u4ee5\u540e\uff0c\u5c31\u6267\u884c <code>ebreak</code> \u6307\u4ee4\uff0c<code>ebreak</code> \u6307\u4ee4\u8df3\u8f6c\u5230\u4e4b\u524d\u8bbe\u7f6e\u7684\u5f02\u5e38\u5165\u53e3\u5730\u5740 <code>__am_asm_trap</code>\uff0c\u7136\u540e\u662f <code>__am_irq_handle</code>\uff0c\u7136\u540e\u662f\u56de\u8c03\u51fd\u6570 <code>do_event</code>\uff0c<code>do_event</code> \u8bc6\u522b\u662f <code>syscall</code> \u7c7b\u578b\u7684\u4e8b\u4ef6\uff0c\u7136\u540e\u6267\u884c <code>do_syscall</code> \u51fd\u6570\uff0c<code>do_syscall</code> \u8bc6\u522b\u662f <code>write</code> \u7cfb\u7edf\u8c03\u7528\uff0c\u6267\u884c <code>sys_write</code> \u51fd\u6570\uff0c\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u7ec8\u4e8e\u901a\u8fc7 <code>putch</code> \u51fd\u6570\uff0c\u5c06\u5b57\u7b26\u4e00\u4e2a\u4e2a\u8f93\u51fa\u5230\u4e32\u53e3\u3002</p> <p>\u7136\u540e\u4ecb\u7ecd <code>printf</code> \u51fd\u6570\u3002<code>printf</code> \u7684\u5b9e\u73b0\u5c31\u975e\u5e38\u590d\u6742\u4e86\u3002\u5177\u4f53\u53ef\u4ee5\u770b\u8fd9\u4e2a\u94fe\u63a5\uff1ahttps://www.cnblogs.com/DF11G/p/14750056.html\u3002\u53ef\u4ee5\u7b80\u5355\u7684\u7406\u89e3\u4e3a\uff0c\u5148\u901a\u8fc7 <code>sbrk</code> \u7cfb\u7edf\u8c03\u7528\u83b7\u53d6\u5185\u5b58\uff0c\u7136\u540e\u518d\u901a\u8fc7\u4e0a\u9762\u8bb2\u89e3 <code>write</code> \u7cfb\u7edf\u8c03\u7528\u8f93\u51fa\u3002\u800c AM \u4e2d\u7684 <code>printf</code>\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u76f4\u63a5\u901a\u8fc7 <code>putch</code> \u8f93\u51fa\u683c\u5f0f\u5316\u7684\u5b57\u7b26\u4e32\u3002\u6240\u4ee5\u4e24\u8005\u8fd8\u662f\u975e\u5e38\u4e0d\u540c\u7684\u3002</p> <p>\u7a0b\u5e8f\u7ed3\u675f\u540e\uff0c\u5c31\u4f1a\u901a\u8fc7 <code>exit</code> \u51fd\u6570\u9000\u51fa\u3002\uff08\u539f\u6765\u7684 hello \u7a0b\u5e8f\u662f\u6b7b\u5faa\u73af\uff0c\u6211\u628a\u5faa\u73af\u6539\u4e86\uff09\u3002exit() \u51fd\u6570\u5c42\u5c42\u8df3\u8f6c\u540e\uff0c\u5c31\u662f\u6211\u4eec\u7684 <code>exit</code> \u7cfb\u7edf\u8c03\u7528\u3002\u53e6\u5916\uff0c\u6211\u8fd9\u91cc\u6709\u4e00\u4e2a bug \u6ca1\u6709\u89e3\u51b3\uff0c\u5c31\u662f\u5728\u8c03\u7528 <code>printf</code> \u51fd\u6570\u540e\uff0c\u7cfb\u7edf\u7684\u9000\u51fa\u503c\u5c31\u4e0d\u662f 0\uff0c\u4f46\u662f\u53ef\u60dc\u5f88\u96be\u770b\u51fa\u662f\u54ea\u65b9\u9762\u7684\u539f\u56e0\uff0c\u4f46\u662f\u603b\u800c\u8a00\u4e4b\uff0c\u4e0e\u6211\u65e0\u74dc\uff0c\u56e0\u4e3a\u5373\u4f7f\u662f <code>sbrk</code> \u6ca1\u6709\u5b9e\u73b0\u7684\u60c5\u51b5\u4e0b\uff0c\u7ed3\u679c\u4e5f\u5982\u6b64\u3002\u66f4\u65b0\uff1a\u5b8c\u6210 PA3.3 \u7684\u6587\u4ef6\u7cfb\u7edf\u540e\uff0c\u8fd9\u4e2a bug \u7a81\u7136\u6d88\u5931\u4e86\uff0c\u53c8\u53ef\u4ee5\u5b8c\u7f8e\u9000\u51fa\u4e86\uff0c\u53ef\u6015\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u770b\u4e00\u4e0b <code>sbrk</code> \u7cfb\u7edf\u8c03\u7528\u5427\u3002newlib \u5e93\u4e2d\u7684 <code>malloc</code> \u51fd\u6570\u6700\u7ec8\u5c31\u662f\u8c03\u7528\u4e86 <code>_sbrk</code> \u51fd\u6570\u3002\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u4e0b libgross \u5e93\u4e2d ARM \u4f53\u7cfb\u7684\u5b9e\u73b0\u3002\uff08libgross \u662f newlib \u5e93\u4e2d\u81ea\u5e26\u7684\u5e95\u5c42\u5b9e\u73b0\uff0c\u4f46\u662f\u53ef\u60dc\u6ca1\u6709 PA \u7cfb\u7edf\u7684\u5e95\u5c42\u5b9e\u73b0\uff0c\u54c8\u54c8\uff09</p> <pre><code>void * __attribute__((weak))\n_sbrk (ptrdiff_t incr)\n{\n  extern char   end asm (\"end\"); /* Defined by the linker.  */\n  static char * heap_end;\n  char *        prev_heap_end;\n\n  if (heap_end == NULL)\n    heap_end = &amp; end;\n\n  prev_heap_end = heap_end;\n\n  if ((heap_end + incr &gt; stack_ptr)\n      /* Honour heap limit if it's valid.  */\n      || (__heap_limit != 0xcafedead &amp;&amp; heap_end + incr &gt; (char *)__heap_limit))\n    {\n      errno = ENOMEM;\n      return (void *) -1;\n    }\n  heap_end += incr;\n  return (void *) prev_heap_end;\n}\n</code></pre> <p>\u4e4b\u524d\u8bf4\u6ca1\u7406\u89e3, \u73b0\u5728\u611f\u89c9\u6ca1\u6709\u4ec0\u4e48\u4e0d\u597d\u7406\u89e3\u7684, \u5206\u914d\u5185\u5b58\u5c31\u662f\u8fd9\u4e48\u505a\u7684, (\u53ef\u80fd\u662f\u5199\u4e86\u597d\u51e0\u6b21\u7684\u5173\u7cfb). \u53e6\u5916, <code>&amp;end</code> \u5730\u5740\u662f\u7a0b\u5e8f\u6570\u636e\u6bb5\u7684\u672b\u5c3e\u5730\u5740, \u5373\u5806\u533a\u7684\u8d77\u59cb\u4f4d\u7f6e, (\u53bb\u770b\u4e00\u4e0b\u7a0b\u5e8f\u7ed3\u6784\u91cc\u7684\u56fe\u5c31\u660e\u767d\u4e86). \u5806\u7684\u5185\u5b58\u8fb9\u754c\u901a\u5e38\u88ab\u79f0\u4e3a program break. \u8c03\u7528 <code>sbrk()</code> \u7684\u8fc7\u7a0b, \u5c31\u4f1a\u66f4\u65b0 program break. (\u5373\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u7684 heap_end). \u770b\u4e0b\u56fe:</p> <p></p> <p>\u4e0a\u9762\u57fa\u672c\u5c31\u662f PA3, part 2 \u4e86\u3002\u603b\u7ed3\u4e00\u4e0b\uff0c\u5728 NEMU \u786c\u4ef6\u4e0a\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86 AM \u63a5\u53e3\uff0c\u7136\u540e\u5199\u4e86\u4e00\u4e2a AM \u7a0b\u5e8f nanos-lite\uff0c\u5728 nanos-lite \u4e0a\uff0c\u6211\u4eec\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u3002\u5e94\u7528\u7a0b\u5e8f\u4e0d\u80fd\u76f4\u63a5\u64cd\u63a7\u5e95\u5c42\uff0c\u800c\u662f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u6765\u548c\u5e95\u5c42\u4ea4\u4e92\uff08\u5bf9\u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4\uff0cAM \u4e5f\u7b97\u662f\u5e95\u5c42\u4e86\uff0c\u6bd5\u7adf\u662f\u76f4\u63a5\u548c\u786c\u4ef6\u4ea4\u4e92\u7684\u5e93\uff09\u3002</p> <p>\u5b66\u800c\u4e0d\u601d\u5219\u7f54\uff0c\u601d\u800c\u4e0d\u5b66\u5219\u6b86\uff0cPA3.2 \u57fa\u672c\u4e0a\u5b8c\u6210\u4e86\uff0c\u4f46\u662f\u4e00\u4e9b\u5173\u4e8e\u7a0b\u5e8f\u7684\u77e5\u8bc6\u4ecd\u7136\u4e0d\u4e86\u89e3\uff0c\u6bd4\u5982\u5806\u7684\u673a\u5236\u3002\u7cfb\u7edf\u8c03\u7528\u7684\u8fc7\u7a0b\u8fd8\u9700\u8981\u597d\u597d\u7406\u89e3\uff0celf \u6587\u4ef6\u7684\u7ed3\u6784\u8981\u6574\u7406\u4e86\u3002PA3 \u548c\u524d\u9762\u6700\u5927\u7684\u533a\u522b\u5c31\u662f\u591a\u4e86\u4e00\u4e9b\u6211\u6ca1\u5b66\u4e60\u8fc7\u7684\u7406\u8bba\u77e5\u8bc6\u9700\u8981\u8865\u5145\u5427\u3002(\u8865\u5145, \u8fd9\u91cc\u8bf4\u7684\u95ee\u9898\u57fa\u672c\u90fd\u6574\u7406\u5b8c\u6bd5 2024\u5e743\u670830\u65e5)</p>"},{"location":"ICS/2023-11-02-PAnote/#pa-33","title":"PA 3.3","text":"<p>PA3.3 \u9996\u5148\u662f\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5b9e\u73b0\u4e86 open\u3001read\u3001write\u3001lseek\u3001close \u7cfb\u7edf\u8c03\u7528\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u8fdb\u884c\u6587\u4ef6\u64cd\u4f5c\u4e86\u3002\u5728 linux \u4e2d\uff0c\u6709\u4e00\u4e2a\u8bf4\u6cd5\u662f\u201c\u4e00\u5207\u7686\u6587\u4ef6\u201d\u3002\u8fd9\u662f\u56e0\u4e3a IO \u63a5\u53e3\u4e5f\u88ab\u62bd\u8c61\u6210\u6587\u4ef6\u4e86\uff0c\u6211\u4eec\u8fdb\u884c IO \u7684\u8fc7\u7a0b\u5c31\u88ab\u62bd\u8c61\u6210\u6587\u4ef6\u8bfb\u5199\u7684\u8fc7\u7a0b\uff0c\u4e0a\u5c42 API \u65e0\u9700\u6539\u52a8\uff0c\u53ea\u8981\u6839\u636e\u6587\u4ef6\u7c7b\u578b\u66f4\u6539\u5e95\u5c42\u8c03\u7528\u7684\u8bfb\u5199\u51fd\u6570\u5c31\u53ef\u4ee5\u4e86\u3002\u57fa\u4e8e\u8fd9\u4e2a\u903b\u8f91\uff0c\u6211\u4eec\u5f88\u5feb\u5c31\u5b9e\u73b0\u4e86\u64cd\u4f5c\u7cfb\u7edf\u7684\u5404\u79cd IO \u63a5\u53e3\uff0c\u6bd4\u5982\u8f93\u5165\u8f93\u51fa\uff0c\u952e\u76d8\uff0c\u663e\u5b58\uff0c\u65f6\u95f4\u7b49\u7b49\u3002\u5b8c\u6210\u8fd9\u4e9b\u63a5\u53e3\u4ee5\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8fd0\u884c\u5404\u5f0f\u5404\u6837\u7684\u5e94\u7528\u7a0b\u5e8f\u4e86\u3002</p> <p>\u5f53\u7136\u7406\u8bba\u5982\u6b64\uff0c\u5b9e\u8df5\u7684\u65f6\u5019\u603b\u4f1a\u78b0\u5230\u5404\u79cd\u5404\u6837\u7684\u95ee\u9898\u3002\u6bd4\u5982\u8bf4\uff0c\u4e00\u5f00\u59cb\u63d0\u4f9b\u7684\u591a\u5a92\u4f53\u5e93\u662f NDL \u5e93\uff0c\u5b83\u7684\u5b9e\u73b0\u662f\u76f4\u63a5\u8fdb\u884c\u7cfb\u7edf\u8c03\u7528\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u8f83\u4e3a\u590d\u6742\u7684\u7a0b\u5e8f\uff0c\u76f4\u63a5\u7528\u5b83\u7f16\u7a0b\u4ecd\u7136\u6bd4\u8f83\u96be\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u63d0\u4f9b\u66f4\u52a0\u4e0a\u5c42\u7684\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u8fd9\u91cc\u5c31\u662f SDL \u5e93\uff0c\u5728 SDL \u5e93\u7684\u5b9e\u73b0\u4e2d\u8c03\u7528 NDL \u5e93\u3002\u5177\u4f53\u7684\u7f16\u7a0b\u8fc7\u7a0b\u5c31\u4e0d\u7ec6\u8bf4\u4e86\uff0c\u6709\u4e9b\u7e41\u7410\uff0c\u8c03\u8bd5\u4e86\u5f88\u4e45\u624d\u57fa\u672c\u5b8c\u5168\u8dd1\u901a\uff0c\u4e3b\u8981\u8fd8\u662f\u8981\u4ed4\u7ec6\u9605\u8bfb\u624b\u518c\u548c\u8bb2\u4e49\u5185\u5bb9\u3002</p> <p>\u4e0a\u9762\u90fd\u662f\u4e00\u4e9b\u6982\u62ec\uff0c\u8bf4\u4e00\u4e2a\u7a0d\u5177\u4f53\u4e9b\u7684\u4f8b\u5b50\u5427\u3002\u8bb2\u4e49\u91cc\u9762\u6709\u4e00\u4e2a\u95ee\u9898\u662f\uff1a\u4ed9\u5251\u5947\u4fa0\u4f20\u7684\u4ee3\u7801\u5982\u4f55\u4ece mgo.mkf \u6587\u4ef6\u4e2d\u8bfb\u51fa\u4ed9\u9e64\u7684\u50cf\u7d20\u4fe1\u606f, \u5e76\u4e14\u66f4\u65b0\u5230\u5c4f\u5e55\u4e0a?</p> <p>\u4ed9\u5251\u5947\u4fa0\u4f20\u7684\u4ee3\u7801\u5f88\u590d\u6742\uff0c\u800c\u4e14\u51fd\u6570\u4e5f\u662f\u4e00\u5c42\u4e00\u5c42\u5957\u7684\u3002\u4f46\u662f\u5230\u5e95\u5c42\uff0c\u8c03\u7528\u7684\u4ecd\u7136\u662f\u6211\u4eec\u5b9e\u73b0\u7684 SDL \u5e93\u51fd\u6570\u6765\u8fdb\u884c\u7ed8\u56fe\u548c\u66f4\u65b0\u5c4f\u5e55\uff0c<code>SDL_UpdateRect()</code>\uff0c\u8fd9\u4e2a\u51fd\u6570\u8c03\u7528\u7684\u662f NDL \u5e93\u7684\u51fd\u6570 <code>NDL_DrawRect()</code>\u3002<code>NDL_DrawRect()</code> \u8c03\u7528 <code>write()</code> \u51fd\u6570\uff0c\u5c06\u50cf\u7d20\u6570\u7ec4 <code>pixels</code> \u5199\u5165\u865a\u62df\u6587\u4ef6 <code>/dev/fb</code> \uff08\u4e5f\u5c31\u662f\u5e27\u7f13\u51b2 frame buffer\uff09\u4e2d\u3002\u8fd9\u662f\u4e0a\u5c42\u7684\u5185\u5bb9\uff0c\u5373\u5e94\u7528\u7a0b\u5e8f\u770b\u5230\u7684\u5185\u5bb9\u3002</p> <p>\u7136\u540e\u64cd\u4f5c\u7cfb\u7edf Nanos-lite \u770b\u5230\u7684\u5185\u5bb9\u662f\uff0c\u6570\u636e\u5199\u5165 <code>/dev/fb</code>\uff0c\u8981\u8c03\u7528\u5bf9\u5e94\u7684\u5199\u51fd\u6570\u3002\u5c31 C \u8bed\u8a00\u5177\u4f53\u5b9e\u73b0\u6765\u8bf4\uff0c\u5229\u7528\u51fd\u6570\u6307\u9488\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u6839\u636e\u6587\u4ef6\u7684\u7c7b\u578b\u6765\u9009\u62e9\u8c03\u7528\u7684\u51fd\u6570\u4e86\u3002\u90a3\u4e48\u8fd9\u91cc\u7684\u5199\u51fd\u6570\u662f\u8981\u66f4\u65b0\u5c4f\u5e55\u7684\uff0c\u6240\u4ee5\u8c03\u7528 AM \u7a0b\u5e8f\u7684 IO \u63a5\u53e3 <code>io_write()</code> \u51fd\u6570\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4ece\u786c\u4ef6 NEMU \u7684\u89d2\u5ea6\u770b\uff0c\u8c03\u7528 IO \u63a5\u53e3\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u5bf9\u67d0\u4e00\u4e2a\u5730\u5740\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002\u7136\u800c\uff0c\u4e0d\u540c\u7684\u662f\uff0c\u8fd9\u4e9b\u5730\u5740\u5728\u5e95\u5c42\u5b9e\u73b0\u4e0a\u8fdb\u884c\u4e86\u6620\u5c04\u3002\u5982\u679c\u8bfb\u5199\u5230\u8fd9\u4e9b\u5730\u5740\uff0c\u4e0d\u662f\u5bf9\u771f\u5b9e\u7684\u7269\u7406\u5185\u5b58\u8fdb\u884c\u8bfb\u5199\uff0c\u800c\u662f\u5bf9\u6620\u5c04\u7684 IO \u5730\u5740\u8fdb\u884c\u8bfb\u5199\u3002\u8bfb\u5199\u5b8c\u540e\uff0c\u65b0\u50cf\u7d20\u5c31\u66f4\u65b0\u5230\u4e86\u5c4f\u5e55\u4e0a\u3002</p> <p>\u4e0a\u9762\u5c31\u662f\u81ea\u9876\u5411\u4e0b\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u5c4f\u5e55\u66f4\u65b0\u7684\u5168\u8fc7\u7a0b\u3002</p> <p>\u4ed9\u5251\u5947\u4fa0\u4f20\u8fd0\u884c\uff1a</p> <p></p> <p>TODO: \u641e\u6e05\u695a native \u548c riscv32-NEMU \u7684\u533a\u522b\u3002\uff08\u94fe\u63a5\u7684\u5e93\u6709\u54ea\u4e9b\u4e0d\u540c\uff1f\uff09</p> <p>TODO: open \u548c fopen \u7684\u533a\u522b(\u6587\u4ef6\u7cfb\u7edf)</p> <p>TODO: malloc \u548c free \u7684\u6e90\u4ee3\u7801\u5b9e\u73b0\u3002</p>"},{"location":"ICS/2023-11-02-PAnote/#pa4","title":"PA4","text":""},{"location":"ICS/2023-11-02-PAnote/#pa41","title":"PA4.1 \u591a\u9053\u7a0b\u5e8f","text":"<p>\u5b9e\u73b0\u4e86\u547d\u4ee4\u884c\u53c2\u6570\u7684\u4f20\u9012, \u5185\u6838\u8fdb\u7a0b\u548c\u7528\u6237\u8fdb\u7a0b\u5207\u6362\u8fd0\u884c, \u4ee5\u53ca busybox \u6765\u5b9e\u73b0\u4e00\u4e9b shell \u6307\u4ee4.</p>"},{"location":"ICS/2023-11-02-PAnote/#pa42","title":"PA4.2 \u5206\u9875","text":"<p>\u9996\u5148\u865a\u62df\u5185\u5b58\u7684\u77e5\u8bc6\u70b9\u5df2\u7ecf\u6574\u7406\u5230\u4e86\u76f8\u5e94\u7684\u535a\u5ba2\u91cc\u9762.</p> <p>\u5b9e\u73b0\u4e86\u865a\u62df\u5185\u5b58\u8f6c\u7269\u7406\u5185\u5b58. \u9996\u5148\u662f\u64cd\u4f5c\u7cfb\u7edf\u5728\u542f\u52a8\u65f6\u5c06\u76f8\u5173\u4fe1\u606f\u5199\u5165\u5185\u5b58(\u865a\u62df\u9875\u5230\u7269\u7406\u9875\u7684\u6620\u5c04\u5173\u7cfb). \u540e\u9762\u7ffb\u8bd1\u65f6, \u62ff\u5230\u4e00\u4e2a\u865a\u62df\u5730\u5740, \u53ea\u9700\u5c06\u5176\u6240\u5728\u7684\u865a\u62df\u9875\u8f6c\u5316\u6210\u7269\u7406\u9875, \u5c31\u8fce\u5203\u800c\u89e3\u4e86, \u56e0\u4e3a\u9875\u5927\u5c0f\u76f8\u540c, \u6240\u4ee5\u504f\u79fb\u91cf\u4e5f\u662f\u76f8\u540c\u7684.</p> <p>\u5176\u5b9e\u865a\u62df\u5185\u5b58\u8fd8\u662f\u633a\u7b80\u5355\u7684, \u54c8\u54c8. \u4f46\u662f\u5b9e\u9645\u7f16\u5199\u4ee3\u7801, \u8fd8\u662f\u4f1a\u78b0\u5230\u5404\u79cd\u5404\u6837\u7684\u95ee\u9898.</p> <p>PA4.2 \u8c03\u4e86 3 \u5929 bug</p> <p>\u78b0\u5230\u7684 bug \u5982\u4e0b:</p> <ol> <li>bss \u6bb5\u5fd8\u8bb0\u6e05\u96f6</li> <li>\u5c06\u7a0b\u5e8f\u5199\u5165\u7269\u7406\u9875\u65f6, \u6ca1\u6709\u8003\u8651\u504f\u79fb\u7684\u60c5\u51b5(\u5373\u7a0b\u5e8f\u6bb5\u7684\u865a\u62df\u5730\u5740\u5e76\u4e0d\u662f\u4ece\u9875\u5f00\u59cb, \u90a3\u4e48\u5199\u5165\u7269\u7406\u6bb5\u65f6\u4e5f\u5e94\u5f53\u6709\u4e00\u4e2a\u504f\u79fb).</li> <li>\u6700\u611a\u8822\u7684. \u6709\u65f6\u8c03\u8bd5\u8981\u5207\u56de PA4.1, \u90a3\u4e2a\u65f6\u5019\u7a0b\u5e8f\u662f\u94fe\u63a5\u5230 0x8300 0000 \u7684, \u800c\u5b8c\u6210\u865a\u62df\u5185\u5b58\u540e, \u94fe\u63a5\u5230\u7684\u5730\u5740\u662f 0x4000 0000 \u7684. \u7136\u540e\u5207\u56de PA4.2 \u7684\u7248\u672c, \u5fd8\u8bb0 make update \u4e86, \u7ed3\u679c\u8fd8\u662f\u8dd1\u8001\u7a0b\u5e8f. \u800c 0x8300 0000 \u7684\u90e8\u5206\u662f\u4f1a\u88ab\u5206\u914d\u51fa\u53bb\u7684, \u6570\u636e\u4f1a\u88ab\u4fee\u6539, \u5c31\u4f1a\u5bfc\u81f4\u9519\u8bef.</li> <li>\u73b0\u5728\u6267\u884c\u65b0\u7a0b\u5e8f(\u5982\u7528 nterm \u6253\u5f00\u4ed9\u5251\u5947\u4fa0\u4f20)\u4f1a\u5bfc\u81f4\u9519\u8bef(\u6211\u4e00\u5f00\u59cb\u8fd8\u4ee5\u4e3a\u662f\u73af\u5883\u53d8\u91cf\u7684\u95ee\u9898). (PS, \u4e0d\u8981\u8ba9 Hello \u6253\u5370\u5c45\u7136\u5c31\u4e0d\u4f1a\u5f15\u53d1\u9519\u8bef). \u770b\u4e86\u4e00\u4e0b, \u662f PA4.3 \u7684\u5185\u5bb9, \u5230\u90a3\u65f6\u53bb\u63a2\u7a76.</li> </ol>"},{"location":"ICS/2023-11-02-PAnote/#pa-43","title":"PA 4.3 \u6808\u5207\u6362","text":"Note <p>\u65f6\u949f\u4e2d\u65ad\u5f88\u7b80\u5355\u5c31\u4e0d\u5c55\u5f00\u8bb2\u4e86.</p> <p>\u9996\u5148\u8981\u56de\u7b54\u4e0a\u9762\u7684\u95ee\u9898 4, \u4e3a\u4ec0\u4e48\u6267\u884c\u65b0\u7a0b\u5e8f, \u6216\u8005\u4e24\u4e2a\u7528\u6237\u8fdb\u7a0b\u540c\u65f6\u8fd0\u884c\u4f1a\u5bfc\u81f4\u9519\u8bef. \u8fd9\u662f\u56e0\u4e3a\u76ee\u524d\u4e3a\u6b62, \u5728\u89e6\u53d1\u5f02\u5e38\u65f6, \u6211\u4eec\u90fd\u662f\u5c06\u4e0a\u4e0b\u6587\u50a8\u5b58\u5728\u7528\u6237\u6808\u4e0a\u7684. \u8fd9\u5c31\u5bfc\u81f4\u4e86\u5207\u6362\u4e0a\u4e0b\u6587\u65f6\u6211\u4eec\u50a8\u5b58\u5728 PCB \u4e2d\u7684\u5730\u5740\u662f\u865a\u62df\u5730\u5740. \u4e3e\u4e2a\u4f8b\u5b50, \u5047\u8bbe\u6211\u4eec\u662f\u8981\u4ece\u8fdb\u7a0b A \u5207\u6362\u5230\u8fdb\u7a0b B. \u5207\u6362\u5b8c\u7684\u7b2c\u4e00\u6b65\u5c31\u662f\u8981 __am_switch(cB), \u5c06 satp \u8bbe\u7f6e\u6210 cB.pdir. \u7136\u800c, \u6211\u4eec\u73b0\u5728\u8fd8\u5728 A \u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e2d, \u53ea\u80fd\u6309\u7167 A \u7684\u89c4\u5219\u8f6c\u6362 cB \u7684\u865a\u62df\u5730\u5740, \u8fd9\u5c31\u5bfc\u81f4\u4e86\u6211\u4eec\u65e0\u6cd5\u627e\u5230\u771f\u6b63\u7684 cB.pdir, \u518d\u540e\u9762, \u5bf9\u8fdb\u7a0b B \u7684\u5730\u5740\u8f6c\u6362\u4e5f\u5c31\u65e0\u4ece\u8c08\u8d77\u4e86.</p> <p>\u5047\u8bbe\u662f\u5185\u6838\u7ebf\u7a0b A \u548c\u7528\u6237\u8fdb\u7a0b B \u540c\u65f6\u8fd0\u884c, \u518d\u7531 B \u6253\u5f00 C, \u4e5f\u4f1a\u78b0\u5230\u7c7b\u4f3c\u7684\u9519\u8bef. \u5728\u5207\u6362\u5230 C \u65f6, satp \u4e0d\u662f C \u7684\u5730\u5740\u7a7a\u95f4, \u56e0\u6b64\u65e0\u6cd5\u6b63\u786e\u6620\u5c04.</p> <p>\u8981\u89e3\u51b3\u4e0a\u9762\u95ee\u9898\u7684\u65b9\u6cd5, \u5176\u5b9e\u8bf4\u8d77\u6765\u975e\u5e38\u7b80\u5355(\u6ce8\u610f: \"\u8bf4\u8d77\u6765\"\u548c\u5b9e\u73b0\u603b\u662f\u6709\u5dee\u7684): \u5728\u4fdd\u5b58\u4e0a\u4e0b\u6587\u65f6, \u5c06\u4e0a\u4e0b\u6587\u50a8\u5b58\u5728\u5185\u6838\u6808\u4e0a. \u8fd9\u6837, \u50a8\u5b58\u5728 PCB \u4e2d\u7684\u4e0a\u4e0b\u6587\u7684\u5730\u5740\u5747\u662f\u5b9e\u9645\u7684\u7269\u7406\u5730\u5740, \u4e5f\u5c31\u4e0d\u5b58\u5728\u6620\u5c04\u4e0d\u6620\u5c04\u7684\u95ee\u9898\u4e86.</p> <p>\u5177\u4f53\u7684\u5b9e\u73b0, \u53c2\u7167\u8bb2\u4e49\u7684\u4f2a\u4ee3\u7801\u5c31\u53ef\u4ee5\u4e86:</p> <pre><code>void __am_asm_trap() {\n  if (ksp != 0) {   // ksp is global\n    c-&gt;usp = $sp;   // usp should be in Context\n    $sp = ksp;\n  }\n  c-&gt;np = (ksp == 0 ? KERNEL : USER);  // np should be in Context\n\n  ksp = 0;          // support re-entry of CTE\n\n  // save context\n\n  __am_irq_handle(c);\n\n  // restore context\n\n  if (c-&gt;np == USER) {\n    ksp = $sp;\n    $sp = c-&gt;usp;\n  }\n\n  return_from_trap();\n}\n</code></pre> <p>\u78b0\u5230\u7684 bug \u5982\u4e0b:</p> <ol> <li>\u5199\u5b8c\u6808\u5207\u6362\u7684\u6c47\u7f16\u4ee3\u7801\u540e, \u53d1\u73b0\u5185\u6838\u548c\u7528\u6237\u6808\u5207\u6362\u4f1a\u5bfc\u81f4\u9519\u8bef. \u6700\u540e sp \u7684\u503c\u662f fffffffx \u8fd9\u4e2a\u95ee\u9898\u662f\u5185\u6838 Context \u6ca1\u6709\u521d\u59cb\u5316, \u6240\u4ee5\u8fd4\u56de\u540e sp \u53d8\u4e3a 0, \u4e0b\u6b21\u8c03\u7528\u51fd\u6570\u65f6\u51cf\u53bb\u67d0\u4e2a\u503c, \u5c31\u5f97\u5230\u4e0a\u9762\u90a3\u4e2a\u4e0d\u5408\u6cd5\u5730\u5740\u4e86.</li> <li>\u7528\u6237\u6808\u4e4b\u95f4\u5207\u6362\u5bfc\u81f4\u9519\u8bef. \u9009\u62e9\u4e24\u4e2a\u6700\u7b80\u5355\u7684\u8fdb\u7a0b, \u53ea\u6253\u5370\u67d0\u4e9b\u5b57\u7b26. \u4f46\u662f\u6bcf\u6b21\u6216\u662f\u6253\u5370\u9519\u8bef\u7684\u5b57\u7b26, \u6216\u662f\u76f4\u63a5\u9519\u8bef. \u5e76\u4e14\u9010\u6b65\u8c03\u8bd5, \u9519\u8bef\u7684\u5730\u65b9\u90fd\u662f serial_write \u51fd\u6570. \u5e76\u4e14, yield \u653e\u5728 putch \u4e4b\u524d\u5c31\u4f1a\u62a5\u9519, \u7136\u800c\u4e4b\u540e\u5c31\u4e0d\u4f1a, \u6240\u4ee5\u662f yield \u89e6\u53d1\u5f02\u5e38\u4e4b\u540e\u5bfc\u81f4\u4e86\u67d0\u4e9b\u95ee\u9898. \u518d\u8fdb\u884c\u9010\u6b65\u8c03\u8bd5, \u6bd4\u8f83\u4e24\u79cd\u60c5\u51b5\u4e0b\u7684 yield \u89e6\u53d1\u524d\u548c\u89e6\u53d1\u540e\u7684\u60c5\u51b5, \u53d1\u73b0\u662f\u5730\u5740\u6620\u5c04\u5bc4\u5b58\u5668 satp \u6539\u53d8\u4e86. \u6240\u4ee5\u662f satp \u7684\u95ee\u9898, yield \u4ee5\u540e satp \u6ca1\u6709\u53d8\u56de\u6765, \u5bfc\u81f4\u540e\u9762\u7684\u5730\u5740\u6620\u5c04\u9519\u8bef. \u95ee\u9898\u662f\u5728 am_irq_handle \u4e2d\u6ca1\u6709\u4fdd\u5b58 satp \u7684\u503c. \u73b0\u5728\u5b9e\u73b0\u4e86\u6808\u5207\u6362, \u65e0\u8111\u4fdd\u5b58\u5373\u53ef. \u4fee\u6539\u903b\u8f91\u4ee5\u540e, \u5c31\u53ef\u4ee5\u6210\u529f\u8fd0\u884c\u4e24\u4e2a\u7528\u6237\u8fdb\u7a0b\u4e86.</li> </ol> <p></p> <p>\u4e0a\u9762\u662f Hello \u7ebf\u7a0b\u548c\u4ed9\u5251\u5947\u4fa0\u4f20\u7684\u7ebf\u7a0b\u540c\u65f6\u8fd0\u884c.</p> <p>\u6700\u540e\u662f\u53f0\u524d\u8c03\u5ea6\u7684\u529f\u80fd, \u672c\u6765\u4ee5\u4e3a\u5b8c\u4e0d\u6210\u4e86, \u6ca1\u60f3\u5230\u6211\u5c45\u7136\u8fd9\u4e48\u806a\u660e, \u770b\u51fa\u4e86\u95ee\u9898\u6240\u5728\u554a. \u9996\u5148, \u660e\u9762\u4e0a\u7684\u73b0\u8c61\u662f, \u7a0b\u5e8f\u80fd\u5426\u6b63\u786e\u8fd0\u884c\u5c45\u7136\u662f\u548c init_proc \u51fd\u6570\u4e2d context_uload \u7684\u987a\u5e8f\u6709\u5173, \u53ea\u6709\u524d\u53f0\u7a0b\u5e8f (fg_pcb) \u6070\u597d\u662f\u6700\u540e\u4e00\u4e2a context_uload \u7684\u624d\u80fd\u6b63\u786e\u8fd0\u884c. \u4f46\u662f\u7406\u8bba\u4e0a\u8bf4, \u7a0b\u5e8f\u52a0\u8f7d\u8fdb\u4e0d\u540c\u7684 PCB, \u5f53\u7136\u90fd\u53ef\u4ee5\u4f7f\u7528, \u548c\u52a0\u8f7d\u987a\u5e8f\u5f53\u7136\u662f\u65e0\u5173\u7684. \u8fd9\u662f\u4e00\u4e2a\u5f88\u532a\u5937\u6240\u601d\u7684\u95ee\u9898, \u76f4\u63a5\u601d\u8003\u53ef\u80fd\u4f1a\u60f3\u662f\u5426\u662f\u540e\u9762\u7684 PCB \u4f1a\u5426\u8986\u76d6\u4e86\u524d\u9762\u7684 PCB. \u4f46\u662f, \u6392\u67e5\u4e86\u4e00\u4e0b, \u4f3c\u4e4e\u5f88\u96be\u9a8c\u8bc1\u8fd9\u79cd\u73b0\u8c61. </p> <p>\u6240\u4ee5, \u8981\u627e\u9519\u8bef, \u5c31\u8981\u5f00\u59cb\u8c03\u8bd5. \u6253\u5f00 NEMU \u7684 trace, \u53d1\u73b0\u4e0d\u7ba1\u662f\u524d\u9762\u7684\u60c5\u51b5, \u8fd8\u662f\u6b63\u786e\u8fd0\u884c\u540e\u66f4\u6539\u8fdb\u7a0b, \u9519\u8bef\u7684\u5730\u65b9\u90fd\u662f am_asm_trap \u4e2d mret. \u5728 mret \u540e, \u539f\u672c\u80fd\u89e3\u7801\u7684\u865a\u62df\u5730\u5740\u7a81\u7136\u5c31\u4e0d\u80fd\u89e3\u7801\u4e86. \u56e0\u4e3a\u90fd\u662f\u5728\u5185\u6838\u4e2d\u51fa\u95ee\u9898, \u5e76\u4e14\u8fd4\u56de\u5730\u5740\u662f\u865a\u62df\u5730\u5740, \u8fd9\u610f\u5473\u7740\u662f\u5e94\u7528\u7a0b\u5e8f\u7533\u8bf7\u7cfb\u7edf\u8c03\u7528\u65f6\u51fa\u4e86\u95ee\u9898. \u6253\u5f00 strace, \u53d1\u73b0\u90fd\u662f\u5728 9 \u53f7\u8c03\u7528\u4e2d\u51fa\u7684\u95ee\u9898, \u800c 9 \u53f7\u8c03\u7528\u662f brk, \u5185\u5b58\u7533\u8bf7\u8c03\u7528. \u5185\u5b58\u7533\u8bf7\u8c03\u7528\u65f6, \u552f\u4e00\u53ef\u80fd\u4fee\u6539\u865a\u62df\u5730\u5740\u7684\u6620\u5c04\u7684, \u5c31\u662f mm_brk \u4e2d\u7684 map \u51fd\u6570. \u4e4b\u524d\u4e00\u76f4\u6b63\u786e\u7684 map \u51fd\u6570\u80fd\u51fa\u95ee\u9898, \u7684\u786e\u6ca1\u6709\u60f3\u5230. \u770b\u4e00\u4e0b\u5b83\u7684\u903b\u8f91, \u662f\u7269\u7406\u5730\u5740\u8fde\u7eed\u65f6, \u80fd\u6b63\u786e\u6620\u5c04, \u7136\u800c\u4e0d\u8fde\u7eed\u5c31\u4f1a\u8986\u76d6\u524d\u9762\u7684\u5730\u5740\u8868. \u6240\u4ee5\u5c31\u5bfc\u81f4\u4e86\u4e3a\u4ec0\u4e48\u6700\u540e\u4e00\u4e2a\u7a0b\u5e8f\u80fd\u6b63\u786e\u8fd0\u884c, \u56e0\u4e3a\u5730\u5740\u6620\u5c04\u662f\u8fde\u7eed\u7684. \u4fee\u6539\u4e86 map \u51fd\u6570\u7684\u9519\u8bef\u903b\u8f91\u4ee5\u540e, \u5c31\u53ef\u4ee5\u5f00\u5fc3\u6ef4\u8fdb\u884c\u524d\u53f0\u8c03\u5ea6\u4e86. </p> <p>\u5176\u5b9e\u8c03\u8bd5\u7684\u8fc7\u7a0b\u867d\u7136\u5f88\u714e\u71ac, \u800c\u4e14\u5f80\u5f80\u6392\u67e5\u4e00\u4e0b\u5348\u751a\u81f3\u4e00\u5929, \u6700\u540e\u5bfc\u81f4\u9519\u8bef\u7684, \u53ea\u662f\u4e00\u5c0f\u53e5\u4ee3\u7801. \u4f46\u662f\u903b\u8f91\u63a8\u7406\u7684\u8fc7\u7a0b, \u7531\u73b0\u8c61\u627e\u5230\u672c\u8d28, \u627e\u5230\u7cbe\u786e\u7684\u9519\u8bef\u70b9, \u5e76\u89e3\u51b3\u5b83, \u662f\u975e\u5e38\u6709\u6210\u5c31\u611f\u7684. </p> <p>\u5982\u4e0b\u56fe\u6240\u793a, \u5207\u5230 bird \u6e38\u620f\u540e\u53c8\u5207\u5230\u4ed9\u5251\u5947\u4fa0\u4f20.</p> <p></p> <p>\u5fc5\u7b54\u9898\uff1a\u6700\u540e\u603b\u7ed3\u4e00\u4e0b\uff0c\u4ed9\u5251\u5947\u4fa0\u4f20\u600e\u4e48\u540c\u65f6\u548c hello \u7528\u6237\u7a0b\u5e8f\u5206\u65f6\u8fd0\u884c\uff1f</p> <p>\u4ee5 hello \u7a0b\u5e8f\u5207\u6362\u4e3a\u4f8b\uff1a\u6bcf\u4e00\u6761\u6307\u4ee4\u7ed3\u675f\uff0cNEMU \u7684 cpu_exec() \u51fd\u6570\u4f1a\u68c0\u67e5 CPU \u7684 INTR \u5f15\u811a\u662f\u5426\u88ab\u62c9\u9ad8\uff0c\u662f\u5219\u6709\u65f6\u949f\u4e2d\u65ad\u8bf7\u6c42\uff0c\u82e5\u6b64\u65f6 CPU \u5141\u8bb8\u4e2d\u65ad\uff0c\u5219\u4f1a\u8fdb\u5165\u8bbe\u7f6e\u597d\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f trap.s\u3002\u5728\u5176\u4e2d\uff0cnanos-lite \u4f1a\u5c06 hello \u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\u4fdd\u5b58\u5230\u5185\u6838\u6808\u4e2d\uff0c\u8fdb\u5165 __am_irq_handle() \u51fd\u6570\uff0c\u8c03\u7528\u4e4b\u524d\u7684\u56de\u8c03\u51fd\u6570 do_event()\uff0c\u518d\u5230 schedule() \u51fd\u6570\u5207\u6362\u5230\u4ed9\u5251\u5947\u4fa0\u4f20\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\u3002\u56de\u5230 trap.s \u6062\u590d\u8fd9\u4e2a\u4e0a\u4e0b\u6587\uff0c\u5c06\u6808\u6307\u9488\u8f6c\u79fb\u56de\u7528\u6237\u6808\uff0c\u6700\u540e mret \u6307\u4ee4\u4e4b\u540e\uff0c\u5c31\u5207\u6362\u5230\u4e86\u4ed9\u5251\u5947\u4fa0\u4f20\u7684\u4ee3\u7801\u7ee7\u7eed\u6267\u884c\u3002</p> <p>\u90a3\u4e48\u73b0\u5728, \u6211\u5c31\u5b8c\u6210\u4e86 PA \u7684\u6240\u6709\u5fc5\u505a\u9879\u76ee. (\u867d\u7136\u9009\u505a\u8fd8\u7559\u4e86\u4e00\u5806\u5751)</p> <p>\u6574\u4e2a PA \u5168\u90e8\u505a\u4e0b\u6765, \u5bf9\u4e8e\u6211\u8fd9\u6837\u7684\u65b0\u624b\u6765\u8bf4, \u5927\u6982\u9700\u8981\u5c06\u8fd1 300 \u4e2a\u5c0f\u65f6. \u4e5f\u9646\u9646\u7eed\u7eed\u505a\u4e86\u5feb\u534a\u5e74. \u505a\u8fd9\u4e2a PA \u4e0d\u4ec5\u4ec5\u53ea\u662f\u505a\u4e86\u4e00\u4e2a\u9879\u76ee, \u8fd8\u987a\u5e26\u5b66\u4e60\u4e86\u4e00\u5806\u4e1c\u897f, \u6bd4\u5982, vim, make, shell script, \u4ee5\u53ca\u8fd9\u4e2a\u7b14\u8bb0\u7f51\u7ad9, \u8fd8\u6709\u5404\u79cd\u77e5\u8bc6, \u6bd4\u5982\u7a0b\u5e8f\u7ed3\u6784, \u865a\u62df\u5185\u5b58\u7b49\u7b49. \u8bb2\u4e49\u91cc\u9762\u8001\u662f\u5f3a\u8c03\u72b6\u6001\u673a\u7684\u4e8b\u60c5, \u505a\u524d\u9762\u7684\u5185\u5bb9\u8fd8\u4e0d\u4ee5\u4e3a\u610f, \u4f46\u662f\u5230\u4e86 PA4, \u8fc7\u7a0b\u7684\u590d\u6742\u5ea6\u5c31\u9661\u7136\u4e0a\u5347\u4e86, \u8981\u6a21\u62df\u8fd0\u884c\u7684\u8fc7\u7a0b\u628a\u6211\u7684\u8349\u7a3f\u7eb8\u90fd\u8017\u5b8c\u4e86, \u8fd9\u624d\u53c8\u56de\u60f3\u8d77\u6765.</p> <p>\u975e\u5e38\u611f\u8c22 PA, \u90a3\u4e48 PA \u5c31\u6682\u65f6\u544a\u4e00\u6bb5\u843d\u4e86, \u518d\u89c1!</p>"},{"location":"ICS/callback/","title":"\u56de\u8c03\u51fd\u6570","text":"<p>\u4e0d\u7ba1\u662f PA \u8fd8\u662f\u5b9e\u9645\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u78b0\u5230\u8fc7\u5f88\u591a\u6b21 \u201c\u56de\u8c03\u51fd\u6570\uff08callback\uff09\u201d\u8fd9\u4e2a\u6982\u5ff5\u4e86\uff0c\u90a3\u4e48\u5b83\u7a76\u7adf\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u53ef\u4ee5\u770b\u4e00\u4e0b\u8fd9\u4e2a\u535a\u5ba2\uff1a</p> <p>https://www.runoob.com/w3cnote/c-callback-function.html</p> <p>https://www.zhihu.com/question/19801131</p> <p>\u7528\u6700\u7b80\u5355\u7684\u7406\u89e3\u6765\u8bf4\uff0c\u56de\u8c03\u51fd\u6570\u5c31\u662f\u901a\u8fc7\u51fd\u6570\u6307\u9488\u88ab\u8c03\u7528\u7684\u51fd\u6570\u3002\u6216\u8005\u5f15\u7528\u522b\u4eba\u7684\u8bdd\uff1aA \"callback\" is any function that is called by another function which takes the first function as a parameter.</p> <p>\u4e3a\u4ec0\u4e48\u8981\u7528\u56de\u8c03\u51fd\u6570\u5462\uff1f\u5c31\u5e94\u7528\u573a\u666f\u6765\u8bf4\uff0c\u56de\u8c03\u51fd\u6570\u5141\u8bb8\u7279\u5b9a\u4e8b\u4ef6\u53d1\u751f\u65f6\uff08\u9f20\u6807\u70b9\u51fb\u3001\u89e6\u53d1\u5f02\u5e38\u3001\u63a5\u53d7\u6570\u636e\u7b49\u7b49\uff09\u6267\u884c\u7279\u5b9a\u7684\u64cd\u4f5c\u3002\u5c31\u4f5c\u7528\u6765\u8bf4\uff0c\u53ef\u4ee5\u89e3\u8026\uff1a\u8c03\u7528\u56de\u8c03\u51fd\u6570\u7684\u51fd\u6570\uff08\u79f0\u4e3a\u8d77\u59cb\u51fd\u6570\uff09\u5f80\u5f80\u662f\u4e0d\u53ef\u89c1\u7684\u6216\u8005\u96be\u4ee5\u6539\u52a8\u7684\uff0c\u7136\u800c\u53ea\u9700\u8981\u4f20\u5165\u4e0d\u540c\u7684\u51fd\u6570\u6307\u9488\uff0c\u5c31\u53ef\u4ee5\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\u4e86\u3002</p> <p>\u867d\u7136\u662f\u4e00\u4e2a\u8f83\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u5176\u5b9e\u4e5f\u4e0d\u96be\u7406\u89e3\u3002</p> <p>\u4e0b\u9762\u770b\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u4f8b\u5b50\uff1a\uff08\u5176\u5b9e\u5c31\u662f\u94fe\u63a5\u91cc\u7684\u4f8b\u5b50\uff0c\u61d2\u7684\u81ea\u5df1\u5199\u4e86\uff09 <pre><code>#include &lt;stdio.h&gt;\n\nint Callback_1(int x) // Callback Function 1\n{\n    printf(\"Hello, this is Callback_1: x = %d \\n\", x);\n    return 0;\n}\n\nint Callback_2(int x) // Callback Function 2\n{\n    printf(\"Hello, this is Callback_2: x = %d \\n\", x);\n    return 0;\n}\n\nint Callback_3(int x) // Callback Function 3\n{\n    printf(\"Hello, this is Callback_3: x = %d \\n\", x);\n    return 0;\n}\n\nint Handle(int y, int (*Callback)(int))\n{\n    printf(\"Entering Handle Function. \\n\");\n    Callback(y);\n    printf(\"Leaving Handle Function. \\n\");\n    return 0;\n}\n\nint main()\n{\n    int a = 2;\n    int b = 4;\n    int c = 6;\n    printf(\"Entering Main Function. \\n\");\n    Handle(a, Callback_1);\n    Handle(b, Callback_2);\n    Handle(c, Callback_3);\n    printf(\"Leaving Main Function. \\n\");\n    return 0;\n}\n</code></pre></p> <p>\u6709\u65f6\u6211\u4eec\u4e5f\u4f1a\u78b0\u5230\u201c\u6ce8\u518c\u201d\u56de\u8c03\u51fd\u6570\u7684\u8bf4\u6cd5\u3002\u8fd9\u4e2a\u201c\u6ce8\u518c\u201d\u7684\u8bf4\u6cd5\u4e5f\u662f\u76f8\u5f53\u62bd\u8c61\u4e86\uff0c\u5176\u5b9e\u5c31\u662f\u521d\u59cb\u5316\u7684\u610f\u601d\u3002\u521d\u59cb\u5316\u9700\u8981\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4e4b\u540e\u5728\u89e6\u53d1\u67d0\u79cd\u4e8b\u4ef6\u65f6\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u4e86\u3002\u6bd4\u5982\u8bf4\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684 <code>signal</code> \u51fd\u6570\uff0c\u51fd\u6570\u539f\u578b\u662f\uff1a <pre><code>void (*signal(int sig, void (*func)(int)))(int)\n</code></pre> \u8c03\u7528 <code>signal</code> \u51fd\u6570\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u4e4b\u540e\u7a0b\u5e8f\u63a5\u53d7\u5230 <code>sig</code> \u4fe1\u53f7\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570 <code>func</code>\u3002</p> <p>\u4f8b\u7a0b\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;signal.h&gt;\n\nvoid sighandler(int);\n\nint main()\n{\n   signal(SIGINT, sighandler);\n\n   while(1) \n   {\n      printf(\"sleep 1 second\\n\");\n      sleep(1);\n   }\n\n   return(0);\n}\n\nvoid sighandler(int signum)\n{\n   printf(\"get signal: %d, jump out...\\n\", signum);\n   exit(1);\n}\n</code></pre> <p>\u7a0b\u5e8f\u9996\u5148\u662f\u6bcf\u4e2a\u4e00\u79d2\u6253\u5370\u4e00\u6761\u8bed\u53e5\uff0c\u6309\u4e0b  \uff0c\u8ba9\u7a0b\u5e8f\u63a5\u6536\u5230 <code>SIGINT</code> \u4fe1\u53f7\uff0c\u4ece\u800c\u8df3\u51fa\uff0c\u8fdb\u5165 <code>sighandler</code> \u51fd\u6570\u3002"},{"location":"ICS/io/","title":"IO \u548c \u6587\u4ef6\u7cfb\u7edf","text":""},{"location":"ICS/links/","title":"\u94fe\u63a5\u4e0e\u7a0b\u5e8f\u7ed3\u6784","text":"<p>\u672c\u7ae0\u4e3b\u8981\u662f\u5bf9 CSAPP \u8fd9\u672c\u4e66\u7b2c\u4e03\u7ae0\u7684\u6574\u7406.</p> <p>\u8fd9\u4e00\u7ae0\u4f1a\u7b80\u5355\u4ecb\u7ecd\u94fe\u63a5\u548c\u7a0b\u5e8f\u7684\u7ed3\u6784\u3002\u4e8b\u5b9e\u4e0a\u5230\u505a\u6bd5\u8bbe\u6211\u624d\u4f53\u4f1a\u5230\u94fe\u63a5\u7684\u529b\u91cf\uff1a\u5c06\u4e00\u4e2a\u5927\u5de5\u7a0b\u5206\u89e3\u4e3a\u5404\u4e2a\u53ef\u4ee5\u72ec\u7acb\u4fee\u6539\u3001\u7f16\u8bd1\u7684\u6a21\u5757\u3002</p>"},{"location":"ICS/links/#1-elf","title":"1. ELF \u6587\u4ef6\u7ed3\u6784","text":"<p>\u53ef\u4ee5 <code>man 5 elf</code> \u6765\u83b7\u5f97\u5173\u4e8e ELF \u6587\u4ef6\u7684\u4fe1\u606f\u3002</p> <p>\u8981\u67e5\u770b\u7a0b\u5e8f riscv \u6587\u4ef6\u4fe1\u606f\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>riscv64-linux-gnu-readelf -a &lt;filename&gt;\nriscv64-linux-gnu-objdump -d &lt;filename&gt;\n</code></pre> <p>elf \u6587\u4ef6\u7684\u9b54\u6570\uff1a0x7F,0x45,0x4c,0x46,</p> <p>\u522b\u4eba\u4e5f\u6709\u4e00\u4e9b\u4ecb\u7ecd\uff0c\u6bd4\u5982\uff1a</p> <p>https://zhuanlan.zhihu.com/p/286088470</p> <p>https://blog.csdn.net/npy_lp/article/details/102604380</p> <p>ELF \u662f linux \u7cfb\u7edf\u4e0b\u7684\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\u683c\u5f0f\u3002\u7406\u89e3\u5b83\u5c31\u7406\u89e3\u4e86\u7a0b\u5e8f\u7684\u7ed3\u6784\u3002</p> <p>\u5148\u6765\u4e00\u5f20\u56fe\u6765\u4ecb\u7ecd ELF \u7684\u6587\u4ef6\u7ed3\u6784\u3002\u6211\u4eec\u53ef\u4ee5\u4ece section\uff08\u8282\uff09\u548c segment\uff08\u6bb5\uff09\u4e24\u79cd\u89c6\u89d2\u6765\u770b ELF \u6587\u4ef6\u662f\u600e\u4e48\u7ec4\u7ec7\u7684\u3002</p>"},{"location":"ICS/links/#section","title":"Section \u89c6\u89d2","text":"<p>Section \u89c6\u89d2\u63d0\u4f9b\u4e86\u7528\u4e8e\u94fe\u63a5\u4e0e\u91cd\u5b9a\u4f4d\u7684\u4fe1\u606f\u3002\u4ece\u8282\u7684\u89d2\u5ea6\uff0cELF header\uff08ELF \u5934\uff09\u4ecb\u7ecd\u4e86\u8fd9\u4e2a ELF \u6587\u4ef6\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u6bd4\u5982\u5927\u5c0f\u3001\u673a\u5668\u7c7b\u578b\u3001\u7a0b\u5e8f\u5165\u53e3\u5730\u5740\u3001Section header table \uff08\u8282\u5934\u90e8\u8868\uff09\u7684\u6587\u4ef6\u504f\u79fb\u7b49\u7b49\u3002ELF \u5934\u4e4b\u540e\u662f Segment header table\uff08\u7a0b\u5e8f\u5934\u8868\uff09\uff0c\u5305\u62ec\u4e86\u6bb5\u7684\u4fe1\u606f\uff0c\u6bb5\u5728\u540e\u9762\u4f1a\u4ecb\u7ecd\u3002\u6587\u4ef6\u7684\u672b\u5c3e\u662f\u8282\u5934\u90e8\u8868\uff0c\u63cf\u8ff0\u4e86\u4e0d\u540c\u8282\u7684\u4f4d\u7f6e\u548c\u5927\u5c0f\u3002\u5939\u5728\u4e2d\u95f4\u7684\u90fd\u662f\u8282\u3002</p> <p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u5178\u578b\u7684\u8282\u3002</p> <ul> <li><code>.text</code>\uff1a\u7a0b\u5e8f\u7684\u673a\u5668\u4ee3\u7801</li> <li><code>.rodata</code>\uff1a\u53ea\u8bfb\u6570\u636e\uff08read-only data\uff09\u3002\u6bd4\u5982\u8bf4\u5e38\u91cf\u548c\u5e38\u91cf\u5b57\u7b26\u4e32\uff0cswitch \u8bed\u53e5\u7684\u8df3\u8f6c\u8868\u90fd\u50a8\u5b58\u5728\u8fd9\u91cc\u3002\u5bf9\u53ea\u8bfb\u6570\u636e\u6bb5\u5185\u5b58\u5c1d\u8bd5\u4fee\u6539\u5c06\u4f1a\u5bfc\u81f4\u6bb5\u9519\u8bef\u3002</li> <li><code>.data</code>\uff1a\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u548c\u9759\u6001 C \u53d8\u91cf\u3002\u6ce8\u610f\uff0c\u5c40\u90e8\u53d8\u91cf\u4e0d\u5728 <code>.data</code> \u6216\u8005 <code>.bss</code> \u8282\u4e2d\uff0c\u800c\u662f\u50a8\u5b58\u5728\u6808\u91cc\u3002</li> <li><code>.bss</code>\uff1a\u672a\u521d\u59cb\u5316\u7684\u6216\u8005\u88ab\u521d\u59cb\u5316\u4e3a 0 \u7684\u5168\u5c40\u6216\u8005\u9759\u6001\u53d8\u91cf\uff08\u53cd\u6b63\u5c31\u662f 0\uff09\u3002\u5728\u6587\u4ef6\u4e2d\uff0c\u8fd9\u4e2a\u8282\u4e0d\u5360\u636e\u4efb\u4f55\u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u53ea\u6709\u5728\u8fd0\u884c\u65f6\uff0c\u624d\u5728\u5185\u5b58\u4e2d\u5206\u914d\u7ed9\u8fd9\u4e9b\u53d8\u91cf\u7a7a\u95f4\uff0c\u521d\u59cb\u503c\u4e3a 0\u3002\u8fd9\u6837\u505a\u5927\u5927\u63d0\u9ad8\u4e86\u7a7a\u95f4\u6548\u7387\uff0c\u4e5f\u662f <code>.bss</code> \u8282\u4e3a\u4ec0\u4e48\u603b\u662f\u5168\u90fd\u4e3a 0 \u7684\u539f\u56e0\u3002</li> <li><code>.symtab</code>\uff1a\u7b26\u53f7\u8868\uff0c\u5b58\u653e\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf\u7684\u4fe1\u606f\u3002</li> <li><code>.rel.text</code>: <code>.text</code> \u8282\u4e2d\u4f4d\u7f6e\u7684\u5217\u8868, \u8fd9\u4e9b\u4f4d\u7f6e\u53ef\u80fd\u9700\u8981\u88ab\u91cd\u5b9a\u4f4d.</li> <li><code>.rel.data</code>: \u6240\u6709\u5168\u5c40\u53d8\u91cf\u7684\u91cd\u5b9a\u4f4d\u4fe1\u606f. \u5982\u679c\u5168\u5c40\u53d8\u91cf\u7684\u503c\u662f\u4e00\u4e2a\u5730\u5740, \u90a3\u4e48\u5c31\u53ef\u80fd\u88ab\u4fee\u6539.  </li> <li><code>.debug</code>\uff1a\u8c03\u8bd5\u7b26\u53f7\u8868\uff0c\u53ea\u6709\u4ee5 <code>-g</code> \u9009\u9879\u7f16\u8bd1\u624d\u80fd\u5f97\u5230\u8fd9\u5f20\u8868\uff0c\u5305\u7edc\u5fc5\u8981\u7684\u8c03\u8bd5\u4fe1\u606f\u3002</li> <li><code>.strtab</code>\uff1a\u4e00\u4e2a\u5b57\u7b26\u4e32\u8868\uff0c\u5305\u62ec\u6240\u6709\u8282\u7684\u8282\u540d\u3002</li> </ul>"},{"location":"ICS/links/#segment","title":"Segment \u89c6\u89d2","text":"<p>\u4ece\u6bb5\u7684\u89c6\u89d2\uff0c\u6211\u4eec\u53ef\u4ee5\u628a ELF \u4e3b\u8981\u5206\u4e3a\u4e09\u6bb5\uff1a\u4ee3\u7801\u6bb5\uff08<code>.text</code>\uff0c<code>.rodata</code>\uff09\u3001\u6570\u636e\u6bb5\uff08<code>.data</code>\uff0c<code>.bss</code>\uff09\u548c\u4e0d\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u7b26\u53f7\u8868\u3002\u5176\u4e2d\uff0c\u4ee3\u7801\u6bb5\u53ea\u8bfb\uff0c\u800c\u6570\u636e\u6bb5\u6709\u8bfb\u5199\u6743\u9650\u3002</p> <p>Linux \u7a0b\u5e8f\u8c03\u7528 <code>execve</code> \u51fd\u6570\u6765\u8c03\u7528\u52a0\u8f7d\u5668\uff0c\u52a0\u8f7d\u5668\u5c06\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\u7684\u4ee3\u7801\u548c\u6570\u636e\u590d\u5236\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u8df3\u8f6c\u5230\u7a0b\u5e8f\u7684\u5165\u53e3\u70b9\u6765\u8fd0\u884c\u7a0b\u5e8f\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u5185\u5b58\u6620\u50cf\u3002</p> <p>\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u7a0b\u5e8f\u7684\u4ee3\u7801\u6bb5\u603b\u662f\u4ece\u5730\u5740 <code>0x400000</code> \u5904\u5f00\u59cb\uff0c\u540e\u9762\u662f\u6570\u636e\u6bb5\u3002\u5806\u5728\u6570\u636e\u6bb5\u4e4b\u540e\uff0c\u8c03\u7528 <code>malloc</code> \u5e93\u5411\u4e0a\u589e\u957f\u3002\u7528\u6237\u6808\u4ece\u6700\u5927\u7684\u5408\u6cd5\u7528\u6237\u5730\u5740\u5f00\u59cb\uff082**48-1\uff09\uff0c\u5411\u4e0b\u589e\u957f\u3002\u7528\u6237\u6808\u4e4b\u4e0a\u7684\u533a\u57df\u662f\u5185\u6838\u7684\u4ee3\u7801\u548c\u6570\u636e\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\u3002</p> \u7ec3\u4e60 <ol> <li> <p>\u4e3a\u4ec0\u4e48\u4e0b\u9762\u7684\u8bed\u53e5\u4f1a\u5bfc\u81f4\u6bb5\u9519\u8bef\uff1f <pre><code>char *p = \"abcde\";\nchar *q = \"edcba\";\nstrcpy(p, q);\n</code></pre></p> </li> <li> <p>\u4f7f\u7528 readelf \u67e5\u770b\u4e00\u4e2a ELF \u6587\u4ef6\u7684\u4fe1\u606f, \u4f60\u4f1a\u770b\u5230\u4e00\u4e2a segment \u5305\u542b\u4e24\u4e2a\u5927\u5c0f\u7684\u5c5e\u6027, \u5206\u522b\u662f FileSiz \u548c MemSiz, \u8fd9\u662f\u4e3a\u4ec0\u4e48? \u518d\u4ed4\u7ec6\u89c2\u5bdf\u4e00\u4e0b, \u4f60\u4f1a\u53d1\u73b0 FileSiz \u901a\u5e38\u4e0d\u4f1a\u5927\u4e8e\u76f8\u5e94\u7684 MemSiz, \u8fd9\u53c8\u662f\u4e3a\u4ec0\u4e48? \u63d0\u793a\uff1aMemSiz \u662f\u6587\u4ef6\u5728\u78c1\u76d8\u4e2d\u7684\u5927\u5c0f\uff0cFileSiz \u662f\u6587\u4ef6\u8fd0\u884c\u65f6\u5728\u5185\u5b58\u4e2d\u7684\u5927\u5c0f\u3002</p> </li> </ol>"},{"location":"ICS/links/#2","title":"2. \u94fe\u63a5","text":"<p>\u8fd9\u4e2a\u6559\u7a0b \u975e\u5e38\u8be6\u7ec6\u5730\u4ecb\u7ecd\u4e86\u5982\u4f55\u5728 linux \u7cfb\u7edf\u4e0b\u4f7f\u7528\u9759\u6001\u5e93\u548c\u52a8\u6001\u5e93, \u7455\u4e0d\u63a9\u745c\u7684\u662f, \u6709\u4e00\u4e9b\u7406\u89e3\u8fd8\u4e0d\u591f\u51c6\u786e. \u4e0b\u9762\u6211\u5c31\u6309\u6559\u6750\u6765\u6574\u7406\u4e86.</p> <p>\u5199\u5b8c\u4e00\u4e2a\u7a0b\u5e8f\u4ee5\u540e, \u5982\u679c\u8c03\u7528 gcc \u6765\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6, \u7ecf\u5386\u8fd9\u6837\u7684\u6b65\u9aa4: \u9996\u5148\u8fd0\u884c C \u9884\u5904\u7406\u5668, \u5c06\u6e90\u7a0b\u5e8f\u7684\u5b8f\u5b9a\u4e49\u7b49\u7b49\u66ff\u6362; \u7136\u540e\u8fd0\u884c C \u7f16\u8bd1\u5668, \u5c06 C \u6587\u4ef6\u7ffb\u8bd1\u6210 .s \u6c47\u7f16\u6587\u4ef6; \u63a5\u4e0b\u6765\u8fd0\u884c\u6c47\u7f16\u5668, \u5c06 .s \u6c47\u7f16\u6587\u4ef6\u7ffb\u8bd1\u6210\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6(relocatable object file), \u4ee5 .o \u4e3a\u540e\u7f00\u540d. \u6700\u540e\u8fd0\u884c\u94fe\u63a5\u5668, \u5c06\u5404\u4e2a .o \u76ee\u6807\u6587\u4ef6\u7ec4\u5408\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6. \u53ea\u9700\u8c03\u7528\u52a0\u8f7d\u5668, \u5c31\u53ef\u4ee5\u8fd0\u884c\u8fd9\u4e2a\u6587\u4ef6. \u6211\u4eec\u4e0b\u9762\u7684\u91cd\u70b9, \u5c31\u662f\u653e\u5728\u94fe\u63a5\u8fd9\u4e2a\u6b65\u9aa4\u4e0a\u9762.</p> <p>\u63d0\u4e00\u5634, \u8fd9\u4e2a object \u7ffb\u8bd1\u6210\u76ee\u6807, \u4f7f\u6211\u770b\u4e66\u770b\u7684\u4e91\u91cc\u96fe\u91cc.</p> <p>ld \u662f linux \u7cfb\u7edf\u4e0b\u5178\u578b\u7684\u9759\u6001\u94fe\u63a5\u5668, \u5b83\u4ee5\u4e00\u7ec4 .o \u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u4f5c\u4e3a\u8f93\u5165, \u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\u4f5c\u4e3a\u8f93\u51fa. \u8f93\u5165\u7684\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u5305\u542b\u4e86\u5404\u79cd\u4e0d\u540c\u7684\u4ee3\u7801\u548c\u6570\u636e\u8282, \u8fd9\u4e9b\u8282\u7684\u5185\u5bb9\u5df2\u7ecf\u5728\u524d\u9762\u4ecb\u7ecd\u4e86. \u94fe\u63a5\u5668\u6784\u9020\u7684\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\u5c31\u662f\u8fd9\u4e9b\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u7684\u7ed3\u5408.</p>"},{"location":"ICS/links/#_2","title":"\u7b26\u53f7\u89e3\u6790\u4e0e\u91cd\u5b9a\u4f4d","text":"<p>\u4e3a\u4e86\u6784\u9020\u53ef\u6267\u884c\u6587\u4ef6, \u94fe\u63a5\u5668\u5fc5\u987b\u5b8c\u6210\u4e24\u4e2a\u4e3b\u8981\u4efb\u52a1: \u7b26\u53f7\u89e3\u6790\u548c\u91cd\u5b9a\u4f4d.</p> <p>\u7b26\u53f7\u5c31\u662f\u51fd\u6570\u548c\u53d8\u91cf\u7684\u540d\u5b57. \u7b26\u53f7\u89e3\u6790\u7684\u5de5\u4f5c\u5c31\u662f\u628a\u6bcf\u4e2a\u5bf9\u7b26\u53f7\u7684\u5f15\u7528\u548c\u4e00\u4e2a\u786e\u5b9a\u7684\u7b26\u53f7\u5b9a\u4e49\u8054\u7cfb\u8d77\u6765, \u7f16\u8bd1\u5668\u53ea\u5141\u8bb8\u6bcf\u4e2a\u6a21\u5757\u7684\u5c40\u90e8\u7b26\u53f7\u6709\u4e00\u4e2a\u5b9a\u4e49. \u4ee5\u51fd\u6570\u4e3a\u4f8b, \u7b26\u53f7\u5f15\u7528\u5c31\u662f\u51fd\u6570\u7684\u58f0\u660e, \u7b26\u53f7\u7684\u5b9a\u4e49\u5c31\u662f\u51fd\u6570\u5b9a\u4e49, \u51fd\u6570\u53ef\u4ee5\u88ab\u58f0\u660e\u591a\u6b21, \u4f46\u662f\u53ea\u80fd\u88ab\u5b9a\u4e49\u4e00\u6b21. (\u6211\u4eec\u5047\u5b9a\u4f60\u4e86\u89e3 static \u7684\u7ec6\u8282, \u8fd9\u4e9b\u63cf\u8ff0\u53ea\u662f\u6982\u62ec).</p> <p>\u5b8c\u6210\u4e86\u6240\u6709\u7684\u7b26\u53f7\u89e3\u6790, \u63a5\u4e0b\u6765\u5c31\u662f\u91cd\u5b9a\u4f4d\u4e86. \u91cd\u5b9a\u4f4d\u7531\u4e24\u6b65\u7ec4\u6210: </p> <ol> <li>\u91cd\u5b9a\u4f4d\u8282\u548c\u7b26\u53f7\u5b9a\u4e49. \u8fd9\u4e00\u6b65\u4e2d, \u94fe\u63a5\u5668\u5c06\u6240\u6709\u76f8\u540c\u7c7b\u578b\u7684\u8282\u5408\u5e76\u6210\u4e00\u4e2a\u65b0\u7684\u805a\u5408\u8282, \u7136\u540e\u5c06\u8fd0\u884c\u65f6\u5185\u5b58\u5730\u5740\u8d4b\u7ed9\u65b0\u7684\u805a\u5408\u8282, \u4ee5\u53ca\u5b9a\u4e49\u7684\u6bcf\u4e2a\u7b26\u53f7, \u8fd9\u6837\u7a0b\u5e8f\u7684\u6bcf\u6761\u6307\u4ee4\u548c\u5168\u5c40\u53d8\u91cf\u90fd\u6709\u552f\u4e00\u7684\u5730\u5740\u4e86.</li> <li>\u91cd\u5b9a\u4f4d\u8282\u4e2d\u7684\u7b26\u53f7\u5f15\u7528. \u8fde\u63a5\u5668\u4fee\u6539\u4ee3\u7801\u548c\u6570\u636e\u8282\u4e2d\u5bf9\u6bcf\u4e2a\u7b26\u53f7\u7684\u5f15\u7528, \u4f7f\u5f97\u5b83\u4eec\u6307\u5411\u6b63\u786e\u7684\u8fd0\u884c\u65f6\u5730\u5740.</li> </ol>"},{"location":"ICS/links/#_3","title":"\u9759\u6001\u5e93","text":"<p>\u524d\u9762\u6211\u4eec\u90fd\u662f\u76f4\u63a5\u8fde\u63a5\u6240\u6709\u7684 .o \u6587\u4ef6\u5e76\u628a\u5b83\u4eec\u94fe\u63a5\u8d77\u6765\u5f62\u6210\u4e00\u4e2a\u8f93\u51fa\u7684\u53ef\u6267\u884c\u6587\u4ef6. \u4f46\u662f\u5b9e\u9645\u4e0a\u8fd8\u6709\u4e00\u79cd\u9759\u6001\u5e93\u673a\u5236: \u628a\u6240\u6709\u76f8\u5173\u7684\u76ee\u6807\u6a21\u5757\u6253\u5305\u6210\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\u4f5c\u4e3a\u9759\u6001\u5e93\u7528\u4f5c\u94fe\u63a5\u5668\u7684\u8f93\u5165, \u4f46\u662f\u94fe\u63a5\u5668\u5728\u6784\u9020\u8f93\u51fa\u65f6, \u53ea\u590d\u5236\u9759\u6001\u5e93\u91cc\u88ab\u5e94\u7528\u7a0b\u5e8f\u5f15\u7528\u7684\u6a21\u5757.</p> <p>Linux \u9759\u6001\u5e93\u547d\u540d\u89c4\u8303\uff0c\u5fc5\u987b\u662f<code>lib[your_library_name].a</code>\uff1alib \u4e3a\u524d\u7f00\uff0c\u4e2d\u95f4\u662f\u9759\u6001\u5e93\u540d\uff0c\u6269\u5c55\u540d\u4e3a .a. \u9759\u6001\u5e93\u662f\u5b58\u6863\u6587\u4ef6(archive), \u662f\u4e00\u7ec4\u8fde\u63a5\u8d77\u6765\u7684 .o \u6587\u4ef6\u7684\u96c6\u5408.</p> <p>\u4ee5\u6807\u51c6\u5e93\u7684\u4f8b\u5b50\u4e3a\u4f8b: C \u8bed\u8a00\u6807\u51c6\u5e93\u548c\u6570\u5b66\u5e93\u4e2d\u7684\u51fd\u6570\u88ab\u5c01\u88c5\u5728 <code>libc.a</code> \u4e2d. <code>libc.a</code> \u7684\u5927\u5c0f\u6709\u5927\u7ea6 5 MB. \u5982\u679c\u6bcf\u4e00\u4e2a\u8c03\u7528 <code>printf</code> \u51fd\u6570\u7684\u7a0b\u5e8f\u90fd\u94fe\u63a5\u4e00\u6574\u4e2a\u6807\u51c6\u5e93\u7684\u8bdd, \u90a3\u4e48\u5373\u4fbf\u662f\u6700\u7b80\u5355\u7684\u6253\u5370 <code>hello world</code> \u7a0b\u5e8f\u90fd\u4f1a\u6709\u51e0\u5146\u7684\u5927\u5c0f. \u4f46\u5b9e\u9645\u5f53\u7136\u4e0d\u662f\u8fd9\u6837, \u94fe\u63a5\u5668\u53ea\u9009\u62e9\u4e86\u6807\u51c6\u5e93\u4e2d\u7684 <code>printf.o</code> \u548c\u51e0\u4e2a <code>printf.o</code> \u8c03\u7528\u7684\u6a21\u5757\u8fdb\u884c\u94fe\u63a5, \u56e0\u6b64\u7a0b\u5e8f\u7684\u5927\u5c0f\u53ea\u6709\u51e0 KB. </p> <p>\u5047\u8bbe\u6211\u4eec\u8fd9\u6837\u7684\u4f8b\u7a0b:</p> <pre><code>// addvec.c\nint addcnt = 0;\nvoid addvec(int *x, int *y, int *z, int *n)\n{\n    addcnt++;\n    int i;\n    for(i&lt;0;i&lt;n;i++)\n        z[i] = x[i] +y[i];\n}\n\n//multvec.c\nint multcnt=0;\nvoid multvec(int *x, int *y, int *z, int *n)\n{\n    multcnt++;\n    int i;\n    for(i&lt;0;i&lt;n;i++)\n        z[i] = x[i] * y[i];\n}\n\n//main2.c\n#include &lt;stdio.h&gt;\n#include \"vector.h\"\nint x[2] = {1,2};\nint y[2] = {3,4};\nint z[2];\nint main()\n{\n    addvec(x,y,z,2);\n    printf(\"z = [%d %d]\\n\", z[0], z[1]);\n    return 0;\n}\n</code></pre> <p>\u9996\u5148\u521b\u5efa\u4e0a\u9762\u4e24\u4e2a\u51fd\u6570\u7684\u9759\u6001\u5e93: <pre><code>gcc -c addvec.c multvec.c\nar rcs libvector.a addvec.o multvec.o\n</code></pre> \u521b\u5efa\u53ef\u6267\u884c\u6587\u4ef6: <pre><code>gcc -c main2.c\ngcc -static -o prog2c main2.o -L. -lvector\n</code></pre></p> <p></p>"},{"location":"ICS/links/#_4","title":"\u52a8\u6001\u5e93","text":"<p>\u9759\u6001\u5e93\u7684\u7f3a\u70b9\u662f, \u5982\u679c\u9759\u6001\u5e93\u66f4\u65b0, \u90a3\u4e48\u7a0b\u5e8f\u5c31\u8981\u91cd\u65b0\u548c\u66f4\u65b0\u7684\u5e93\u94fe\u63a5. \u9664\u6b64\u4e4b\u5916, \u5982\u679c\u6709\u591a\u4e2a\u8fdb\u7a0b\u540c\u65f6\u4f7f\u7528\u76f8\u540c\u7684\u51fd\u6570, \u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8981\u590d\u5236\u4e00\u4efd\u76f8\u540c\u7684\u51fd\u6570\u4ee3\u7801, \u8fd9\u6837\u6d6a\u8d39\u7a7a\u95f4.</p> <p>\u4e8e\u662f\u5c31\u5f15\u5165\u4e86\u6240\u8c13\u7684\u52a8\u6001\u5171\u4eab\u5e93, \u4e5f\u53eb\u5171\u4eab\u76ee\u6807, \u5728\u8fd0\u884c\u548c\u52a0\u8f7d\u65f6\u53ef\u4ee5\u52a0\u8f7d\u5230\u4efb\u610f\u7684\u5185\u5b58\u5730\u5740\u5e76\u548c\u5185\u5b58\u4e2d\u7684\u7a0b\u5e8f\u8fde\u63a5\u8d77\u6765. \u5171\u4eab\u5e93\u7684\u597d\u5904\u662f, \u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5171\u7528\u5185\u5b58\u4e2d\u76f8\u540c\u7684\u5e93\u4ee3\u7801, \u4ece\u800c\u5927\u5927\u8282\u7701\u4e86\u5185\u5b58\u8d44\u6e90.</p> <p>Linux \u52a8\u6001\u5e93\u547d\u540d\u89c4\u8303\uff0c\u5fc5\u987b\u662f<code>lib[your_library_name].so</code>\uff1alib \u4e3a\u524d\u7f00\uff0c\u4e2d\u95f4\u662f\u52a8\u6001\u5e93\u540d\uff0c\u6269\u5c55\u540d\u4e3a .so.</p> <p>\u63a5\u4e0a\u9762\u7684\u4f8b\u5b50, \u751f\u6210\u4f4d\u7f6e\u65e0\u5173\u7684\u4ee3\u7801 <pre><code>gcc -shared -fpic -o libvector.so addvec.c multvec.c\n</code></pre> \u94fe\u63a5\u5230\u793a\u4f8b\u7a0b\u5e8f <pre><code>gcc -o prog2l main2.c ./libvector.so\n</code></pre></p> <p>\u8fd9\u91cc\u94fe\u63a5\u65f6, \u53ea\u590d\u5236\u4e86\u4e00\u4e9b\u52a8\u6001\u5e93\u7684\u91cd\u5b9a\u4f4d\u548c\u7b26\u53f7\u8868\u4fe1\u606f, \u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6, \u624d\u7531\u52a8\u6001\u94fe\u63a5\u5668\u5c06\u5e93\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230\u5185\u5b58\u4e2d; \u800c\u9759\u6001\u5e93\u662f\u5728\u7f16\u8bd1\u8fc7\u7a0b\u5c31\u5b8c\u6210\u4e86\u8fd9\u4e9b\u52a8\u4f5c.</p> <p></p>"},{"location":"ICS/links/#_5","title":"\u4f4d\u7f6e\u65e0\u5173\u4ee3\u7801","text":"<p>\u5171\u4eab\u5e93\u4e2d\u4ee3\u7801\u53ef\u4ee5\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u4efb\u4f55\u4f4d\u7f6e\u800c\u65e0\u9700\u94fe\u63a5\u5668\u4fee\u6539, \u8fd9\u79cd\u4ee3\u7801\u53eb\u4f4d\u7f6e\u65e0\u5173\u4ee3\u7801(PIC). \u7f16\u8bd1\u5668\u7528\u5ef6\u8fdf\u7ed1\u5b9a(lazy binding)\u6280\u672f\u6765\u5b9e\u73b0 PIC \u51fd\u6570\u8c03\u7528.</p>"},{"location":"ICS/memory/","title":"\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784","text":"<p>\u672c\u7bc7\u4e3b\u8981\u662f\u5bf9 CSAPP \u7b2c\u516d\u7ae0\u7684\u6574\u7406.</p>"},{"location":"ICS/memory/#1","title":"1. \u5b58\u50a8\u6280\u672f","text":""},{"location":"ICS/memory/#11-ram","title":"1.1 RAM","text":"<p>RAM(Random-Access Memory), \u968f\u673a\u8bbf\u95ee\u5b58\u50a8\u5668. RAM \u6709\u4e24\u7c7b, SRAM(\u9759\u6001) \u548c DRAM(\u52a8\u6001). SRAM \u66f4\u5feb, \u7528\u6765\u4f5c\u4e3a\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668. DRAM \u7528\u6765\u4f5c\u4e3a\u4e3b\u5b58\u548c\u56fe\u5f62\u7cfb\u7edf\u7684\u5e27\u7f13\u51b2\u533a.</p> <p>RAM \u5982\u679c\u65ad\u7535\u5c31\u4f1a\u4e22\u5931\u4fe1\u606f, \u56e0\u6b64\u79f0\u4e3a\u6613\u5931\u6027\u5b58\u50a8\u5668. ROM \u5219\u662f\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668, \u5305\u62ec PROM/EPROM/EEPROM \u7b49. \u5b58\u50a8\u5728 ROM \u8bbe\u5907\u4e2d\u7684\u7a0b\u5e8f\u79f0\u4e3a\u56fa\u4ef6, \u6bd4\u5982 BIOS, \u8fd9\u662f\u56e0\u4e3a(\u66fe\u7ecf\u7684) ROM \u901a\u5e38\u662f\u4e0d\u4fee\u6539\u7684. </p> <p>CPU \u53ef\u4ee5\u76f4\u63a5\u548c DRAM \u4e3b\u5b58\u8fdb\u884c\u6570\u636e\u7684\u4ea4\u4e92. \u5982\u4e0b\u56fe\u6240\u793a:</p> <p>\u6267\u884c <code>movq A %rax</code> \u65f6, CPU \u5148\u5c06\u5730\u5740 A \u653e\u5230\u7cfb\u7edf\u603b\u7ebf(system bus)\u4e0a, I/O \u6865\u5c06\u4fe1\u53f7\u4f20\u9012\u5230\u5185\u5b58\u603b\u7ebf(memory bus). \u4e3b\u5b58\u63a5\u53d7\u5230\u5185\u5b58\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u4fe1\u53f7, \u4ece\u5185\u5b58\u603b\u7ebf\u8bfb\u5730\u5740, \u8bfb\u53d6\u51fa\u5bf9\u5e94\u7684\u6570\u636e, \u5c06\u6570\u636e x \u5199\u56de\u5185\u5b58\u603b\u7ebf. I/O \u6865\u5c06\u5185\u5b58\u603b\u7ebf\u4fe1\u53f7\u7ffb\u8bd1\u6210\u7cfb\u7edf\u603b\u7ebf\u4fe1\u53f7, \u88ab CPU \u63a5\u6536. CPU \u4ece\u7cfb\u7edf\u603b\u7ebf\u4e0a\u8bfb\u5230\u6570\u636e, \u5c06\u6570\u636e\u590d\u5236\u7ed9\u5bc4\u5b58\u5668 <code>%rax</code>. \u4ee5\u4e0a\u5c31\u662f\u5185\u5b58\u4ea4\u4e92\u7684\u8fc7\u7a0b.</p>"},{"location":"ICS/memory/#12","title":"1.2 \u78c1\u76d8","text":"<p>\u78c1\u76d8\u53ef\u4ee5\u5206\u4e3a\u673a\u68b0\u786c\u76d8\u548c\u56fa\u6001\u786c\u76d8. CPU \u8bbf\u95ee\u78c1\u76d8\u7684\u8fc7\u7a0b\u5c31\u662f CPU \u4e0e IO \u5916\u8bbe\u4ea4\u4e92\u7684\u8fc7\u7a0b.</p> <p>\u663e\u5361/\u9f20\u6807/\u952e\u76d8/\u78c1\u76d8\u8fd9\u6837\u7684\u8f93\u5165\u8f93\u51fa\u8bbe\u5907, \u90fd\u662f\u901a\u8fc7 IO \u603b\u7ebf\u8fde\u63a5\u5230 CPU \u548c\u4e3b\u5b58\u7684. IO \u603b\u7ebf\u652f\u6301\u5f88\u591a\u79cd\u7c7b\u7684\u7b2c\u4e09\u65b9 IO \u8bbe\u5907, \u6bd4\u5982\u4e0a\u56fe\u4e2d\u7684 USB(\u8fde\u63a5\u9f20\u6807\u548c\u952e\u76d8), \u663e\u5361(\u8fde\u63a5\u663e\u793a\u5668), \u4e3b\u673a\u603b\u7ebf\u9002\u914d\u5668(\u8fde\u63a5\u78c1\u76d8), \u8fd8\u6709\u6211\u54ea\u91cc\u8fc7\u9002\u914d\u5668\u7b49\u7b49.</p> <p>CPU \u4f7f\u7528\u5185\u5b58\u6620\u5c04 IO \u6765\u5411 IO \u8bbe\u5907\u53d1\u9001\u547d\u4ee4. \u4f7f\u7528\u5185\u5b58\u6620\u5c04 IO \u7684\u7cfb\u7edf, \u5730\u5740\u7a7a\u95f4\u6709\u4e00\u5757\u5730\u5740\u662f\u4e3a\u4e0e IO \u8bbe\u5907\u901a\u4fe1\u4fdd\u7559\u7684. \u5f53\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\u65f6, \u4e0d\u4f1a\u771f\u7684\u8bbf\u95ee\u7269\u7406\u5730\u5740, \u800c\u662f\u548c\u5bf9\u5e94\u7684 IO \u8bbe\u5907\u8fdb\u884c\u4ea4\u4e92. \u8fd9\u4e2a\u6211\u4eec\u5728 NEMU \u4e2d\u5df2\u7ecf\u5b9e\u73b0\u8fc7\u4e86.</p> <p>\u4e3e\u4e2a\u4f8b\u5b50, \u5982\u679c\u78c1\u76d8\u6620\u5c04\u5230\u5730\u5740 0xa0, CPU \u8981\u8bfb\u53d6\u78c1\u76d8\u5185\u5bb9, \u9996\u5148 CPU \u8981\u5c06\u547d\u4ee4/\u903b\u8f91\u5757\u53f7/\u76ee\u7684\u5185\u5b58\u5730\u5740\u5199\u5230\u8fd9\u4e2a\u6620\u5c04\u5730\u5740\u4e2d. \u7531\u4e8e\u78c1\u76d8\u7684\u8bfb\u5199\u975e\u5e38\u6162(16ms, 1GHZ \u7684\u5904\u7406\u5668\u65f6\u949f\u5468\u671f 1ns), CPU \u4e0d\u4f1a\u7b49\u5f85\u78c1\u76d8, \u800c\u662f\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u7684\u6307\u4ee4, \u800c\u78c1\u76d8\u5219\u8bfb\u53d6\u5bf9\u5e94\u6247\u533a\u7684\u6570\u636e, \u5e76\u5c06\u6570\u636e\u4e0d\u901a\u8fc7 CPU \u5c31\u76f4\u63a5\u4f20\u9001\u5230\u4e3b\u5b58\u4e2d. \u8fd9\u79cd\u6280\u672f\u53eb DMA(direct memory access, \u76f4\u63a5\u5185\u5b58\u8bbf\u95ee). DMA \u4f20\u9001\u5b8c\u6210\u540e, \u78c1\u76d8\u518d\u53d1\u9001\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u7ed9 CPU, \u8ba9 CPU \u4ece\u4e3b\u5b58\u4e2d\u8bfb\u53d6.</p>"},{"location":"ICS/memory/#2","title":"2. \u5c40\u90e8\u6027","text":"<p>\u5c40\u90e8\u6027\u662f\u6307\u7a0b\u5e8f\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d, \u5f15\u7528\u7684\u5b58\u50a8\u4f4d\u7f6e\u603b\u662f\u503e\u5411\u4e8e\u90bb\u8fd1\u6700\u8fd1\u5f15\u7528\u8fc7\u7684\u4f4d\u7f6e. \u5c40\u90e8\u6027\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b:</p> <ol> <li>\u65f6\u95f4\u5c40\u90e8\u6027\uff08Temporal Locality\uff09\uff1a\u5982\u679c\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u88ab\u8bbf\u95ee\uff0c\u90a3\u4e48\u5728\u8fd1\u671f\u5b83\u5f88\u53ef\u80fd\u4f1a\u88ab\u518d\u6b21\u8bbf\u95ee\u3002</li> <li>\u7a7a\u95f4\u5c40\u90e8\u6027\uff08Spatial Locality\uff09\uff1a\u5982\u679c\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u88ab\u8bbf\u95ee\uff0c\u90a3\u4e48\u5728\u8fd1\u671f\u5b83\u9644\u8fd1\u7684\u5185\u5b58\u4f4d\u7f6e\u5f88\u53ef\u80fd\u4e5f\u4f1a\u88ab\u8bbf\u95ee\u3002</li> </ol> <p>\u5177\u4f53\u6765\u770b\u4e00\u4e9b\u4f8b\u5b50:</p> <p><pre><code>int sumvec(int v[N])\n{\n    int i, sum=0;\n    for(i=0;i&lt;N;i++)\n        sum+=v[i];\n    return sum;\n}\n</code></pre> <code>sum</code> \u53d8\u91cf\u88ab\u591a\u6b21\u4f7f\u7528, \u6240\u4ee5\u5b83\u6709\u826f\u597d\u7684\u65f6\u95f4\u5c40\u90e8\u6027. \u4f46\u662f\u5b83\u662f\u4e2a\u6807\u91cf, \u6240\u4ee5\u6ca1\u6709\u7a7a\u95f4\u5c40\u90e8\u6027. \u53d8\u91cf <code>v</code> \u662f\u6309\u7167\u5185\u5b58\u4e2d\u7684\u987a\u5e8f\u8bfb\u53d6, \u7a7a\u95f4\u5c40\u90e8\u6027\u826f\u597d, \u4f46\u662f\u6ca1\u6709\u65f6\u95f4\u5c40\u90e8\u6027, \u56e0\u4e3a\u6bcf\u4e2a\u5143\u7d20\u53ea\u88ab\u8bbf\u95ee\u4e00\u6b21. \u603b\u4f53\u800c\u8a00, \u8fd9\u4e2a\u51fd\u6570\u6709\u7740\u826f\u597d\u7684\u5c40\u90e8\u6027.</p> <p>\u4e00\u4e2a\u8fde\u7eed\u53d8\u91cf\u6bcf\u9694 k \u4e2a\u5143\u7d20\u8fdb\u884c\u8bbf\u95ee, \u79f0\u4e3a\u6b65\u957f\u4e3a k \u7684\u5f15\u7528\u6a21\u5f0f. \u4e0a\u9762\u7684\u51fd\u6570\u6b65\u957f\u4e3a 1. \u4e00\u822c\u6765\u8bf4, \u6b65\u957f\u8d8a\u957f, \u7a7a\u95f4\u5c40\u90e8\u6027\u8d8a\u5dee. \u6240\u4ee5\u4e0a\u9762\u7684\u51fd\u6570\u7a7a\u95f4\u5c40\u90e8\u6027\u5f88\u597d.</p> <p>\u4e0b\u9762\u5c31\u53ef\u4ee5\u770b\u51fa\u5dee\u8ddd\u4e86: <pre><code>int sumarrayrows(int a[M][N])\n{\n    int i,j,sum=0;\n    for(i=0;i&lt;M;i++)\n        for(j=0;j&lt;N;j++)\n            sum+=a[i][j];\n    return sum;\n}\n</code></pre></p> <pre><code>int sumarraycols(int a[M][N])\n{\n    int i,j,sum=0;\n    for(j=0;j&lt;N;i++)\n        for(i=0;i&lt;M;j++)\n            sum+=a[i][j];\n    return sum;\n}\n</code></pre> <p>\u5c3d\u7ba1\u770b\u4e0a\u53bb\u662f\u4e00\u6837\u7684, \u4f46\u662f\u5bf9\u4e8e\u591a\u7ef4\u6570\u7ec4, C \u8bed\u8a00\u662f\u6309\u7167\u884c\u987a\u5e8f\u6765\u50a8\u5b58\u5185\u5b58\u7684, \u5bfc\u81f4\u7b2c\u4e00\u4e2a\u51fd\u6570\u7684\u6b65\u957f\u662f 1, \u800c\u7b2c\u4e8c\u4e2a\u51fd\u6570\u7684\u6b65\u957f\u662f N, \u4f7f\u5f97\u6309\u5217\u6c42\u548c\u7684\u5c40\u90e8\u6027\u5f88\u5dee. \u5c40\u90e8\u6027\u8d8a\u5dee, \u4f1a\u5bfc\u81f4\u7f13\u5b58\u7684\u547d\u4e2d\u7387\u8d8a\u4f4e, \u5bfc\u81f4\u7a0b\u5e8f\u7684\u901f\u5ea6\u88ab\u5927\u5927\u51cf\u6162.</p> <p>\u603b\u4f53\u800c\u8a00:</p> <ol> <li>\u91cd\u590d\u5f15\u7528\u76f8\u540c\u53d8\u91cf\u7684\u7a0b\u5e8f\u6709\u7740\u826f\u597d\u7684\u65f6\u95f4\u5c40\u90e8\u6027.</li> <li>\u5bf9\u4e8e\u6709\u7740\u6b65\u957f\u4e3a k \u7684\u5f15\u7528\u6a21\u5f0f\u7684\u7a0b\u5e8f, \u6b65\u957f\u8d8a\u5c0f, \u7a7a\u95f4\u5c40\u90e8\u6027\u8d8a\u597d.</li> <li>\u5bf9\u4e8e\u53d6\u6307\u4ee4\u6765\u8bf4, \u5faa\u73af\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u5c40\u90e8\u6027\u8f83\u597d. \u5faa\u73af\u4f53\u8d8a\u5c0f, \u8fed\u4ee3\u6b21\u6570\u8d8a\u591a, \u5c40\u90e8\u6027\u8d8a\u597d.</li> </ol>"},{"location":"ICS/memory/#3","title":"3. \u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784","text":"<p>\u4ece\u786c\u4ef6\u5c42\u9762\u770b, \u76ee\u524d\u7684\u5b58\u50a8\u6280\u672f, \u901f\u5ea6\u8d8a\u5feb, \u6210\u672c\u8d8a\u9ad8, \u5bb9\u91cf\u8d8a\u5c0f, \u5e76\u4e14 CPU \u548c\u4e3b\u5b58\u4e4b\u95f4\u7684\u901f\u5ea6\u5dee\u8ddd\u8d8a\u6765\u8d8a\u5927. \u4ece\u8f6f\u4ef6\u5c42\u9762\u770b, \u7f16\u5199\u826f\u597d\u7684\u7a0b\u5e8f\u503e\u5411\u4e8e\u6709\u7740\u826f\u597d\u7684\u5c40\u90e8\u6027. \u8fd9\u4e9b\u539f\u56e0, \u5bfc\u81f4\u4e86\u6211\u4eec\u4f7f\u7528\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u6765\u7ec4\u7ec7\u5b58\u50a8\u5668\u7cfb\u7edf. \u5bc4\u5b58\u5668\u53ef\u5728\u4e00\u4e2a CPU \u65f6\u949f\u5468\u671f\u5185\u88ab\u8bbf\u95ee. CPU \u548c DRAM \u4e3b\u5b58\u4e4b\u95f4\u7684\u901f\u5ea6\u5dee\u8ddd\u8d8a\u6765\u8d8a\u5927, \u56e0\u6b64\u4e2d\u95f4\u6709\u51e0\u4e2a\u57fa\u4e8e SRAM \u7684\u7f13\u5b58\u5b58\u50a8\u5668, \u53ea\u9700\u51e0\u4e2a CPU \u65f6\u949f\u5468\u671f\u5c31\u53ef\u4ee5\u8bbf\u95ee. \u4e3b\u5b58\u53ef\u4ee5\u5728\u51e0\u5341\u5230\u51e0\u767e\u4e2a\u65f6\u949f\u5468\u671f\u88ab\u8bbf\u95ee. \u540e\u9762\u5c31\u662f\u5f88\u6162\u901f\u7684\u78c1\u76d8\u751a\u81f3\u670d\u52a1\u5668\u4e86.</p> <p></p>"},{"location":"ICS/memory/#31","title":"3.1 \u7f13\u5b58\u6280\u672f","text":"<p>\u7f13\u5b58, cache, \u662f\u4e00\u4e2a\u5c0f\u800c\u5feb\u901f\u7684\u5b58\u50a8\u8bbe\u5907, \u4f5c\u4e3a\u5b58\u50a8\u5728\u66f4\u5927\u66f4\u6162\u7684\u8bbe\u5907\u7684\u6570\u636e\u5bf9\u8c61\u7684\u7f13\u51b2\u533a\u57df.</p> <p>\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u7684\u57fa\u672c\u601d\u60f3\u5c31\u662f, \u5c42\u6b21\u7ed3\u6784\u7684\u6bcf\u4e00\u5c42\u90fd\u7f13\u5b58\u6765\u81ea\u66f4\u4f4e\u4e00\u5c42\u7684\u6570\u636e\u5bf9\u8c61. \u7b2c k+1 \u5c42\u7684\u5b58\u50a8\u5668\u88ab\u5212\u5206\u6210\u8fde\u7eed\u7684\u6570\u636e\u5bf9\u8c61\u7ec4\u5757, \u6bcf\u4e2a\u5757\u90fd\u6709\u552f\u4e00\u7684\u5730\u5740\u6216\u540d\u5b57. \u7b2c k \u5c42\u7684\u5b58\u50a8\u5668\u4e5f\u88ab\u5212\u5206\u6210\u8f83\u5c11\u7684\u5757\u7684\u96c6\u5408, \u6bcf\u4e2a\u5757\u7684\u5927\u5c0f\u548c\u7b2c k+1 \u5c42\u7684\u5757\u7684\u5927\u5c0f\u4e00\u6837. \u6570\u636e\u4ee5\u5757\u5927\u5c0f\u4e3a\u4f20\u8f93\u5355\u5143, \u5728\u5404\u4e2a\u5c42\u6b21\u5bf9\u4e4b\u95f4\u590d\u5236. \u6ce8\u610f, \u5404\u4e2a\u5c42\u6b21\u5bf9\u4e4b\u95f4\u6709\u4e0d\u540c\u7684\u5757\u5927\u5c0f. \u5c42\u6b21\u7ed3\u6784\u4e2d\u7684\u8f83\u4f4e\u5c42, \u4e3a\u4e86\u5f25\u8865\u8f83\u957f\u7684\u8bbf\u95ee\u65f6\u95f4, \u503e\u5411\u4e8e\u4f7f\u7528\u8f83\u5927\u7684\u5757.</p> <p></p> <p>\u5f53\u7a0b\u5e8f\u9700\u8981\u7b2c k+1 \u5c42\u7684\u6570\u636e\u5bf9\u8c61 d \u65f6, \u9996\u5148\u5728\u5b58\u50a8\u5728\u7b2c k \u5c42\u7684\u4e00\u4e2a\u5757\u4e2d\u67e5\u627e d. \u5982\u679c d \u521a\u597d\u7f13\u5b58\u5728\u7b2c k \u5c42\u4e2d, \u5c31\u8bf4\u662f\u7f13\u5b58\u547d\u4e2d(cache hit), \u8fd9\u4e2a\u7a0b\u5e8f\u5c06\u76f4\u63a5\u4ece\u7b2c k \u5c42\u8bfb\u53d6 d, \u52a0\u5feb\u8bfb\u53d6\u7684\u901f\u5ea6.</p> <p>\u53cd\u4e4b, \u7b2c k \u5c42\u6ca1\u6709\u7f13\u5b58 d, \u5c31\u8bf4\u662f\u7f13\u5b58\u4e0d\u547d\u4e2d(cache miss).  \u7f13\u5b58\u4e0d\u547d\u4e2d\u6709\u51e0\u79cd\u539f\u56e0: \u7a7a\u7f13\u5b58\u5bfc\u81f4\u7684\u51b7\u4e0d\u547d\u4e2d, \u653e\u7f6e\u7b56\u7565\u5bfc\u81f4\u7684\u51b2\u7a81\u4e0d\u547d\u4e2d(\u5982\u4e0d\u540c\u5bf9\u8c61\u603b\u662f\u6620\u5c04\u540c\u4e00\u4e2a\u6570\u636e\u5757), \u5de5\u4f5c\u96c6\u5927\u5c0f\u8d85\u8fc7\u7f13\u5b58(\u5982\u6570\u7ec4\u6570\u91cf\u592a\u5927)\u5bfc\u81f4\u7684\u5bb9\u91cf\u4e0d\u547d\u4e2d.</p> <p>\u53d1\u751f\u7f13\u5b58\u4e0d\u547d\u4e2d\u65f6, \u7b2c k \u5c42\u7684\u7f13\u5b58\u4ece\u7b2c k+1 \u5c42\u7f13\u5b58\u4e2d\u53d6\u51fa\u5305\u542b d \u7684\u5757. \u600e\u4e48\u653e\u7f6e\u8fd9\u4e2a\u5757, \u6709\u4e0d\u540c\u7684\u5904\u7406\u7b56\u7565. \u7b2c k \u5c42\u653e\u7f6e\u597d\u8fd9\u4e2a\u5757\u4ee5\u540e, \u7a0b\u5e8f\u5c31\u80fd\u50cf\u524d\u9762\u4e00\u6837\u4ece\u7b2c k \u5c42\u8bfb\u51fa d \u4e86.</p> <p>\u770b\u5230\u8fd9\u91cc\u5c31\u4f1a\u660e\u767d, \u7a0b\u5e8f\u503e\u5411\u4e8e\u5c40\u90e8\u6027\u7684\u539f\u56e0: \u826f\u597d\u7684\u5c40\u90e8\u6027\u7a0b\u5e8f\u66f4\u5bb9\u6613\u7f13\u5b58\u547d\u4e2d.</p>"},{"location":"ICS/memory/#4","title":"4. \u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668","text":""},{"location":"ICS/memory/#41","title":"4.1 \u7f13\u5b58\u8bfb\u5199","text":"<p>\u4e0b\u9762\u6211\u4eec\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u7f13\u5b58\u7684\u6982\u5ff5. \u65e9\u671f\u7684\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u53ea\u6709\u4e09\u5c42: CPU \u5bc4\u5b58\u5668, DRAM \u4e3b\u5b58\u548c\u78c1\u76d8. \u540e\u6765 CPU \u548c\u4e3b\u5b58\u4e4b\u95f4\u7684\u901f\u5ea6\u5dee\u8ddd\u9010\u6e10\u589e\u5927, \u53c8\u5728 CPU \u5bc4\u5b58\u5668\u548c\u4e3b\u5b58\u95f4\u63d2\u5165\u4e86\u4e00\u7ea7\u5230\u591a\u7ea7\u7684 SRAM \u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668. \u4e0b\u9762\u8003\u8651\u53ea\u6709\u4e00\u7ea7\u7f13\u5b58: L1 \u9ad8\u901f\u7f13\u5b58.</p> <p>\u5047\u8bbe\u6211\u4eec\u8003\u8651\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5730\u5740\u662f m \u4f4d\u7684, \u5b83\u7684\u7f13\u5b58\u88ab\u5206\u4e3a S \u7ec4(cache set). \u6bcf\u4e2a\u7ec4\u5305\u542b E \u4e2a\u9ad8\u901f\u7f13\u5b58\u884c(cache line), \u6bcf\u4e00\u884c\u7531\u4e00\u4e2a B \u5b57\u8282\u7684\u6570\u636e\u5757(block)\u7ec4\u6210. \u6bcf\u884c\u6709\u4e00\u4e2a\u6709\u6548\u4f4d\u6765\u8868\u793a\u5b83\u662f\u5426\u6709\u6548, t \u4e2a\u6807\u8bb0\u4f4d\u6765\u552f\u4e00\u6807\u8bc6\u6b64\u884c\u4e2d\u7684\u5757.</p> <p>\u4e0d\u8003\u8651\u6709\u6548\u4f4d\u548c\u6807\u8bb0\u4f4d, \u9ad8\u901f\u7f13\u5b58\u7684\u5927\u5c0f C=S*E*B.</p> <p>\u4e00\u6761\u52a0\u8f7d\u6307\u4ee4\u6307\u793a CPU \u4ece\u4e3b\u5b58\u5730\u5740 A \u8bfb\u4e00\u4e2a\u5b57\u7684\u65f6\u5019, \u5730\u5740 A \u88ab\u53d1\u9001\u5230\u9ad8\u901f\u7f13\u5b58. \u800c\u9ad8\u901f\u7f13\u5b58\u53ea\u9700\u7b80\u5355\u7684\u68c0\u67e5\u5730\u5740\u4f4d, \u5c31\u53ef\u4ee5\u786e\u5b9a\u662f\u5426\u6709\u7f13\u5b58\u6709\u5730\u5740 A \u7684\u6570\u636e. \u53c2\u6570 S \u548c B \u53ef\u4ee5\u5c06 A \u7684 m \u4e2a\u5730\u5740\u4f4d\u5206\u6210\u4e09\u4e2a\u5b57\u6bb5. s \u4e2a\u7ec4\u7d22\u5f15\u4f4d\u662f\u4e00\u4e2a\u5230 S \u4e2a\u7ec4\u7684\u6570\u7ec4\u7d22\u5f15, \u88ab\u89e3\u91ca\u4e3a\u4e00\u4e2a\u65e0\u7b26\u53f7\u6574\u6570, \u544a\u8bc9\u6211\u4eec\u8fd9\u4e2a\u5b57\u5fc5\u987b\u5b58\u50a8\u5728\u54ea\u4e2a\u7ec4\u4e2d. t \u4e2a\u6807\u8bb0\u4f4d\u544a\u8bc9\u6211\u4eec\u8fd9\u4e2a\u7ec4\u7684\u54ea\u4e00\u884c\u5305\u62ec\u8fd9\u4e2a\u5b57. \u53ea\u6709\u8fd9\u4e00\u884c\u8bbe\u7f6e\u4e86\u6709\u6548\u4f4d\u5e76\u4e14\u6807\u8bb0\u4f4d\u548c\u5730\u5740\u4e2d\u7684\u6807\u8bb0\u4f4d\u76f8\u5339\u914d\u65f6, \u7ec4\u4e2d\u7684\u8fd9\u4e00\u884c\u624d\u5305\u62ec\u8fd9\u4e2a\u5b57. \u6700\u540e b \u4e2a\u5757\u504f\u79fb\u4f4d\u8868\u793a\u5728\u8fd9\u4e2a\u5b57\u5728\u8fd9\u884c\u7684\u6570\u636e\u5757\u4e2d\u7684\u504f\u79fb.</p> <p>\u82e5\u6709 S \u7ec4, \u90a3\u4e48\u53ea\u9700 s=logS \u4f4d\u5c31\u53ef\u4ee5\u8868\u793a\u6240\u6709\u7ec4\u7684\u7d22\u5f15; \u540c\u7406, \u53ea\u9700 b=logB \u4f4d\u5c31\u53ef\u4ee5\u8868\u793a\u6240\u6709\u7684\u5b57\u7684\u504f\u79fb. \u6700\u540e, \u6807\u8bb0\u4f4d\u7684\u4f4d\u6570\u5c31\u662f t=m-(s+b) \u4e86.</p> <p>\u81f3\u4e8e\u9ad8\u901f\u7f13\u5b58\u7684\u4e0d\u540c\u5206\u7c7b, \u53ea\u662f\u5c06\u6570\u636e\u5757\u6309\u4e0d\u540c\u7684\u65b9\u6cd5\u5206\u7ec4\u7f62\u4e86, \u672c\u8d28\u4e0a\u5927\u540c\u5c0f\u5f02, \u5305\u62ec\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58(E=1), \u7ec4\u76f8\u8fde\u9ad8\u901f\u7f13\u5b58(1&lt;E&lt;C/B), \u5168\u76f8\u8054\u9ad8\u901f\u7f13\u5b58(E=C/B, S=1)\u4e09\u79cd\u65b9\u6cd5, \u5bfb\u5740\u7684\u8fc7\u7a0b\u5df2\u5728\u4e0a\u9762\u4ecb\u7ecd\u4e86.</p> <p>\u524d\u9762\u4ecb\u7ecd\u4e86\u8bfb, \u5199\u7684\u60c5\u51b5\u8981\u590d\u6742\u4e00\u4e9b, \u6709\u76f4\u5199\u6cd5\u548c\u5199\u56de\u6cd5\u4e24\u79cd\u65b9\u5f0f. \u4e0d\u591a\u8bf4.</p>"},{"location":"ICS/memory/#42","title":"4.2 \u4e00\u4e9b\u6307\u6807","text":"<ul> <li>\u4e0d\u547d\u4e2d\u7387/\u547d\u4e2d\u7387: \u5185\u5b58\u5f15\u7528\u672a\u547d\u4e2d/\u547d\u4e2d\u7684\u6bd4\u7387</li> <li>\u547d\u4e2d\u65f6\u95f4: \u4ece\u9ad8\u901f\u7f13\u5b58\u4f20\u8f93\u4e00\u4e2a\u5b57\u5230 CPU \u6240\u9700\u7684\u65f6\u95f4</li> <li>\u4e0d\u547d\u4e2d\u89e6\u53d1: \u7531\u4e8e\u4e0d\u547d\u4e2d\u6240\u9700\u7684\u989d\u5916\u7684\u65f6\u95f4.</li> </ul>"},{"location":"ICS/number/","title":"\u6570\u5b57\u4e0e\u7b97\u6570","text":"<p>\u539f\u672c\u8fd9\u4e00\u7ae0\u53ea\u662f\u6574\u7406\u79fb\u4f4d\u4ec0\u4e48\u7684\u3002\u505a PA \u505a\u7740\u53d1\u73b0\u6211\u5bf9\u6570\u5b57\u7684\u8ba4\u8bc6\u4ecd\u7136\u975e\u5e38\u6d45\u8584\uff0c\u4e8e\u662f\u5c31\u6574\u7406\u8fd9\u4e2a\u3002PA2 \u7684\u5b9e\u9a8c\u8bb0\u5f55\u5c3d\u5feb\u6574\u7406\uff0c\uff08\u867d\u7136\uff09\u624d\u5b8c\u6210\u4e00\u4e22\u4e22\u3002</p>"},{"location":"ICS/number/#_2","title":"\u5b57\u8282\u548c\u5b57","text":"<p>\u4e00\u822c\u7684\u8ba1\u7b97\u673a\u90fd\u4ee5\u5b57\u8282\u4e3a\u57fa\u672c\u5355\u4f4d\uff0c1 \u5b57\u8282 = 8 \u4f4d\u3002 PA \u7684\u5b58\u50a8\u6a21\u62df\u5c31\u662f\u4e00\u4e2a char \u578b\u6570\u7ec4\u3002</p> <p>\u5b57\u662f\u6307\u9488\u957f\u5ea6\u3002\u6bd4\u5982 32 \u4f4d\u5c31\u662f \u201c\u5b57\u201d\u3002PA \u7684\u6a21\u62df\u5668\u5c31\u662f 32 \u4f4d\u3002</p>"},{"location":"ICS/number/#_3","title":"\u5b57\u8282\u5e8f","text":"<p>\u5c0f\u7aef\u6cd5\u548c\u5927\u7aef\u6cd5\u3002</p> <p>\u5c0f\u7aef\u6cd5\u6709\u5229\u4e8e\u52a0\u6cd5\uff0c\u4e58\u6cd5\uff0c\u6bd4\u5927\u5c0f\u3002</p> <p>https://www.ruanyifeng.com/blog/2022/06/endianness-analysis.html#comment-433763</p>"},{"location":"ICS/number/#_4","title":"\u6574\u6570\u8868\u793a","text":""},{"location":"ICS/number/#1","title":"1. \u65e0\u7b26\u53f7\u6570","text":"<p>\u5047\u8bbe\u4e00\u4e2a\u6574\u6570\u6570\u636e\u7c7b\u578b\u6709 w \u4f4d\u3002\u65e0\u7b26\u53f7\u6570\u7684\u6bcf\u4e00\u4f4d\u90fd\u7528\u4e8e\u6784\u6210\u8fd9\u4e2a\u6570\u5b57\u3002\u4e8e\u662f\u5f88\u663e\u7136\uff0cw \u4f4d\u53ef\u4ee5\u8868\u793a\u7684\u6574\u6570\u4e3a \\([0, 2^{w}-1]\\)\u3002</p>"},{"location":"ICS/number/#2","title":"2. \u6709\u7b26\u53f7\u6570","text":"<p>\u4e3a\u4e86\u907f\u514d\u6df7\u6dc6\uff0c\u6211\u4eec\u8fd9\u91cc\u53ea\u8bf4\u8865\u7801\u8868\u793a\u6570\u3002\u5b9e\u9645\u4e0a\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8ba1\u7b97\u673a\u4e2d\u5b58\u50a8\u7684\u6709\u7b26\u53f7\u6570\u90fd\u662f\u4ee5\u8865\u7801\u7684\u5f62\u5f0f\u6765\u5b58\u50a8\u7684\u3002\uff08\u987a\u5e26\uff0c\u8865\u7801\u8fd9\u4e2a\u540d\u5b57\u53d6\u5f97\u5f88\u70c2\uff0c\u5b8c\u5168\u770b\u4e0d\u51fa\u5b83\u7528\u7684\u666e\u904d\u6027\uff09</p> <p>\u5047\u8bbe\u4e00\u4e2a\u6574\u6570\u6570\u636e\u7c7b\u578b\u6709 w \u4f4d\u3002\u6709\u7b26\u53f7\u6570\u7684\u6700\u9ad8\u4f4d\u53ef\u4ee5\u770b\u6210\u7b26\u53f7\u4f4d\uff0c\u4e4b\u540e\u7684 w - 1 \u4f4d\u53c2\u4e0e\u6784\u6210\u8fd9\u4e2a\u6570\u5b57\u3002\u4e8e\u662f\uff0c\u5728\u975e\u8d1f\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u9ad8\u4f4d\u662f 0\uff0c\u8868\u793a\u7684\u6574\u6570\u53ef\u4ee5\u5728 \\([0, 2^{w-1}-1]\\) \u4e4b\u95f4\u3002\u4e8c\u8fdb\u5236\u6765\u770b\u662f \\([(00..00)_2, (01..11)_2]\\)\u3002</p> <p>\u5728\u8d1f\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u9ad8\u4f4d\u662f 1\uff0c\u8868\u793a \\(-2^{w-1}\\)\u3002\u4e8e\u662f\u8d1f\u6570\u7684\u8303\u56f4\u662f \\([-2^{w-1}, -1]\\)\u3002\u4e8c\u8fdb\u5236\u6765\u770b\u662f \\([(10..00)_2, (11..11)_2]\\)\u3002</p> <p>\u7efc\u4e0a\uff0cw \u4f4d\u6709\u7b26\u53f7\u6570\u8868\u793a\u7684\u8303\u56f4\u662f \\([-2^{w-1}, 2^{w-1}-1]\\)\u3002</p> <p>\u600e\u4e48\u77e5\u9053\u4e00\u4e2a\u6570\u7684\u76f8\u53cd\u6570\u5bf9\u5e94\u7684\u8865\u7801\u8868\u793a\u5462\uff1f\u592a\u7b80\u5355\u4e86\uff0c\u53d6\u53cd\u52a0\u4e00\u5373\u53ef\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff1a111010\uff0c\u53d6\u53cd\u52a0\u4e00\u5f97\u5230 000110\uff0c\u5f88\u5feb\u5c31\u77e5\u9053\u539f\u6765\u662f -6\uff0c\u5f97\u5230\u7684\u76f8\u53cd\u6570\u662f 6\u3002</p>"},{"location":"ICS/number/#3","title":"3. \u6709\u7b26\u53f7\u6570\u4e0e\u65e0\u7b26\u53f7\u6570\u7684\u8f6c\u6362","text":"<p>\u78b0\u5230\u8fd9\u79cd\u95ee\u9898\u65f6\uff0c\u4e0d\u8981\u60f3\u592a\u591a\uff0c\u4ece\u4f4d\u7684\u89d2\u5ea6\u53bb\u8003\u8651\u3002</p> <p>\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u5199\u51fa\u4e8c\u8fdb\u5236\u8868\u793a\uff0c\u518d\u8f6c\u5316\u6210\u53e6\u4e00\u79cd\u7c7b\u578b\uff0c\u4e0d\u5c55\u5f00\u8bf4\u4e86\u3002</p> <p>\u6570\u636e\u5728\u8ba1\u7b97\u673a\u4e2d\u5b58\u50a8\u65f6\uff0c\u4e0d\u7ba1\u662f\u4ee5\u6709\u7b26\u53f7\u6570\u8fd8\u662f\u65e0\u7b26\u53f7\u6570\u7684\u5f62\u5f0f\u8bfb\u53d6\uff0c\u90fd\u4e0d\u4f1a\u6539\u53d8\u6570\u636e\u672c\u8eab\u3002</p> <p>\u4f46\u662f\uff0c\u53c2\u4e0e\u4e86\u8ba1\u7b97\u4ee5\u540e\uff0c\u6570\u636e\u7684\u7c7b\u578b\u4f1a\u6539\u53d8\u8fd0\u7b97\u7684\u7ed3\u679c\u3002\u8fd9\u91cc\u6211\u4eec\u7b49\u4f1a\u518d\u8bf4\u3002</p> C \u8bed\u8a00\u4e2d\u7684\u6570 <p>\u5148\u8bf4\u7acb\u5373\u6570\u5427\u3002C \u8bed\u8a00\u7684\u7acb\u5373\u6570\u90fd\u662f\u9ed8\u8ba4\u6709\u7b26\u53f7\u7684\uff0c\u6bd4\u5982 <code>1234</code>\uff0c\u58f0\u660e\u4e00\u4e2a\u65e0\u7b26\u53f7\u6574\u6570\u8bf7\u5e26\u4e0a\u540e\u7f00 \"u\"\uff0c \u6bd4\u5982 <code>1234u</code>\u3002</p> <p>\u53d8\u91cf\u7684\u60c5\u51b5\uff1aC \u8bed\u8a00\u4e2d\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u76f8\u4e92\u8f6c\u5316\u65f6\uff0c\u4fdd\u6301\u5e95\u5c42\u7684\u4f4d\u4e0d\u53d8\u3002\u4e8e\u662f\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>int32_t x = -1;\nprintf(\"x = %u = %d\\n\", x, x);\n</code></pre> <p>\u8f93\u51fa <code>x = 4294967295 = -1</code></p> <p>\u8fd0\u7b97\u7684\u60c5\u51b5\u4e0b\uff0c\u82e5\u4e8c\u5143\u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u8fd0\u7b97\u6570\u6709\u7b26\u53f7\uff0c\u8fd8\u6709\u4e00\u4e2a\u8fd0\u7b97\u6570\u65e0\u7b26\u53f7\uff0cC \u8bed\u8a00\u4f1a\u5c06\u6240\u6709\u6570\u5b57\u8f6c\u5316\u4e3a\u65e0\u7b26\u53f7\u6570\u3002</p> <p>\u7ec3\u4e60\u9898\uff1a</p> <p>\u6700\u7ecf\u5178\u7684\u5c31\u662f <code>-1&gt;0u</code> \u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7ed3\u679c\u4e3a\u771f\uff0c\u4f60\u77e5\u9053\u4e3a\u4ec0\u4e48\u5417\u3002</p> <p><code>2147483647&gt;(int)2147483648u</code>\uff0c\u4e3a\u4ec0\u4e48\u4e3a\u771f\uff1f</p>"},{"location":"ICS/number/#_5","title":"\u6570\u5b57\u6269\u5c55\u548c\u622a\u65ad","text":"<p>\u6269\u5c55\u5b9e\u5728\u662f\u592a\u7b80\u5355\u4e86\uff0c\u5bf9\u65e0\u7b26\u53f7\u6570\uff0c\u5de6\u8fb9\u52a0 0 \u5373\u53ef\u3002\u6709\u7b26\u53f7\u6570\u5219\u662f\u5de6\u8fb9\u6dfb\u7b26\u53f7\u4f4d\u3002</p> <p>\u622a\u65ad\uff1a\u518d\u8bf4\u3002</p>"},{"location":"ICS/number/#_6","title":"\u4f4d\u8fd0\u7b97","text":"<p>\u5176\u5b9e C \u8bed\u8a00\u4e2d\u7684\u4f4d\u8fd0\u7b97\u8fd8\u633a\u9ebb\u70e6\u7684, \u56e0\u4e3a\u6ca1\u529e\u6cd5\u76f4\u63a5\u7f6e\u4f4d\u6e05\u96f6.</p>"},{"location":"ICS/number/#_7","title":"\u79fb\u4f4d\u8fd0\u7b97","text":"<p>\u5de6\u79fb\u53f3\u79fb\u3002\u6ce8\u610f\u7b97\u6570\u53f3\u79fb\u548c\u6709\u7b26\u53f7\u6269\u5c55\u5bf9\u5e94\uff0c\u903b\u8f91\u53f3\u79fb\u548c\u65e0\u7b26\u53f7\u6269\u5c55\u5bf9\u5e94\u3002</p> <p>\u4e0b\u9762\u8bb2\u4e00\u4e9b\u5e94\u7528.</p> <p>\u5c06 value \u7684\u7b2c position \u4f4d\u7f6e\u6210 bitValue \u7684\u503c. \u65b9\u6cd5\u662f\u5148\u6e05\u96f6, \u518d\u8fdb\u884c\u6216\u8fd0\u7b97. <pre><code>value = (value &amp; ~(1 &lt;&lt; position)) | (bitValue &lt;&lt; position);\n</code></pre></p>"},{"location":"ICS/number/#_8","title":"\u6574\u6570\u8fd0\u7b97","text":""},{"location":"ICS/number/#_9","title":"\u65e0\u7b26\u53f7\u52a0\u6cd5","text":"<p>CSAPP \u8bb2\u7684\u6709\u4e9b\u62bd\u8c61\u3002\u4e24\u4e2a\u65e0\u7b26\u53f7\u6570\u8fdb\u884c\u52a0\u6cd5\u6216\u8005\u51cf\u6cd5\uff0c\u76f4\u63a5\u8fdb\u884c\u52a0\u6cd5\u6216\u8005\u51cf\u6cd5\uff0c\u7136\u540e\u5728\u628a\u7ed3\u679c\u8f6c\u5316\u6210\u5bf9\u5e94\u7684\u65e0\u7b26\u53f7\u6570\u5373\u53ef\u3002</p> <p>\u6bd4\u5982\u5bf9 32 \u4f4d 1-2=-1=4294967295</p> <p>\u5927\u6570\u76f8\u52a0\u53ef\u80fd\u4f1a\u6ea2\u51fa\uff0c\u6ea2\u51fa\u53bb\u6389\u591a\u51fa\u6765\u7684 1 \u5373\u53ef\uff0c\u6bd4\u5982\u5bf9 4 \u4f4d\uff0c9+12=21=5.</p>"},{"location":"ICS/number/#_10","title":"\u6709\u7b26\u53f7\u52a0\u6cd5","text":"<p>\u5bf9\u4e8e\u6709\u7b26\u53f7\u6570\uff0c\u53ea\u8003\u8651\u52a0\u6cd5\u5c31\u53ef\u4ee5\u4e86\uff0c\u56e0\u4e3a\u51cf\u53bb\u4e00\u4e2a\u6570\u76f8\u5f53\u4e8e\u52a0\u4e0a\u4e00\u4e2a\u8d1f\u6570\u3002\u4e24\u4e2a\u6570\u7684\u8865\u7801\u76f8\u52a0\uff0c\u5c31\u548c\u65e0\u7b26\u53f7\u6570\u52a0\u6cd5\u4e00\u6a21\u4e00\u6837\uff0c\u52a0\u8d77\u6765\uff0c\u820d\u53bb\u8fdb\u4f4d\u5373\u53ef\u3002</p> <p>\u6b63\u6570\u52a0\u8d1f\u6570\u4e0d\u4f1a\u6ea2\u51fa\uff0c\u6ea2\u51fa\u7684\u60c5\u51b5\u53ef\u80fd\u662f\u6b63\u6570\u52a0\u6b63\u6570\u6216\u8d1f\u6570\u52a0\u8d1f\u6570\u3002</p>"},{"location":"ICS/number/#_11","title":"\u6d6e\u70b9\u6570","text":"<p>\u6d6e\u70b9\u6570\u73b0\u5728\u5df2\u7ecf\u6709\u4e86\u7edf\u4e00\u7684\u8868\u793a\u65b9\u5f0f\uff0c\u5373 IEEE-754\u3002\u6211\u4eec\u4ee5 64 \u4f4d\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u4e3a\u4f8b\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>\u4efb\u4f55\u7684\u6d6e\u70b9\u6570 \\(x\\) \u90fd\u53ef\u4ee5\u6309\u7167\u4e0b\u9762\u7684\u5f0f\u5b50\u8868\u793a\uff1a</p> \\[ x = (-1)^s\\cdot(1+f)\\cdot2^e \\] <p>\u5176\u4e2d \\(s\\) \u662f\u7b26\u53f7\u4f4d\uff0c\u51b3\u5b9a\u6d6e\u70b9\u6570\u7684\u6b63\u8d1f\u3002\\(f\\) \u662f\u5c0f\u6570\uff0c\u6ee1\u8db3 \\(0\\leq f &lt;1\\)\uff0c\u51b3\u5b9a\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6\u3002\\(e\\) \u662f\u6307\u6570\uff0c\u6ee1\u8db3 \\(-1022\\leq e\\leq 1023\\)\uff0c\u51b3\u5b9a\u6d6e\u70b9\u6570\u7684\u8303\u56f4\u3002\u770b\u8fd9\u4e2a\u5f0f\u5b50\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u4e8c\u8fdb\u5236\u4e0b\u7684\u79d1\u5b66\u8bb0\u6570\u6cd5\u3002</p> <p>\\(x\\) \u88ab\u5b58\u50a8\u5728\u4e00\u4e2a 64 \u4f4d\u7684\u5b57\u4e2d\uff0c1 \u4f4d\u7b26\u53f7\u4f4d \\(s\\)\uff0c11 \u4f4d\u5b58 \\(e\\)\uff0c52 \u4f4d\u5b58 \\(s\\)\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <pre><code>+----------------+----------------+----------------------------------------------------+\n| \u7b26\u53f7\u4f4d (1 bit) | \u6307\u6570 (11 bits) | \u5c3e\u6570 (52 bits)                                     |\n+----------------+----------------+----------------------------------------------------+\n</code></pre> <p>\\(f\\) \u9996\u4f4d\u7684 1 \u4e0d\u9700\u8981\u5b58\u50a8\u3002\u6307\u6570 \\(e\\) \u5b58\u50a8\u7684\u662f \\(e+1023\\) \u504f\u79fb\u503c\uff0c\u4fdd\u8bc1\u6307\u6570\u662f\u6b63\u6570\u3002</p> <p>\u4e0b\u9762\uff0c\u4e3e\u4e24\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u770b\u5982\u4f55\u5c06\u6570\u5b57\u8f6c\u6362\u6210\u6d6e\u70b9\u8868\u793a\u3002</p> <p>\\(-12.25\\)\uff1a\u662f\u8d1f\u6570\uff0c\u6240\u4ee5 \\(s=1\\)\u3002\u518d\u5c06 \\(12.25\\) \u8f6c\u5316\u6210\u4e8c\u8fdb\u5236\u8868\u793a\uff0c\\(12.25 = 1100.01\\)\u3002\uff08\u8bfb\u8005\u81ea\u884c\u601d\u8003\u5982\u4f55\u8f6c\u6362\u5c0f\u6570\uff09\u3002\u7136\u540e\u5c06\u79fb\u52a8\u5c0f\u6570\u70b9\uff0c\u5c06\u6574\u6570\u90e8\u5206\u53d8\u4e3a \\(1\\)\u2014\u2014\u8fd9\u5c31\u662f\u6d6e\u70b9\u6570\u540d\u79f0\u7684\u7531\u6765\uff0c\u7ed3\u679c\u662f \\(1.10001*2^3\\)\u3002\u5230\u8fd9\u91cc\uff0c\u6307\u6570\uff0c\u5c0f\u6570\uff0c\u548c\u8d1f\u53f7\u5c31\u90fd\u77e5\u9053\u4e86\u3002\u8981\u5b58\u50a8\u7684\u5c31\u662f \\(s=1\\)\uff0c\\(e=3+1023=1026\\)\uff0c\u5c0f\u6570\u90e8\u5206 \\(f=10001\\)\uff0c\u90a3\u4e48\\(-12.25\\) \u8fd9\u4e2a\u6570\u7684\u6d6e\u70b9\u8868\u8ff0\u5c31\u662f\uff1a</p> <pre><code>+----------------+----------------+----------------------------------------------------+\n| \u7b26\u53f7\u4f4d (1 bit) | \u6307\u6570 (11 bits) | \u5c3e\u6570 (52 bits)                                     |\n+----------------+----------------+----------------------------------------------------+\n| 1              |  10000000010   | 1000100000000000000000000000000000000000000000000000 |\n+----------------+----------------+----------------------------------------------------+\n</code></pre> <p>\\(0.1\\)\uff1a\\(0.1\\)\u662f\u6b63\u6570\uff0c\u4f46\u662f\u5b83\u5728\u4e8c\u8fdb\u5236\u4e2d\u662f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\u5c0f\u6570\uff0c\\(0.1=0.000110011001100\\cdots\\)\u3002\u540c\u6837\uff0c\u6211\u4eec\u7528\u4e8c\u8fdb\u5236\u79d1\u5b66\u8bb0\u6570\u6cd5\u8868\u793a\uff1a\\(1.10011001\\cdots * 2^{-4}\\)\uff0c\u8981\u5b58\u50a8\u7684\u5c31\u662f \\(s=0\\)\uff0c\\(e=-4+1023=1019\\)\uff0c\u5c0f\u6570\u90e8\u5206 \\(f=10011001\\cdots\\)\uff0c\u76f4\u5230\u88ab\u622a\u65ad\uff08\u820d\u5165\uff09\u3002\u90a3\u4e48\u5c31\u662f\uff1a <pre><code>+----------------+----------------+----------------------------------------------------+\n| \u7b26\u53f7\u4f4d (1 bit) | \u6307\u6570 (11 bits) | \u5c3e\u6570 (52 bits)                                     |\n+----------------+----------------+----------------------------------------------------+\n| 0              | 01111111011    | 1001100110011001100110011001100110011001100110011010 |\n+----------------+----------------+----------------------------------------------------+\n</code></pre></p> <p>\u6709\u4e2a\u91cd\u8981\u7684\u503c\uff0c\\(\\mathrm{eps}\\)\uff0c\u5176\u5b9a\u4e49\u4e86\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f f \u6240\u80fd\u8fbe\u5230\u7684\u6700\u5c0f\u503c\uff1a</p> \\[ \\mathrm{eps = 2^{-52} = 2.220446*10^{-16}} \\] <p>\u5f53\u7136\uff0c\u6d6e\u70b9\u6570\u80fd\u8fbe\u5230\u7684\u6700\u5c0f\u7edd\u5bf9\u503c\u662f\\(2^{-1022}\\)\u3002\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u533a\u95f4 \\([2^e, 2^{e+1}]\\) \u4e2d\u7684\u7cbe\u5ea6\u662f\u76f8\u540c\u7684\uff0c\u5747\u4e3a \\(2^e\\cdot \\mathrm{eps}\\)\u3002\u601d\u8003\u4e00\u4e0b\u5c31\u53ef\u4ee5\u77e5\u9053\uff0c\u7edd\u5bf9\u503c\u8d8a\u5c0f\uff0c\u7cbe\u5ea6\u8d8a\u9ad8\u3002</p> <p>\u6d6e\u70b9\u6570\u7684\u56db\u5219\u8fd0\u7b97\uff0c\u5bf9\u52a0\u6cd5\u548c\u51cf\u6cd5\u6765\u8bf4\uff0c\u8981\u5c06\u4e24\u6570\u7684\u6307\u6570\u5316\u6210\u4e00\u81f4\uff0c\u518d\u5bf9\u5c0f\u6570\u8fdb\u884c\u52a0\u51cf\u6cd5\u8fd0\u7b97\uff0c\u6700\u540e\u5c06\u8ba1\u7b97\u7ed3\u679c\u5316\u6210\u6807\u51c6\u5f62\u5f0f\u3002\u4e58\u9664\u5219\u52a0\u51cf\u6307\u6570\uff0c\u5bf9\u5c0f\u6570\u90e8\u5206\u8fdb\u884c\u4e58\u9664\u6cd5\u8fd0\u7b97\u3002</p>"},{"location":"ICS/riscv/","title":"RISC-V","text":"<p>\u8fd9\u7bc7\u7528\u6765\u4ecb\u7ecd risc-v \u7684\u5b66\u4e60\u8bb0\u5f55\u3002</p>"},{"location":"ICS/riscv/#0","title":"0. \u4ecb\u7ecd","text":"<p>\u4ec0\u4e48\u662f risc-v\uff1f\u6211\u89c9\u5f97\u5f88\u53ef\u60b2\u7684\u4e00\u70b9\u662f\uff0c\u6211\u53bb\u5e74\u5b66\u4e86\u5c0f\u767d\u8001\u5e08\u4e0a\u7684\u6c47\u7f16\u8bed\u8a00\uff0c\u5728\u672c\u4e13\u4e1a\u53c8\u5b66\u4e86\u5d4c\u5165\u5f0f\u7cfb\u7edf\u8fd9\u95e8\u8bfe\uff0c\u5728\u8fd9\u4e2a\u6708\u4e4b\u524d\uff0c\u6211\u8fde\u4ec0\u4e48\u662f ISA \u90fd\u6ca1\u6709\u641e\u6e05\u695a\u3002\u6240\u4ee5\uff0c\u4e00\u95e8\u4ecb\u7ecd\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u8bfe\u662f\u5f88\u503c\u5f97\u4e0a\u7684\u5427\u3002</p> <p>\u6211\u4eec\u5199\u51fa\u6765\u7684\u9ad8\u7ea7\u8bed\u8a00\uff0c\u88ab\u7f16\u8bd1\u5668\u7ffb\u8bd1\u6210\u6c47\u7f16\u8bed\u8a00\uff0c\u6c47\u7f16\u8bed\u8a00\u5219\u548c\u673a\u5668\u4ee3\u7801\u4e00\u4e00\u5bf9\u5e94\uff0c\u673a\u5668\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6267\u884c\u3002 \u7a0b\u5e8f\u5c31\u662f\u8fd9\u4e48\u8dd1\u8d77\u6765\u7684\u3002 \u800c\u5b9e\u9645\u4e0a\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684\u673a\u5668\uff08\u5904\u7406\u5668\uff09\uff0c\u5b83\u80fd\u652f\u6301\u7684\u6c47\u7f16\u8bed\u8a00\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\u3002 \u6211\u4eec\u628a\u4e00\u5957\u6c47\u7f16\u6784\u6210\u7684\u6307\u4ee4\u96c6\u4f53\u7cfb\u7ed3\u6784\u79f0\u4e3a ISA (Instruction-set Architecture)\u3002 \u4e00\u79cd\u5904\u7406\u5668\u53ea\u80fd\u652f\u6301\u5b83\u652f\u6301\u7684 ISA\uff0c \u6bd5\u7adf\u505a\u540c\u6837\u7684\u4e8b\u60c5\u7684\u6c47\u7f16\u6307\u4ee4\uff0c\u4e0d\u540c\u7684 ISA \u5bf9\u5e94\u7684\u673a\u5668\u7801\u662f\u4e0d\u540c\u7684\u3002 \u73b0\u5728\u5e02\u9762\u4e0a\u5df2\u7ecf\u6709\u4e86\u5f88\u591a\u4e0d\u540c\u7684\u5904\u7406\u5668\uff0c\u5b83\u4eec\u6240\u4f7f\u7528\u7684 ISA \u90fd\u662f\u4e0d\u4e00\u6837\u7684\u3002 \u6bd4\u5982\uff0c\u6211\u4eec\u7684\u8ba1\u7b97\u673a\u901a\u5e38\u4f7f\u7528 Intel \u5904\u7406\u5668\uff0c\u5b83\u4f7f\u7528\u7684 ISA \u5c31\u662f x86 \u4e86\u3002 \u6211\u4eec\u7684\u624b\u673a\u7b49\u5f88\u591a\u7ec8\u7aef\u8bbe\u5907\u4f7f\u7528 Arm \u5904\u7406\u5668\uff0c\u7528\u7684 ISA \u5c31\u662f Arm \u548c Thumb\u3002 \u9664\u6b64\u4e4b\u5916\uff0c\u975e\u5e38\u5e38\u7528\u7684 ISA \u8fd8\u6709 misp \u548c risc-v\u3002 \u8fd9\u7bc7\u535a\u5ba2\u4e3b\u8981\u5c31\u662f\u4ecb\u7ecd risc-v \u7684\u3002</p> Some notes of x86 <p>\u5f00\u59cb riscv \u4e4b\u524d\uff0c\u7b80\u5355\u8bb2\u51e0\u53e5 x86\u3002</p> <p>\u5728\u5c0f\u767d\u7684\u8bfe\u4e0a\u5b66\u4e60\u7684 8086 \u6c47\u7f16\uff0c\u6b63\u662f x86 \u7684\u4e00\u79cd\uff0c\u53ea\u4e0d\u8fc7\u662f 16 \u4f4d\u7684\u6c47\u7f16\uff0c\u975e\u5e38\u53e4\u8001\u4e86\u3002\u503c\u4e0d\u503c\u5f97\u7528\u5b83\u6765\u5b66\u4e60 x86\uff0c\u89c1\u4ec1\u89c1\u667a\u3002\u4f46\u4e0d\u7ba1 16 \u4f4d\uff0c32 \u4f4d\u8fd8\u662f 64 \u4f4d\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u6837\u7684\uff0c\u5728 windows \u4e0b\u53cd\u6c47\u7f16 \uff08\u53ef\u4ee5\u7528 IDA\u3001vs \u7b49\uff09\uff0c\u6c47\u7f16\u90fd\u662f x86 \u7684\u3002\u6240\u4ee5\u5b66\u4e60\u4e86 16 \u4f4d\u4ee5\u540e\u5411\u5916\u6269\u5c55\u8fd8\u662f\u5f88\u5bb9\u6613\u7684\u3002</p> <p>\u7136\u540e\u6211\u8bb0\u5f97\u5728 csapp \u4e2d\uff0c\u8981\u5728 Linux \u7cfb\u7edf\u4e0b\uff0c\u8c03\u8bd5\u8457\u540d\u7684 bomb lab\uff0c\u7528 objdump \u8fdb\u884c\u53cd\u6c47\u7f16\uff0c\u5f97\u5230\u7684\u6c47\u7f16\u6211\u8fd8\u4ee5\u4e3a\u53c8\u662f\u4e00\u79cd\u65b0\u7684\u6c47\u7f16\u8bed\u8a00\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u5f97\u5230\u7684\u6c47\u7f16\u4ecd\u7136\u662f\u5c5e\u4e8e x86 ISA \u7684\u3002</p> <p>\u4e24\u8005\u5b9e\u9645\u4e0a\u53ea\u662f\u8bed\u6cd5\u98ce\u683c\u7684\u4e0d\u540c\u3002windows \u4e0b\u66f4\u5e38\u7528\u7684 x86 \u98ce\u683c\u79f0\u4f5c Intel \u98ce\u683c\uff1b\u800c Linux \u4e0b\u66f4\u5e38\u7528\u7684\u98ce\u683c\u79f0\u4f5c AT&amp;T \u98ce\u683c\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\u540c\u6837\u7684\u8bed\u53e5\uff0c\u5c06\u5bc4\u5b58\u5668 rdx \u4e2d\u7684\u503c\u590d\u5236\u5230\u5bc4\u5b58\u5668 rbx \u4e2d\uff0c\u5728 Intel \u98ce\u683c\u4e0b\u5199\u4f5c\uff1a <pre><code>mov rbx, rdx\n</code></pre> \u76ee\u6807\u64cd\u4f5c\u6570\u5728\u524d\uff0c\u6e90\u64cd\u4f5c\u6570\u5728\u540e\u3002</p> <p>\u800c\u5728 AT&amp;T \u98ce\u683c\u4e0b\u5199\u4f5c\uff1a <pre><code>movq %rdx, %rbx\n</code></pre> \u6e90\u64cd\u4f5c\u6570\uff08source\uff09\u5728\u524d\uff0c\u76ee\u6807\u64cd\u4f5c\u6570\uff08destination\uff09\u5728\u540e\u3002</p> <p>x86 \u662f\u5178\u578b\u7684 CISC ISA\uff0c\u5c31\u662f\u8bf4\u5b83\u7684\u6307\u4ee4\u6570\u91cf\u975e\u5e38\u591a\uff0c\u5f88\u7e41\u6742\u3002\u4e0e\u6b64\u76f8\u5bf9\u5e94\u7684\u5c31\u662f RISC\uff0c\u7cbe\u7b80\u5316\u6307\u4ee4\u96c6\uff0c\u6307\u4ee4\u6570\u91cf\u66f4\u5c11\u3002 ARM \u548c risc-v \u90fd\u5c5e\u4e8e RISC \u6307\u4ee4\u96c6\u3002</p> <p>\u4e0b\u9762\u5c31\u4ecb\u7ecd riscv \u4e86\u3002\u5f00\u59cb\u4e4b\u524d\uff0c\u5148\u653e\u4e00\u4e9b\u53ef\u80fd\u9700\u8981\u7684\u94fe\u63a5\u548c\u8d44\u6599\u5427\uff1a</p> <p>\u4f18\u79c0\u7b14\u8bb0\uff1ahttps://note.tonycrane.cc/cs/pl/riscv/</p> <p>\u5b98\u7f51\uff1ahttps://riscv.org/</p> <p>\u5b98\u65b9\u8d44\u6599\uff1ahttps://riscv.org/technical/specifications/</p> <p>\u6559\u6750\uff1a\u300a\u8ba1\u7b97\u673a\u7ec4\u6210\u4e0e\u8bbe\u8ba1\uff1a\u786c\u4ef6\u8f6f\u4ef6\u63a5\u53e3\uff08\u539f\u4e66\u7b2c5\u7248\u00b7RISC-V\u7248\uff09\u300b</p> <p>\u5b9e\u9645\u4e0a\u6211\u5f88\u60f3\u8f6c\u8f7d\u522b\u4eba\u7684\u6587\u7ae0\uff0c\u56e0\u4e3a\u94fe\u63a5\u53ef\u80fd\u4f1a\u5931\u6548\u3002\u4f46\u662f\u53ef\u80fd\u4f1a\u6709\u4e9b\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\uff0c\u90a3\u5c31\u7b97\u4e86\u5427\u3002</p>"},{"location":"ICS/riscv/#1","title":"1. \u4f8b\u5b50","text":"<p>\u76f4\u63a5\u8bb2\u6307\u4ee4\u6709\u70b9\u62bd\u8c61\uff0c\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5b9e\u4f8b\u5427\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6bb5\u6253\u5370\u4e86 hello world\u3002 <pre><code>    .text\n    .align 2\n    .globl main\nmain:\n    addi sp, sp, -16\n    sw ra, 12(sp)\n    lui a0, %hi(string1)\n    addi a0, a0, %lo(string1)\n    lui a1, %hi(string2)\n    addi a1, a1, %lo(string2)\n    call printf\n    lw ra, 12(sp)\n    addi sp, sp, 16\n    li a0, 0\n    ret\n\n    .section .rodata\n    .balign 4\nstring1:\n    .string \"Hello, %s!\\n\"\nstring2:\n    .string \"world\"\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u7a0b\u5e8f\u7684\u7ed3\u6784\u548c x86 \u8fd8\u662f\u6709\u5f88\u591a\u76f8\u4f3c\u4e4b\u5904\u7684\u3002</p>"},{"location":"ICS/riscv/#2-rv32i","title":"2. RV32I \u6307\u4ee4\u96c6","text":"<p>RV32I \u662f RISCV \u7684\u57fa\u7840\u6574\u6570\u6307\u4ee4\u96c6\u3002\u6307\u4ee4\u96c6\u4e2d\u7684\u6240\u6709\u6307\u4ee4\u90fd\u662f 32 \u4f4d\u7684\uff0c\u5728\u4e00\u4e2a\u673a\u5668\u5468\u671f\u5185\u5c31\u80fd\u5b8c\u6210\u3002</p> <p>RV32I \u7684\u6307\u4ee4\u53ef\u4ee5\u5206\u4e3a 6 \u79cd\uff1a</p> <ul> <li>R \u578b\uff0c\u5bc4\u5b58\u5668-\u5bc4\u5b58\u5668\u64cd\u4f5c</li> <li>I \u578b\uff0c\u7aef\u7acb\u5373\u6570\u548c\u8bbf\u5b58 load \u64cd\u4f5c</li> <li>S \u578b\uff0c\u8bbf\u5b58 store \u64cd\u4f5c</li> <li>B \u578b\uff0c\u6761\u4ef6\u8df3\u8f6c\u64cd\u4f5c</li> <li>U \u578b\uff0c\u957f\u7acb\u5373\u6570\u64cd\u4f5c</li> <li>J \u578b\uff0c\u65e0\u6761\u4ef6\u8df3\u8f6c</li> </ul> <p>\u6211\u4eec\u6765\u770b\u4e00\u770b\u8fd9 6 \u79cd\u6307\u4ee4\u6240\u5bf9\u5e94\u7684\u673a\u5668\u7801\u7684\u683c\u5f0f\u3002</p>"},{"location":"ICS/riscv/#r","title":"R \u578b\u6307\u4ee4","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u6761 R \u578b\u6307\u4ee4\u5206\u6210\u4e0b\u9762\u7684\u5b57\u6bb5\uff1a</p> 31 25 24 20 19 15 14 12 11 7 6 0 funct7 rs2 rs1 funct3 rd opcode <p>\u4e0b\u9762\u662f\u6bcf\u4e2a\u5b57\u6bb5\u540d\u79f0\u7684\u542b\u4e49\uff1a</p> <ul> <li>opcode\uff1a\u64cd\u4f5c\u7801\uff0c\u6307\u793a\u6307\u4ee4\u7684\u57fa\u672c\u64cd\u4f5c\uff0c\u786e\u5b9a\u8fd9\u6761\u6307\u4ee4\u7684\u7c7b\u578b</li> <li>rd\uff1a\u76ee\u7684\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\uff0c\u5b58\u653e\u64cd\u4f5c\u7ed3\u679c\uff08register destination\uff09</li> <li>funct3\uff1a\u4e00\u4e2a\u53e6\u5916\u7684\u64cd\u4f5c\u7801\u5b57\u6bb5</li> <li>rs1\uff1a\u7b2c\u4e00\u4e2a\u6e90\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668\uff08register source\uff09</li> <li>rs2\uff1a\u7b2c\u4e8c\u4e2a\u6e90\u64cd\u4f5c\u6570\u5bc4\u5b58\u5668</li> <li>funct7\uff1a\u4e00\u4e2a\u53e6\u5916\u7684\u64cd\u4f5c\u7801\u5b57\u6bb5\u3002</li> </ul> <p>\u5f88\u660e\u663e\u7684\uff0cR \u578b\u91cc\u9762\u90fd\u662f\u5bc4\u5b58\u5668\u4e4b\u95f4\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u8bf4 add \u6307\u4ee4\u5c31\u662f\u4e00\u4e2a R \u578b\u64cd\u4f5c\u3002\u770b\u4e0b\u9762\u7684\u4e00\u4e2a\u6307\u4ee4\u4f8b\u5b50\uff1a</p> <p><pre><code>add x9, x20, x21\n</code></pre> \u5b83\u6267\u884c C \u8bed\u8a00\u4e2d <code>x9 = x20 + x21;</code> \u8fd9\u4e2a\u64cd\u4f5c\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u628a\u8fd9\u6761\u6307\u4ee4\u4ee5\u4e8c\u8fdb\u5236\u7684\u5f62\u5f0f\u8868\u793a\uff1a</p> 31 25 24 20 19 15 14 12 11 7 6 0 0000000 10101 10100 000 01001 0110011 <p>func7\u3001func3 \u548c opcode \u5b57\u6bb5\u7ec4\u5408\u8d77\u6765\u786e\u5b9a\u662f add \u64cd\u4f5c\u3002\u5176\u4e2d opcode \u5b57\u6bb5\u786e\u5b9a\u662f\u8fd9\u6761\u6307\u4ee4\u7684\u7c7b\u578b\u662f R \u578b\uff1b\u7136\u540e\u518d\u7531 funct3 \u548c funct7 \u786e\u5b9a\u662f add\u3002</p> <p>\u5269\u4e0b\u7684\u5b57\u6bb5\u5c31\u662f\u7528\u6765\u8868\u793a\u5bc4\u5b58\u5668\u64cd\u4f5c\u6570\u4e86\u3002</p>"},{"location":"ICS/riscv/#i","title":"I \u578b\u6307\u4ee4","text":"31 20 19 15 14 12 11 7 6 0 imm[11:0] rs1 funct3 rd opcode <p>\u65b0\u7684\u5b57\u6bb5 imm \u8868\u793a\u7acb\u5373\u6570\u3002</p> <p>I \u578b\u4f7f\u7528\u4e24\u4e2a\u5bc4\u5b58\u5668\u548c\u548c\u4e00\u4e2a\u7acb\u5373\u6570\u8fdb\u884c\u8fd0\u7b97\u3002\u5982\u679c\u50cf R \u578b\u90a3\u6837\uff0c\u53ea\u7559 5 \u4f4d\u7ed9\u7acb\u5373\u6570\uff0c\u90a3\u80fd\u8868\u793a\u7684\u7acb\u5373\u6570\u592a\u5c11\u4e86\u3002\u6240\u4ee5\u5982\u6b64\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u8868\u793a\u66f4\u5927\u7684\u7acb\u5373\u6570\uff0812\u4f4d\u53ef\u4ee5\u8868\u793a -2048 ~ 2048\uff09\u3002 </p> <p>\u9664\u6b64\u4e4b\u5916\uff0cload \u7c7b\u578b\u7684\u64cd\u4f5c\u4e5f\u5c5e\u4e8e I \u578b\u7684\uff0c\u6bd4\u5982 <code>ld x9, 240(x10)</code>\u3002\u7acb\u5373\u6570\u7528\u6765\u50a8\u5b58\u53d8\u5740\u5bfb\u5740\u7684\u504f\u79fb\u91cf\u3002</p> <p>I \u578b\u7684\u8fd0\u7b97\u7c7b\u578b\u7531 opcode \u548c funct3 \u51b3\u5b9a\u3002</p> <p>\u7acb\u5373\u6570\u662f {{20{inst[31]}}, inst[31:20]}\u3002</p>"},{"location":"ICS/riscv/#s","title":"S \u578b\u6307\u4ee4","text":"31 25 24 20 19 15 14 12 11 7 6 0 imm[11:5] rs2 rs1 funct3 imm[4:0] opcode <p>S \u578b\u4e3b\u8981\u7528\u6765\u8fdb\u884c store \u64cd\u4f5c\uff0c\u5b83\u53ef\u4ee5\u53d8\u5740\u5bfb\u5740\u3002\u6bd4\u5982 sd \u6307\u4ee4\u5c31\u662f S \u578b\u7684\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff1a <pre><code>sd x9, 240(x22) // x9 \u4e2d\u7684\u6570\u636e\u50a8\u5b58\u56de x22 \u4e2d\u7684\u5730\u5740\u540e\u79fb 240 \u4f4d\u7684\u5730\u5740\u4e2d\u3002\n</code></pre> \u4e3a\u4e86\u4fdd\u6301\u5bc4\u5b58\u5668 rs1 \u548c rs2 \u7684\u4f4d\u7f6e\u4e00\u81f4\uff0c\u6240\u4ee5\u5c06\u4e00\u4e2a\u7acb\u5373\u6570\u5206\u6210\u4e24\u90e8\u5206\u8868\u793a\u3002\u6bd4\u5982\u8bf4\uff0c\u8fd9\u91cc (240)<sub>10</sub> = (0000111 10000)<sub>2</sub>\uff0c\u90a3\u4e48 0000111 \u5c06\u4f1a\u4fdd\u5b58\u5230 imm[11:5]\uff0c10000 \u5c06\u4f1a\u4fdd\u5b58\u5230 imm[4:0]\u3002</p> <p>S \u578b\u7684\u7acb\u5373\u6570\u662f {{20{inst[31]}}, inst[31:25], inst[11:7]}\u3002</p>"},{"location":"ICS/riscv/#b","title":"B \u578b\u6307\u4ee4","text":"31 25 24 20 19 15 14 12 11 7 6 0 imm[12,10:5] rs2 rs1 funct3 imm[4:1,11] opcode <p>B \u578b\u6307\u4ee4\u672c\u8d28\u4e0a\u662f S \u578b\u7684\u53d8\u79cd\uff0c\u4e3b\u8981\u533a\u522b\u5c31\u662f\u7acb\u5373\u6570\u8bfb\u53d6\u7684\u987a\u5e8f\u4e0d\u540c\u3002\u5b83\u7528\u4e8e\u5206\u652f\u8df3\u8f6c\u6307\u4ee4\uff0c\u6bd4\u5982 beq\uff0c\u76f8\u7b49\u65f6\u8df3\u8f6c\uff0c\u5bf9\u5e94 C \u8bed\u8a00\u7684 <code>if(rs1 == rs2) PC += imm</code>\u3002</p> <p>\u53ef\u4ee5\u770b\u5230\uff0cB \u578b\u548c S \u578b\u90fd\u9700\u8981\u4e24\u4e2a\u5bc4\u5b58\u5668\u548c\u4e00\u4e2a\u7acb\u5373\u6570\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u7acb\u5373\u6570\u662f {{19{inst[31]}}, inst[31], inst[7], inst[30:25], inst[11:8], 1'b0}\u3002\u524d\u9762\u662f\u7b26\u53f7\u4f4d\u586b\u5145\u5230 32 \u4f4d\uff0c\u8865 1 \u4f4d 0\u3002</p>"},{"location":"ICS/riscv/#u","title":"U \u578b\u6307\u4ee4","text":"31 12 11 7 6 0 imm[31:12] rd opcode <p>\u5f88\u663e\u7136\uff0c\u5c31\u662f\u4e00\u4e2a\u5bc4\u5b58\u5668\u548c\u4e00\u4e2a\u7acb\u5373\u6570\u53c2\u4e0e\u64cd\u4f5c\uff1b\u800c\u4e14\u6ca1\u6709\u6e90\u64cd\u4f5c\u6570\u3002 \u4f8b\u5b50\u5c31\u662f lui\uff0c\u5bf9\u5e94\u7684 C \u8bed\u8a00\u63cf\u8ff0\u662f <code>rd = imm &lt;&lt; 12</code></p> <p>U \u578b\u64cd\u4f5c\u53ea\u80fd\u901a\u8fc7 opcode \u6765\u533a\u5206\u3002</p> <p>\u7acb\u5373\u6570\u662f {inst[31:12], 12'b0}</p>"},{"location":"ICS/riscv/#j","title":"J \u578b\u6307\u4ee4","text":"31 12 11 7 6 0 imm[20,10:1,11,19:12] rd opcode <p>U \u578b\u6307\u4ee4\u7684\u53d8\u79cd\uff0c\u7528\u4e8e\u65e0\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4\uff0c\u6bd4\u5982 jal\u3002</p> <p>\u7acb\u5373\u6570\u662f </p> <p>{{11{inst[31]}}, inst[31], inst[19:12], inst[20], inst[30:21], 1'b0}</p> <p>\u524d\u9762\u7b26\u53f7\u586b\u5145\uff0c\u6ce8\u610f\u6700\u540e\u4e00\u4f4d\u8981\u8865\u4e0a 0\u3002\u8fd8\u6ca1\u6709\u627e\u5230\u8fd9\u6837\u7684\u539f\u56e0\uff0c\u4f46\u662f\u8fd9\u4e2a 0 \u6d6a\u8d39\u4e86\u6211\u5f88\u4e45\u7684\u65f6\u95f4\uff0c\u5148\u8bb0\u4e00\u4e0b\u3002</p>"},{"location":"ICS/riscv/#3","title":"3. \u4f2a\u6307\u4ee4","text":"<p>\u9664\u4e86\u4e0a\u9762\u8bf4\u7684\u516d\u79cd\u6307\u4ee4\u5916\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u5728\u6c47\u7f16\u4ee3\u7801\u4e2d\u4f7f\u7528\u4f2a\u6307\u4ee4\uff0c\u5728\u5b9e\u9645\u7f16\u8bd1\u65f6\uff0c\u5b83\u4eec\u4f1a\u88ab\u4e0a\u9762\u7684\u6307\u4ee4\u66ff\u4ee3\u3002</p> <p>\u53ef\u4ee5\u770b\u770b\u4e0b\u9762\u7684\u51e0\u4e2a\u4f8b\u5b50\uff1a</p> Pseudoinstruction Base Instruction(s) Meaning nop addi x0, x0, 0 No operation mv rd, rs addi rd, rs, 0 Copy register j offset jal x0, offset Jump ret jalr x0, x1, 0 \u901a\u8fc7\u8fd4\u56de\u5730\u5740 x1 \u8fd4\u56de call offset auipc x1, offset[31 : 12] + offset[11]  jalr x1, offset[11:0](x1) \u8fdc\u8c03\u7528 tips <ol> <li>\u600e\u4e48\u63d2\u5165 markdown \u8868\u683c\uff1f     \u53ef\u4ee5\u5728\u8fd9\u4e2a\u7f51\u7ad9\u5feb\u901f\u751f\u6210\uff1ahttps://www.tablesgenerator.com/markdown_tables</li> <li>html \u8bed\u8a00\uff0c\u7528 <code>&lt;/br&gt;</code> \u8868\u793a\u6362\u884c\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff1a</li> <li>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e9b\u4f2a\u4ee3\u7801\u548c\u6709\u4e9b\u548c x86 \u4e2d\u5b66\u8fc7\u7684\u662f\u5f88\u76f8\u4f3c\u7684\uff0c\u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u7684\u8fc1\u79fb\u5b66\u4e60\u3002</li> </ol>"},{"location":"ICS/riscv/#4","title":"4. \u6307\u4ee4\u8868","text":"<p>\u5b9e\u9645\u4e0a\uff0criscv \u7684\u6307\u4ee4\u662f\u5982\u6b64\u7684\u7b80\u5355\uff0c\u4ee5\u81f3\u4e8e\u4ed6\u4eec\u5f88\u5bb9\u6613\u5c31\u88ab\u6574\u7406\u5728\u51e0\u5f20\u8868\u4e0a\u4e86\uff1a</p> <p>cs61c \u7684\u8868\uff1a</p> <p>https://github.com/jameslzhu/riscv-card/blob/master/riscv-card.pdf</p> <p>\u5b98\u65b9\u8868\uff1a</p> <p>https://www.cl.cam.ac.uk/teaching/1617/ECAD+Arch/files/docs/RISCVGreenCardv8-20151013.pdf</p> <p>\u6709\u5f88\u591a\u4eba\u90fd\u505a\u4e86\u8868\uff0c\u6211\u5c31\u4e0d\u6574\u7406\u6307\u4ee4\u4e86\u3002\uff08\u771f\u7684\u4e0d\u662f\u56e0\u4e3a\u5077\u61d2\u5417</p>"},{"location":"ICS/riscv/#5","title":"5. \u5bc4\u5b58\u5668","text":"<p>\u4e0a\u9762\u4ee3\u7801\u4e2d\u51fa\u73b0\u8fc7\u5bc4\u5b58\u5668\u4e86\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u3002</p> <p>\u5bc4\u5b58\u5668\u5305\u62ec 1 \u4e2a PC \u5bc4\u5b58\u5668\u548c 32 \u4e2a 32 \u4f4d\u7279\u6b8a\u5bc4\u5b58\u5668\u3002\u5b83\u4eec\u7684\u529f\u80fd\u7b80\u8981\u4ecb\u7ecd\u5982\u4e0b\u8868\uff1a</p> \u5bc4\u5b58\u5668 ABI \u540d\u79f0 \u7528\u9014\u63cf\u8ff0 saver x0 zero \u786c\u4ef6 0 x1 ra \u8fd4\u56de\u5730\u5740\uff08return address\uff09 caller x2 sp \u6808\u6307\u9488\uff08stack pointer\uff09 callee x3 gp \u5168\u5c40\u6307\u9488\uff08global pointer\uff09 x4 tp \u7ebf\u7a0b\u6307\u9488\uff08thread pointer\uff09 x5 t0 \u4e34\u65f6\u53d8\u91cf/\u5907\u7528\u94fe\u63a5\u5bc4\u5b58\u5668\uff08alternate link reg\uff09 caller x6-7 t1-2 \u4e34\u65f6\u53d8\u91cf caller x8 s0/fp \u9700\u8981\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668/\u5e27\u6307\u9488\uff08frame pointer\uff09 callee x9 s1 \u9700\u8981\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668 callee x10-11 a0-1 \u51fd\u6570\u53c2\u6570/\u8fd4\u56de\u503c caller x12-17 a2-7 \u51fd\u6570\u53c2\u6570 caller x18-27 s2-11 \u9700\u8981\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668 callee x28-31 t3-6 \u4e34\u65f6\u53d8\u91cf caller"},{"location":"ICS/riscv/#6","title":"6. \u7279\u6743\u7ea7\u6307\u4ee4","text":"<p>TODO</p>"},{"location":"ICS/riscv/#7","title":"7. \u5206\u9875\u673a\u5236","text":"<p>\u53c2\u8003:</p> <p>\u9e64\u7fd4\u4e07\u91cc\u7684\u7b14\u8bb0\u672c RISC-V \u9875\u8868\u76f8\u5173</p> <p>riscv \u7684\u5206\u9875\u673a\u5236</p> <p>\u5b98\u65b9\u6587\u6863</p> <p>\u5206\u9875\u673a\u5236\u7684\u57fa\u672c\u539f\u7406\u5728\u865a\u62df\u5185\u5b58\u7684\u5730\u5740\u7ffb\u8bd1\u4ecb\u7ecd\u4e86, riscv \u4e5f\u662f\u5927\u540c\u5c0f\u5f02. \u8fd9\u91cc\u53ea\u4ecb\u7ecd\u6700\u57fa\u672c\u7684 SV32 \u5206\u9875\u673a\u5236.</p> <p>\u9996\u5148\u4ecb\u7ecd\u4e00\u4e0b\u5c06\u8981\u7528\u7684\u7b26\u53f7:</p> \u7b26\u53f7 \u63cf\u8ff0 VA virtual address \u865a\u62df\u5730\u5740 VPO virtual page offset \u865a\u62df\u9875\u9762\u504f\u79fb\u91cf VPN virtual page number \u865a\u62df\u9875\u53f7 PA physical address \u7269\u7406\u5730\u5740 PPO physical page offset \u7269\u7406\u9875\u9762\u504f\u79fb\u91cf PPN physical page number \u7269\u7406\u9875\u53f7 PTBR page table base register \u9875\u8868\u57fa\u5740\u5bc4\u5b58\u5668 PTE page table entry \u9875\u8868\u9879 <p>riscv \u6709 PTBR \u529f\u80fd\u7684\u662f satp \u5bc4\u5b58\u5668, \u7528\u4e8e\u8bbe\u7f6e\u9875\u8868\u76f8\u5173\u9879. \u5176\u7ed3\u6784\u5982\u4e0b <pre><code>                            +---+-----------+--------------------------+\n    satp register           | M |   ASID    |            PPN           |\n                            +---+-----------+--------------------------+\n                            (1b)    (9b)               (22b)\n</code></pre></p> <p>\u5176\u4e2d, PPN \u662f\u6839\u9875\u8868\u7269\u7406\u9875\u53f7;  ASID \u662f\u5730\u5740\u7a7a\u95f4 ID; M \u662f\u5206\u9875\u6a21\u5f0f, 0 \u4ee3\u8868\u4e0d\u7ffb\u8bd1, 1 \u4ee3\u8868\u91c7\u7528 SV32 \u6a21\u5f0f\u8fdb\u884c\u7ffb\u8bd1. </p> <p>SV32 \u7684\u5730\u5740\u5e03\u5c40\u5982\u4e0b:</p> <pre><code>                            +----------+----------+------------+\n  Virtual Address           |  VPN[1]  |  VPN[0]  |   offset   |  -----&gt; 32 bits\n                            +----------+----------+------------+\n                             (10 bits)  (10 bits)    (12 bits)\n\n  Physical Address        +------------+----------+------------+\n                          |   PPN[1]   |  PPN[0]  |   offset   |  -----&gt; 34 bits\n                          +------------+----------+------------+\n                             (12 bits)   (10 bits)    (12 bits)\n\n                    +------------+----------+--+-+-+-+-+-+-+-+-+\n  Page Table Entry  |   PPN[1]   |  PPN[0]  |  |D|A|G|U|X|W|R|V|  -----&gt; 32 bits\n                    +------------+----------+--+-+-+-+-+-+-+-+-+\n                       (12 bits)   (10 bits) |\n                                             `- RSW (2 bits)\n</code></pre> <p>\u4e0a\u9762\u5c31\u662f VA, PA \u548c PTE \u7684\u7ed3\u6784. \u6ce8\u610f PTE \u524d\u9762\u50a8\u5b58\u7684\u662f\u4e0b\u4e00\u7ea7\u7269\u7406\u9875\u53f7/\u7269\u7406\u5730\u5740\u7684\u9ad8 20 \u4f4d, \u5269\u4e0b\u7684\u662f flag, \u5982\u6700\u540e\u4e00\u4f4d V \u662f\u6709\u6548\u4f4d.</p> <p>\u4e0b\u9762\u662f SV32 \u5730\u5740\u7ffb\u8bd1\u7684\u6d41\u7a0b\u56fe, \u91c7\u7528\u4e86\u4e24\u7ea7\u9875\u8868.</p> <p></p> <p>\u6700\u540e\u662f\u5730\u5740\u7ffb\u8bd1\u7684\u5177\u4f53\u8fc7\u7a0b, \u5728 RISC-V Privileged Spec \u4e2d\u7684 4.3.2 \u8282. </p> <ol> <li>\u83b7\u5f97\u9875\u8868\u7684\u57fa\u5730\u5740 a,  \u548c\u5f53\u524d\u5904\u5728\u7ea7\u6570 i. \u53ef\u77e5 a = satp.ppn \u00d7 PAGESIZE, i = LEVELS - 1. \u5bf9 SV32 \u6765\u8bf4, PAGESIZE = 2^12, \u4e24\u7ea7\u9875\u8868 LEVELS = 2, \u6545 a = setp.ppn &lt;&lt; 12, i = 1.</li> <li>\u8bfb\u53d6\u8fd9\u4e00\u7ea7\u7684 PTE \u9879, pte = *(a + va.vpn[i] \u00d7 PTESIZE), \u5176\u4e2d PTESIZE = 4.</li> <li>\u5982\u679c i = 0(\u6216\u8005\u5229\u7528 pte.R == 1 || pte.X == 1), \u90a3\u4e48\u8bf4\u660e\u5f97\u5230\u4e86\u7269\u7406\u5730\u5740, \u9000\u51fa\u5230 4. \u5426\u5219\u7ee7\u7eed\u5faa\u73af, \u83b7\u5f97\u4e0b\u4e00\u7ea7\u9875\u8868\u7684\u57fa\u5730\u5740, \u5373\u66f4\u65b0 a = pte.ppn \u00d7 PAGESIZE, \u66f4\u65b0 i = i - 1, \u8df3\u8f6c\u5230 2.</li> <li>\u7ecf\u8fc7\u68c0\u9a8c, \u82e5\u90fd\u5408\u6cd5, \u5219\u7ffb\u8bd1\u5b8c\u6210: pa.pgoff = va.pgoff, pa.PPN[1:i] = pte.PPN[1:i].</li> </ol>"},{"location":"ICS/stack/","title":"\u6808\u4e0e\u51fd\u6570\u8c03\u7528","text":"<p>\u505a PA4 \u7684\u65f6\u5019\uff0c\u6808\u7684\u65b9\u5411\u7ed9\u6211\u641e\u6655\u4e86\uff0c\u5c31\u987a\u9053\u6574\u7406\u4e00\u4e0b\u3002\u4e0b\u9762\u4e3b\u8981\u7528 x86 \u6765\u8bb2\u89e3\uff0c\u522b\u7684\u6c47\u7f16\u8bed\u8a00\u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\u3002</p> <p>\u9996\u5148\u662f\u4ecb\u7ecd\u4e00\u4e0b\u6808\u6307\u9488\u5bc4\u5b58\u5668\uff08stack pointer\uff09: <code>sp</code> \u5bc4\u5b58\u5668\u3002\u5b83\u6c38\u8fdc\u4fdd\u5b58\u6808\u9876\u5143\u7d20\u7684\u5730\u5740\u3002\u7a0b\u5e8f\u7684\u6808\u653e\u5728\u5185\u5b58\u4e2d\u7684\u67d0\u4e2a\u533a\u57df\u5e76\u5411\u4e0b\u589e\u957f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf push \u4e00\u4e2a\u5143\u7d20\uff0c<code>sp</code> \u7684\u5730\u5740\u51cf\u5c11\uff0cpop \u5219\u8ba9 <code>sp</code> \u7684\u5730\u5740\u589e\u52a0\u3002</p> <p><code>pushq %rbp</code> \u7b49\u4ef7\u4e8e <pre><code>sub $8,rsp\nmovq %rbp,(%rsp)\n</code></pre></p> <p><code>popq %rax</code> \u7b49\u4ef7\u4e8e  <pre><code>movq (%rsp),%rax\naddq $8,(%rsp)\n</code></pre></p> <p>\u5229\u7528\u6808\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9e\u73b0\u51fd\u6570\u4e86\u3002\u5c06\u6808\u6307\u9488\u51cf\u5c11\u4e00\u4e2a\u9002\u5f53\u7684\u91cf\u53ef\u4ee5\u5206\u914d\u7a7a\u95f4\uff0c\u8fd9\u6bb5\u5206\u914d\u7684\u7a7a\u95f4\u53eb\u505a\u6808\u5e27\uff08stack frame\uff09\u3002\u5206\u914d\u7a7a\u95f4\u540e\u8d4b\u503c\u672c\u8d28\u4e0a\u662f\u548c\u5c06\u9700\u8981\u7684\u503c\u4e00\u4e2a\u4e2a push \u8fdb\u6765\u662f\u4e00\u6837\u7684\u3002\u53cd\u8fc7\u6765\uff0c\u589e\u52a0\u6808\u6307\u9488\u76f8\u5f53\u4e8e\u91ca\u653e\u7a7a\u95f4\u3002</p> <p>\u5728\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u9996\u5148 <code>call</code> \u6307\u4ee4\u4f1a\u5c06\u8fd4\u56de\u5730\u5740\u538b\u5165\u6808\u4e2d\uff0c\u7136\u540e\u8fdb\u5165\u8c03\u7528\u7684\u51fd\u6570\u3002\u5728\u65b0\u51fd\u6570\u4e2d\uff0c\u9996\u5148\u8981\u51cf\u5c11\u6808\u6307\u9488\u7684\u503c\u5206\u914d\u7a7a\u95f4\uff0c\u7136\u540e\u4f9d\u6b21\u4fdd\u5b58\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5206\u914d\u5c40\u90e8\u53d8\u91cf\u7a7a\u95f4\uff0c\u5206\u914d\u4f20\u5165\u7684\u53c2\u6570\u6240\u9700\u7684\u7a7a\u95f4\u3002\u8fd9\u4e9b\u90fd\u5b8c\u6210\u540e\uff0c\u518d\u6267\u884c\u4e4b\u540e\u7684\u8fc7\u7a0b\u3002\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5c06\u6808\u6307\u9488\u52a0\u56de\u539f\u6765\u7684\u503c\u91ca\u653e\u7a7a\u95f4\uff0c<code>ret</code> \u6307\u4ee4\u5c06\u6808\u9876\u7684\u5730\u5740 pop \u7ed9 <code>pc</code>\uff0c\u5c31\u4ece\u51fd\u6570\u8fd4\u56de\u4e86\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u51fd\u6570 P \u8c03\u7528\u51fd\u6570 Q \u7684\u5c40\u90e8\u6808\u56fe\u3002</p> <p>\u770b\u8fd9\u5f20\u56fe\u7247\u5df2\u7ecf\u5f88\u76f4\u89c2\u4e86\uff0c\u6808\u5e95\u7684\u5730\u5740\u9ad8\uff0c\u6808\u9876\u7684\u5730\u5740\u4f4e\u3002</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0cC \u8bed\u8a00\u53c2\u6570\u662f\u4ece\u53f3\u5f80\u5de6\u538b\u5165\u5806\u6808\u7684\uff0c\u6240\u4ee5\u5047\u5b9a <code>(%rsp)</code> \u662f\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u90a3\u4e48 <code>4(%rsp)</code> \u662f\u7b2c\u4e8c\u4e2a\uff0c<code>8(%rsp)</code> \u662f\u7b2c\u4e09\u4e2a\u5143\u7d20\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u5982\u679c\u4f20\u5165\u7684\u662f\u6570\u7ec4\u6216\u8005\u7ed3\u6784\u4f53\uff0c\u65b9\u5411\u4e5f\u662f\u4e00\u6837\u7684\u3002\u53ef\u4ee5\u60f3\u8c61\uff0c\u5012\u8fc7\u6765\u5c06\u5143\u7d20\u538b\u5165\u5806\u6808\u5bfc\u81f4\u987a\u5e8f\u7b26\u5408\u5185\u5b58\u589e\u957f\u7684\u65b9\u5411\u3002</p>"},{"location":"ICS/vm/","title":"\u865a\u62df\u5185\u5b58","text":"<p>\u7ec8\u4e8e\u770b\u5230\u4e86\u865a\u62df\u5185\u5b58\u8fd9\u5757\u4e86, \u611f\u89c9\u81ea\u5df1\u7684\u7b14\u8bb0\u901f\u5ea6\u6709\u70b9\u62d6\u65f6\u95f4\u4e86.</p> <p>CSAPP \u7b2c\u4e5d\u7ae0. \u865a\u62df\u5185\u5b58(virtual memory, VM).</p>"},{"location":"ICS/vm/#1","title":"1. \u57fa\u672c\u4ecb\u7ecd","text":"<p>\u8ba1\u7b97\u673a\u7684\u4e3b\u5b58(\u5373\u5185\u5b58)\u53ef\u4ee5\u770b\u505a\u4e00\u4e2a\u6709 M \u4e2a\u8fde\u7eed\u5b57\u8282\u7684\u5927\u6570\u7ec4, NEMU \u5c31\u662f\u8fd9\u4e48\u5b9e\u73b0\u7684. \u6bcf\u4e00\u5b57\u8282\u90fd\u6709\u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740, \u5373\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15. \u73b0\u4ee3\u8ba1\u7b97\u673a\u4e2d, CPU \u5f88\u5c11\u76f4\u63a5\u8bbf\u95ee\u7269\u7406\u5730\u5740, \u800c\u662f\u901a\u8fc7\u865a\u62df\u5bfb\u5740\u7684\u5f62\u5f0f. CPU \u4f1a\u5148\u751f\u6210\u4e00\u4e2a\u865a\u62df\u5730\u5740(virtual address, VA). VA \u4f1a\u88ab\u5185\u5b58\u7ba1\u7406\u5355\u5143(Memory Management Unit, MMU)\u7ffb\u8bd1\u6210\u7269\u7406\u5730\u5740(physical address, PA). </p> <p>\u865a\u62df\u5185\u5b58\u662f\u5b58\u653e\u5728\u78c1\u76d8\u4e0a\u7684\u6709 N \u4e2a\u8fde\u7eed\u5b57\u8282\u7ec4\u6210\u7684\u6570\u7ec4. \u548c\u7f13\u5b58\u4e00\u6837, VM \u4e5f\u5c06\u865a\u62df\u5185\u5b58\u5206\u5272\u6210\u865a\u62df\u9875(virtual page, VP)\u8fd9\u6837\u7684\u5927\u5c0f\u56fa\u5b9a\u7684\u5757\u6765\u5904\u7406\u78c1\u76d8\u548c\u4e3b\u5b58\u95f4\u7684\u4f20\u8f93. \u5047\u8bbe\u6bcf\u4e2a\u865a\u62df\u9875\u7684\u5927\u5c0f\u4e3a P \u5b57\u8282. \u7269\u7406\u5185\u5b58\u4e5f\u88ab\u5206\u5272\u6210\u7269\u7406\u9875(PP), \u6bcf\u9875\u5927\u5c0f\u4e0e\u865a\u62df\u9875\u4e00\u81f4.</p> <p>\u865a\u62df\u9875\u9762\u7684\u96c6\u5408\u53ef\u4ee5\u5206\u6210\u4e09\u4e2a\u4e0d\u76f8\u4ea4\u7684\u5b50\u96c6 : VM \u7cfb\u7edf\u672a\u5206\u914d\u7684\u9875, \u7f13\u5b58\u5728\u7269\u7406\u5185\u5b58\u7684\u5df2\u5206\u914d\u9875\u548c\u672a\u5360\u7528\u7269\u7406\u5185\u5b58\u7684\u5df2\u5206\u914d\u9875. \u5982\u4e0b\u56fe\u6240\u793a:</p> <p></p> <p>\u548c\u7f13\u5b58\u4e00\u6837, VM \u4e5f\u9700\u8981\u5224\u65ad\u67d0\u4e2a\u865a\u62df\u5185\u5b58\u662f\u5426\u88ab\u7f13\u5b58\u5728\u4e86\u4e3b\u5b58\u4e2d. \u8fd9\u4e2a\u529f\u80fd\u662f\u7531\u8f6f\u786c\u4ef6\u8054\u5408\u63d0\u4f9b\u7684, \u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf, MMU \u548c\u5b58\u653e\u5728\u7269\u7406\u5185\u5b58\u4e2d\u7684\u9875\u8868\u6570\u636e\u7ed3\u6784. \u9875\u8868\u5c06\u865a\u62df\u9875\u6620\u5c04\u5230\u7269\u7406\u9875, MMU \u4e2d\u7684\u5730\u5740\u7ffb\u8bd1\u786c\u4ef6\u5229\u7528\u9875\u8868\u5c06\u865a\u62df\u5730\u5740\u8f6c\u5316\u4e3a\u7269\u7406\u5730\u5740, \u64cd\u4f5c\u7cfb\u7edf\u7ef4\u62a4\u9875\u8868\u7684\u5185\u5bb9\u5e76\u5728\u78c1\u76d8\u548c\u4e3b\u5b58\u4e4b\u95f4\u6765\u56de\u4f20\u9001\u9875.</p>"},{"location":"ICS/vm/#2","title":"2. \u9875\u8868","text":"<p>\u4e0b\u9762\u4ecb\u7ecd\u9875\u8868. \u9875\u8868\u662f\u9875\u8868\u6761\u76ee(page table entry, PTE)\u7684\u96c6\u5408, \u50a8\u5b58\u5728\u7269\u7406\u5185\u5b58\u4e2d. \u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u6bcf\u4e00\u9875\u90fd\u5728\u9875\u8868\u4e2d\u6709\u5bf9\u5e94\u7684 PTE. \u6211\u4eec\u5047\u5b9a\u4e00\u4e0b\u6bcf\u4e2a\u6761\u76ee\u7684\u5185\u5bb9\u662f\u7531\u4e00\u4e2a\u6709\u6548\u4f4d\u548c n \u4f4d\u5730\u5740\u4f4d\u7ec4\u6210. \u6709\u6548\u4f4d\u8868\u793a\u8fd9\u4e2a\u865a\u62df\u9875\u662f\u5426\u7f13\u5b58\u5728\u5185\u5b58\u4e2d. \u5982\u679c\u662f, \u5730\u5740\u5b57\u6bb5\u5c31\u662f\u7f13\u5b58\u8be5\u865a\u62df\u9875\u7684\u7269\u7406\u9875\u7684\u8d77\u59cb\u4f4d\u7f6e. \u53cd\u4e4b, \u8bbe\u7f6e\u4e00\u4e2a\u7a7a\u5730\u5740\u8868\u793a\u5b83\u672a\u88ab\u5206\u914d, \u6216\u8005\u8fd9\u4e2a\u5730\u5740\u6307\u5411\u865a\u62df\u9875\u50a8\u5b58\u5728\u78c1\u76d8\u7684\u4f4d\u7f6e. \u4e0b\u9762\u8fd9\u5f20\u56fe\u6765\u770b\u770b\u9875\u8868\u662f\u600e\u4e48\u7ef4\u62a4\u7684:</p> <p></p> <p>\u6ce8\u610f, \u4efb\u610f\u7269\u7406\u9875\u90fd\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u865a\u62df\u9875.</p> <p>\u7136\u540e, \u6211\u4eec\u6765\u770b\u770b CPU \u60f3\u8981\u8bfb\u53d6 VP2 \u7684\u865a\u62df\u5185\u5b58\u7684\u4e00\u4e2a\u5b57\u4f1a\u53d1\u751f\u4ec0\u4e48. VP2 \u88ab\u7f13\u5b58\u5728 DRAM \u5185\u5b58\u4e2d. MMU \u5c06\u865a\u62df\u5730\u5740\u4f5c\u4e3a\u4e00\u4e2a\u7d22\u5f15\u6765\u5b9a\u4f4d PTE2, \u5e76\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6 PTE2. PTE2 \u8bbe\u7f6e\u4e86\u6709\u6548\u4f4d, \u4e8e\u662f MMU \u77e5\u9053 VP2 \u7f13\u5b58\u5728\u5185\u5b58\u4e2d, \u76f4\u63a5\u4f7f\u7528 PTE \u4e2d\u50a8\u5b58\u7684\u7269\u7406\u5730\u5740, \u5373\u53ef\u5f97\u5230\u8fd9\u4e2a\u5b57\u7684\u7269\u7406\u5730\u5740. \u76f4\u63a5\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u5230\u865a\u62df\u5185\u5b58, \u53eb\u9875\u547d\u4e2d.</p> <p>\u53cd\u8fc7\u6765, DRAM \u7f13\u5b58\u4e0d\u547d\u4e2d\u5c31\u53eb\u7f3a\u9875. \u4ecd\u662f\u4e0a\u9762\u7684\u56fe\u7247, CPU \u8bfb\u53d6 VP3 \u4e2d\u7684\u4e00\u4e2a\u5b57. VP3 \u6ca1\u6709\u7f13\u5b58\u5728 DRAM \u4e2d. MMU \u8bfb\u53d6 PTE3, \u5e76\u53d1\u73b0\u6709\u6548\u4f4d\u4e3a 0, \u4e8e\u662f\u63a8\u65ad\u51fa VP3 \u672a\u88ab\u7f13\u5b58, \u89e6\u53d1\u7f3a\u9875\u5f02\u5e38\u7a0b\u5e8f. \u7f3a\u9875\u5f02\u5e38\u7a0b\u5e8f\u9009\u62e9\u4e00\u4e2a\u727a\u7272\u9875, \u6bd4\u5982 PP3 \u4e2d\u7684 VP4, \u5c06\u4e4b\u590d\u5236\u56de\u78c1\u76d8\u540e, \u4ece\u78c1\u76d8\u590d\u5236 VP3 \u5230 PP3, \u5e76\u66f4\u65b0 PTE3, \u518d\u4ece\u5f02\u5e38\u8fd4\u56de. \u5982\u4e0b\u56fe\u6240\u793a:</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u865a\u62df\u5185\u5b58\u7684\u60f3\u6cd5\u6709\u5f88\u591a\u662f\u548c\u7f13\u5b58\u7c7b\u4f3c\u7684. \u865a\u62df\u5185\u5b58\u4e2d\u7684\u9875\u5b9e\u9645\u4e0a\u5c31\u662f\u5bf9\u5e94\u7f13\u5b58\u4e2d\u7684\u5757. \u5411\u4e0a\u9762\u8fd9\u6837\u76f4\u5230\u4e0d\u547d\u4e2d\u624d\u6362\u5165\u9875\u9762\u7684\u7b56\u7565\u79f0\u4e3a\u6309\u9700\u9875\u9762\u8c03\u5ea6.</p> <p>\u4e0b\u9762\u5206\u914d\u4e86\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u9875 VP5, \u5206\u914d\u8fc7\u7a0b\u5c31\u662f\u5728\u78c1\u76d8\u4e0a\u521b\u5efa\u7a7a\u95f4\u5e76\u8ba9 PTE5 \u6307\u5411\u78c1\u76d8\u4e0a\u8fd9\u4e2a\u65b0\u521b\u5efa\u7684\u9875\u9762.</p> <p></p> <p>\u6211\u4eec\u628a\u7a0b\u5e8f\u7684\u5de5\u4f5c\u96c6\u9875\u9762\u8c03\u5ea6\u5230\u5185\u5b58\u4e2d\u4e4b\u540e, \u7531\u4e8e\u7a0b\u5e8f\u7684\u5c40\u90e8\u6027, \u547d\u4e2d\u7387\u5f88\u9ad8, \u5e76\u6ca1\u6709\u90a3\u4e48\u5bb9\u6613\u7f3a\u9875, \u6240\u4ee5\u865a\u62df\u5185\u5b58\u662f\u53ef\u4ee5\u4fdd\u8bc1\u6548\u7387\u7684.</p>"},{"location":"ICS/vm/#3","title":"3. \u5185\u5b58\u7ba1\u7406","text":"<p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u865a\u62df\u5185\u5b58\u662f\u5982\u4f55\u5185\u5b58\u7ba1\u7406\u7684.</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u63d0\u4f9b\u72ec\u7acb\u7684\u9875\u8868, \u6240\u4ee5\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4, \u800c\u591a\u4e2a\u865a\u62df\u9875\u9762\u4e5f\u53ef\u4ee5\u6620\u5c04\u5230\u540c\u4e2a\u7269\u7406\u9875\u9762\u4e0a. \u5982\u4e0b\u56fe:</p> <p></p> <ol> <li>\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\u5141\u8bb8\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u6620\u50cf\u90fd\u4f7f\u7528\u76f8\u540c\u7684\u683c\u5f0f, \u4e0d\u5fc5\u5173\u5fc3\u5b9e\u9645\u7269\u7406\u5730\u5740\u662f\u600e\u6837\u7684. </li> <li>\u5982\u679c\u4e0d\u540c\u8fdb\u7a0b\u4f7f\u7528\u76f8\u540c\u7684\u5185\u6838\u51fd\u6570, \u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5c06\u5b83\u4eec\u6620\u5c04\u5230\u540c\u4e00\u4e2a\u7269\u7406\u9875\u9762, \u4ece\u800c\u8282\u7701\u5185\u5b58.</li> <li>\u8fde\u7eed\u865a\u62df\u9875\u9762, \u6620\u5c04\u7684\u7269\u7406\u9875\u9762\u4e0a\u4e0d\u4e00\u5b9a\u8fde\u7eed, \u800c\u662f\u53ef\u4ee5\u968f\u610f\u5730\u5206\u6563\u5728\u5185\u5b58\u4e2d.</li> </ol> <p>\u865a\u62df\u5185\u5b58\u4e5f\u5f88\u597d\u505a\u5185\u5b58\u4fdd\u62a4\u7684\u5de5\u4f5c: \u4e3a\u6bcf\u4e2a PTE \u6dfb\u52a0\u51e0\u4e2a\u63a7\u5236\u4f4d\u5373\u53ef. \u51e0\u4e2a\u63a7\u5236\u4f4d\u5305\u62ec\u8bfb\u5199\u6743\u9650\u7b49. \u5982\u679c\u6709\u4e00\u6761\u6307\u4ee4\u8fdd\u53cd\u4e86\u63a7\u5236\u4f4d\u6240\u7ed9\u7684\u6743\u9650, \u90a3\u4e48 CPU \u5c31\u629b\u51fa\u6545\u969c, \u63a7\u5236\u8f6c\u7ed9\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f, \u5373 \"\u6bb5\u9519\u8bef\".</p>"},{"location":"ICS/vm/#4","title":"4. \u5730\u5740\u7ffb\u8bd1","text":""},{"location":"ICS/vm/#41","title":"4.1 \u57fa\u672c\u4ecb\u7ecd","text":"<p>\u6574\u4f53\u7684\u786c\u4ef6\u7684\u8fc7\u7a0b\u5c31\u653e\u5f20\u56fe\u6982\u62ec\u4e86:</p> <p></p> <p>\u800c\u5728 MMU \u4e2d\u5b9e\u73b0\u7684\u5730\u5740\u7ffb\u8bd1, \u7ecf\u8fc7\u4e86\u54ea\u4e9b\u8fc7\u7a0b\u5462? \u9996\u5148\u4ecb\u7ecd\u4e00\u4e0b\u5c06\u8981\u7528\u7684\u7b26\u53f7:</p> \u7b26\u53f7 \u63cf\u8ff0 VA virtual address \u865a\u62df\u5730\u5740 VPO virtual page offset \u865a\u62df\u9875\u9762\u504f\u79fb\u91cf VPN virtual page number \u865a\u62df\u9875\u53f7 PA physical address \u7269\u7406\u5730\u5740 PPO physical page offset \u7269\u7406\u9875\u9762\u504f\u79fb\u91cf PPN physical page number \u7269\u7406\u9875\u53f7 PTBR page table base register \u9875\u8868\u57fa\u5740\u5bc4\u5b58\u5668 PTE page table entry \u9875\u8868\u9879 <p>\u5176\u4e2d, PTBR \u63d0\u4f9b\u9875\u8868\u7684\u5730\u5740. \u865a\u62df\u5730\u5740\u88ab\u5206\u4e3a VPN \u548c VPO \u4e24\u90e8\u5206. VPN \u4f5c\u4e3a\u7d22\u5f15\u7528\u4e8e\u5728\u9875\u8868\u4e2d\u627e\u5230\u5f53\u524d\u9875\u7684 PLE, \u5728\u8fd9\u4e2a PLE \u4e2d\u5b58\u50a8\u4e86\u5bf9\u5e94\u7684 PPN. \u5c06\u8fd9\u4e2a PPN \u4e0e\u865a\u62df\u5730\u5740\u7684 VPO \u7ed3\u5408\u8d77\u6765, \u5c31\u5f97\u5230\u4e86\u6700\u7ec8\u7684\u5730\u5740. \u6ce8\u610f, \u7269\u7406\u9875\u9762\u548c\u865a\u62df\u9875\u9762\u7684\u5927\u5c0f\u76f8\u540c, \u6545 PPO \u548c VPO \u603b\u662f\u76f8\u540c\u7684. </p> <p>\u53ef\u4ee5\u770b\u4e0b\u9762\u56fe\u7247: </p> <p></p>"},{"location":"ICS/vm/#42-tlb","title":"4.2 TLB \u5730\u5740\u7ffb\u8bd1\u52a0\u901f","text":"<p>CPU \u6bcf\u4ea7\u751f\u4e00\u4e2a\u865a\u62df\u5730\u5740, MMU \u5c31\u8981\u67e5\u9605\u4e00\u6b21 PTE, \u5c06\u865a\u62df\u5730\u5740\u8f6c\u6210\u7269\u7406\u5730\u5740. \u4f46\u662f PTE \u50a8\u5b58\u5728\u5185\u5b58\u4e2d, \u6211\u4eec\u4ecd\u7136\u5acc\u8bfb\u53d6\u5f97\u4e0d\u591f\u5feb. \u4e8e\u662f\u5728 MMU \u4e2d, \u6dfb\u52a0\u4e86\u4e00\u4e2a\u53eb\u5feb\u8868(TLB, translation lookaside buffer)\u7684\u7f13\u5b58, \u6765\u50a8\u5b58\u6700\u8fd1\u4f7f\u7528\u7684 PTE. \u5982\u679c\u547d\u4e2d, \u90a3\u4e48\u6240\u6709\u7684\u5730\u5740\u7ffb\u8bd1\u5de5\u4f5c\u90fd\u5728 MMU \u4e2d\u5b8c\u6210, \u5c06\u4f1a\u975e\u5e38\u5feb.</p>"},{"location":"ICS/vm/#43","title":"4.3 \u591a\u7ea7\u9875\u8868","text":"<p>\u5b9e\u9645\u7684\u64cd\u4f5c\u4e2d, \u7528\u7684\u66f4\u591a\u7684\u8fd8\u662f\u591a\u7ea7\u9875\u8868. \u591a\u7ea7\u9875\u8868\u53ef\u4ee5\u663e\u8457\u5730\u51cf\u5c11\u9875\u8868\u7684\u5927\u5c0f, \u5177\u4f53\u4e0d\u8d58\u8ff0\u7559\u7ed9\u8bfb\u8005\u601d\u8003\u4e86. \u5177\u4f53\u7684\u5b9e\u73b0\u5c31\u662f\u5c06 VPN \u5206\u6210 k \u4efd, \u6bcf\u4e2a VPN i \u90fd\u662f\u7b2c i \u7ea7\u9875\u8868\u7684\u7d22\u5f15. \u6bcf\u4e00\u7ea7\u9875\u8868\u7684 PTE \u90fd\u662f\u5230\u4e0b\u4e00\u7ea7\u9875\u8868\u7684\u57fa\u5740, \u6700\u540e\u4e00\u7ea7\u7684 PTE \u662f PPN. PPO \u548c VPO \u8fd8\u662f\u76f8\u540c\u7684.</p> <p></p>"},{"location":"ai/infra/","title":"\u4ecb\u7ecd","text":"<p>\u4e3a\u4e86\u8c0b\u751f\u5f97\u5f00\u59cb\u5b66\u4e60\uff0c\u4f46\u662f\u73b0\u5728\u4e00\u5934\u96fe\u6c34\u7684\u3002</p> <p>vllm</p> <p>cuda</p> <p>transformer</p> <p>attention</p>"},{"location":"algorithm/dp/","title":"\u52a8\u6001\u89c4\u5212","text":"<p>\u52a8\u6001\u89c4\u5212\u5230\u5e95\u662f\u4ec0\u4e48\u5462\uff1f\u4e00\u822c\u6765\u8bf4\uff0c\u5b83\u89e3\u51b3\u7684\u90fd\u662f\u6700\u4f18\u89e3\u95ee\u9898\u3002\u6211\u89c9\u5f97\u5b83\u548c\u9012\u5f52\u6709\u7c7b\u4f3c\u4e4b\u5904\uff0c\u56e0\u4e3a\u8981\u6784\u9020\u51fa\u9012\u5f52\u5f0f\uff08\u5373\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff09\uff0c\u53ea\u662f\u5b83\u662f\u62ff\u7a7a\u95f4\u6765\u6362\u65f6\u95f4\u3002</p> <p>\u62ff\u6559\u79d1\u4e66\u4e0a\u7684\u6982\u5ff5\u4e0a\u8bf4\uff1a\u52a8\u6001\u89c4\u5212\u8981\u5177\u5907\u4e24\u4e2a\u8981\u7d20\u3002\u4e00\u662f\u6700\u4f18\u5b50\u7ed3\u6784\uff0c\u4e00\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u53ef\u4ee5\u88ab\u5206\u89e3\u4e3a\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff0c\u4ece\u800c\u5f62\u6210\u9012\u5f52\u7ed3\u6784\uff0c\u8fd9\u90e8\u5206\u548c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u76f8\u5bf9\u5e94\u3002\u4e8c\u662f\u5b50\u95ee\u9898\u91cd\u53e0\uff0c\u95ee\u9898\u53ef\u4ee5\u53cd\u590d\u6c42\u89e3\u76f8\u540c\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5b58\u50a8\u5b50\u95ee\u9898\u7684\u89e3\u5728\u4e00\u4e2a\u8868\u4e2d\uff0c\u4e4b\u540e\u67e5\u8868\u6c42\u89e3\u53ea\u9700\u5e38\u91cf\u65f6\u95f4\u5373\u53ef\u4e86\u3002</p>"},{"location":"algorithm/dp/#_2","title":"\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217","text":"<p>\u52a8\u6001\u89c4\u5212\u7684\u95ee\u9898\u975e\u5e38\u591a\uff0c\u968f\u4fbf\u6765\u51e0\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982\u8fd9\u4e2a\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u95ee\u9898\uff1a\u7ed9\u5b9a\u4e24\u4e2a\u5b57\u7b26\u4e32 <code>text1</code> \u548c <code>text2</code>\uff0c\u8fd4\u56de\u8fd9\u4e24\u4e2a\u5b57\u7b26\u4e32\u7684\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\u3002\u5982\u679c\u4e0d\u5b58\u5728\u516c\u5171\u5b50\u5e8f\u5217\uff0c\u8fd4\u56de 0 \u3002</p> <p>https://leetcode.cn/problems/longest-common-subsequence/description/?envType=study-plan-v2&amp;envId=dynamic-programming</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6700\u4f18\u89e3\u95ee\u9898\u3002\u5047\u8bbe <code>DP[i][j]</code> \u8868\u793a\u95ee\u9898 <code>text[0:i]</code> \u548c <code>text[0:j]</code> \u7684\u6700\u4f18\u89e3\uff08\u6700\u957f\u5b50\u5e8f\u5217\u957f\u5ea6\uff09\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u5f88\u5bb9\u6613\u5c31\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a</p> <pre><code>if text1[i] == text2[j]:\n    DP[i][j] = DP[i-1][j-1] + 1\nelse:\n    DP[i][j] = max(DP[i-1][j], DP[i][j-1])\n</code></pre> <p>\u7136\u540e\u6c42\u51fa\u5404\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u7684\u89e3\uff0c\u6709\u4e24\u79cd\u505a\u6cd5\uff0c\u81ea\u9876\u5411\u4e0b\u6216\u8005\u81ea\u5e95\u5411\u4e0a\u3002</p> <p>\u81ea\u9876\u5411\u4e0b\u5c31\u662f\u4ece\u540e\u5f80\u524d\uff0c\u5229\u7528\u9012\u5f52\u6765\u6c42\u89e3\u3002\u81ea\u5e95\u5411\u4e0a\u5c31\u662f\u4ece <code>DP[0][0]</code> \u5f00\u59cb\u5411\u540e\u63a8\u7406\u5230 <code>DP[i][j]</code></p> <p>\u81ea\u9876\u5411\u4e0b\u7684\u4f2a\u4ee3\u7801\uff1a</p> <pre><code>set DP to -1\nf(i, j):\n    if i == -1 and j == -1:\n        return 0\n    if DP[i][j] &gt;= 0:\n        return DP[i][j]\n    if text1[i] == text2[j]:\n        DP[i][j] = f(i-1, j-1) + 1\n    else:\n        DP[i][j] = max(f(i-1, j), f(i, j-1))\n    return DP[i][j]\n</code></pre> <p>\u6ce8\u610f\uff0c\u5982\u679c\u6ca1\u6709 <code>if DP[i][j] &gt; 0 return DP[i][j]</code>\uff0c\u5219\u5176\u548c\u666e\u901a\u7684\u9012\u5f52\u5b8c\u5168\u76f8\u540c\u3002\u6b63\u662f\u5bf9\u89e3\u7684\u5b58\u50a8\uff0c\u907f\u514d\u4e86\u5927\u91cf\u91cd\u590d\u7684\u8ba1\u7b97\u3002</p> <p>\u4f46\u662f\u6709\u9012\u5f52\uff0c\u5c31\u8fd8\u662f\u6709\u591a\u4f59\u7684\u5f00\u9500\u7684\u3002\u5c3d\u7ba1\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u662f\u76f8\u540c\u7684 O(MN)\uff0c\u81ea\u5e95\u5411\u4e0a\u7684\u65b9\u6cd5\u66f4\u5feb\uff0c\u56e0\u4e3a\u4e0d\u7528\u9012\u5f52\u3002</p> <p>\u4e0b\u9762\u662f\u81ea\u5e95\u5411\u4e0a\u7684\u4f2a\u4ee3\u7801\uff1a</p> <pre><code>f(M, N):\n    for i = 0 to M:\n        for j = 0 to N:\n            if (text1[i] == text2[j]):\n                DP[i][j] = DP[i - 1][j - 1] + 1;\n            else:\n                DP[i][j] = max(DP[i][j-1], DP[i-1][j])\n    return DP[M][N];\n</code></pre> <p>\u81ea\u5e95\u5411\u4e0a\u7684\u901f\u5ea6\u603b\u662f\u66f4\u5feb\uff0c\u6240\u4ee5\u66f4\u63a8\u8350\u4f7f\u7528\u3002</p>"},{"location":"algorithm/dp/#_3","title":"\u63a5\u96e8\u6c34","text":"<p>\u4e0a\u9762\u8fd9\u9053\u9898\u57fa\u672c\u5df2\u7ecf\u6d89\u53ca\u4e86\u52a8\u6001\u89c4\u5212\u7684\u6240\u6709\u6b65\u9aa4\u3002\u4e0b\u9762\u6211\u4eec\u518d\u770b\u4e00\u4e2a\u63a5\u96e8\u6c34\u95ee\u9898\uff0c\u636e\u79f0\u5b57\u8282\u7684\u4fdd\u6d01\u963f\u59e8\u548c\u4fdd\u5b89\u5927\u53d4\u90fd\u4f1a\u505a\u3002</p> <p>https://leetcode.cn/problems/trapping-rain-water/description/</p> <p>\u7ed9\u5b9a n \u4e2a\u975e\u8d1f\u6574\u6570\u8868\u793a\u6bcf\u4e2a\u5bbd\u5ea6\u4e3a 1 \u7684\u67f1\u5b50\u7684\u9ad8\u5ea6\u56fe\uff0c\u8ba1\u7b97\u6309\u6b64\u6392\u5217\u7684\u67f1\u5b50\uff0c\u4e0b\u96e8\u4e4b\u540e\u80fd\u63a5\u591a\u5c11\u96e8\u6c34\u3002</p> <p>\u597d\u5427\u505a\u51fa\u6765\u600e\u4e48\u611f\u89c9\u548c\u52a8\u6001\u89c4\u5212\u7684\u5173\u7cfb\u5e76\u6ca1\u6709\u90a3\u4e48\u7d27\u5bc6\u800c\u4e14\u611f\u89c9\u4e5f\u6ca1\u6709\u5f88 hard... \u662f\u8fd9\u6837\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u683c\u5b50\uff0c\u5b83\u80fd\u63a5\u7684\u96e8\u6c34\u7684\u5bb9\u91cf W \u5927\u5c0f\u90fd\u662f\uff1amin(\u8be5\u70b9\u5de6\u8fb9\u6700\u9ad8\u67f1\u5b50 , \u8be5\u70b9\u53f3\u8fb9\u6700\u9ad8\u67f1\u5b50) - \u8be5\u70b9\u683c\u5b50\u9ad8\u5ea6\uff0c\u4e14\u5927\u4e8e\u7b49\u4e8e 0\u3002\u4ece\u5de6\u5230\u53f3\u904d\u5386\u6240\u6709\u683c\u5b50\u76f8\u52a0\u7ed3\u679c\u5c31\u662f\u9898\u76ee\u7684\u89e3\u3002\u53ea\u662f\u5728\u6c42\u8be5\u70b9\u5de6\u53f3\u6700\u9ad8\u67f1\u5b50\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u4e0a\u52a8\u6001\u89c4\u5212\uff08\u4e0d\u7528\u4e5f\u884c\uff0c\u590d\u6742\u5ea6\u9ad8\u4e00\u70b9\uff09\u3002\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u662f\uff1a <pre><code>l[i] = max(l[i-1], h[i-1])\nr[i] = max(r[i+1], h[i+1])\n</code></pre> \u63a5\u96e8\u6c34\u7684\u603b\u91cf\u5c31\u662f <pre><code>sum(max(min(l[i], r[i]) - h[i] , 0))\n</code></pre></p>"},{"location":"algorithm/dp/#_4","title":"\u6253\u5bb6\u52ab\u820d","text":"<p>https://leetcode.cn/problems/house-robber/description/?envType=study-plan-v2&amp;envId=dynamic-programming</p> <p>\u5047\u8bbe\u5077\u7a83 n \u5bb6\uff0c\u4e14\u4e0d\u80fd\u5077\u7a83\u76f8\u90bb\u7684\u623f\u5c4b\uff0c\u90a3\u4e48\u6700\u591a\u80fd\u5077\u591a\u5c11\u94b1\u3002\u5047\u8bbe\u6bcf\u5bb6\u7684\u94b1\u5b58\u5728\u6570\u7ec4 w \u4e2d\uff0c\u5077\u7a83\u524d n \u5bb6\u7684\u524d\u7684\u6700\u4f18\u89e3\u5b58\u50a8\u5728 dp \u4e2d\uff0c\u5219\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u662f\uff1a</p> <pre><code>dp[n] = max(dp[n-2] + w[n], dp[n-1])\n</code></pre> <p>\u8fd9\u79cd\u95ee\u9898\u719f\u6089\u4e86\u4ee5\u540e\u5c31\u548c\u6c42\u6590\u6ce2\u90a3\u5951\u6570\u5217\u4e00\u6837\u7b80\u5355\u7684\u3002C++ \u4ee3\u7801\u5982\u4e0b\uff0c\u81ea\u5e95\u5411\u4e0a\uff0c\u5fd8\u8bb0\u65f6\u53ef\u4f5c\u4e3a\u6a21\u7248\u53c2\u8003\u3002</p> <pre><code>class Solution {\npublic:\n    int rob(vector&lt;int&gt;&amp; nums) {\n    vector&lt;int&gt; dp(nums.size(), 0);\n        for (int i = 0; i &lt; nums.size(); i++) {\n            if (i == 0) {\n                dp[i] = nums[i];\n            } else if ( i == 1) {\n                dp[i] = max(nums[0], nums[1]);\n            }\n             else {\n                dp[i] = max(dp[i-1], dp[i-2]+nums[i]);\n            }\n        }\n        return dp[nums.size()-1];\n    }\n};\n</code></pre>"},{"location":"algorithm/greedy/","title":"\u8d2a\u5fc3\u7b97\u6cd5","text":"<p>\u7b97\u6cd5\u5bfc\u8bba\u91cc\u9762\u8bf4\uff0c\u60f3\u5b66\u4e60\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u5f97\u5148\u719f\u6089\u52a8\u6001\u89c4\u5212\u3002\u8fd9\u8bf4\u660e\uff0c\u8d2a\u5fc3\u548c\u52a8\u6001\u89c4\u5212\u6709\u5171\u901a\u4e4b\u5904\u3002</p>"},{"location":"algorithm/intro/","title":"\u4ecb\u7ecd","text":"<p>\u8fd9\u4e2a\u680f\u76ee\u4f1a\u4ecb\u7ecd\u6211\u5b66\u4e60\u7684\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\uff0c\u4f1a\u8bb0\u5f55\u4e00\u4e0b\u6211\u505a\u8fc7\u7684\u9898\u3002\u4e3a\u4e86\u907f\u514d\u88ab\u627e\u9ebb\u70e6\uff0c\u8bfe\u7a0b\u7684\u9898\u76ee\u6211\u4e0d\u4f1a\u653e\u6e90\u4ee3\u7801\uff08\u6bd4\u5982 PTA\uff09\u3002 \u529b\u6263\u6216\u8005\u522b\u7684\u5730\u65b9\u7684\u9898\u76ee\u6211\u4f1a\u653e\u3002</p> <p>\u53ef\u4ee5\u53c2\u8003\u7684\u8d44\u6599\u6216\u8005\u5b66\u4e60\u7684\u7f51\u7ad9\uff1a</p> <p>OI Wiki: https://oi-wiki.org/</p> <p>CS61B(sp21): https://sp21.datastructur.es/</p> <p>CS61B \u662f\u4f2f\u514b\u5229\u7684\u6570\u636e\u7ed3\u6784\u8bfe\u7a0b\u3002\u6211\u5df2\u7ecf\u57fa\u672c\u4e0a\u5b66\u5b8c\u4e86\uff0c\u8fd8\u5269\u4e0b\u4e00\u4e2a project \u6ca1\u6709\u505a\uff0c\u662f\u4e00\u4e2a\u751f\u6210\u968f\u673a\u8ff7\u5bab\u7684 project\uff0c\u6211\u89c9\u5f97\u6211\u5e94\u8be5\u4f1a\u5495\u5495\u4e86\u3002 \u611f\u89c9\u8fd9\u95e8\u8bfe\u7b97\u662f\u6bd4\u8f83\u7b80\u5355\u7684\u4e86\u3002\u7b2c 2 \u4e2a project \u662f\u5b9e\u73b0\u4e00\u4e2a git\uff0c\u8fd8\u662f\u975e\u5e38\u6709\u8da3\u7684\u3002</p> <p>\u4ee3\u7801\u968f\u60f3\u5f55\uff1ahttps://www.programmercarl.com/ \u5de5\u4f5c\u7684\u6c14\u606f\u8d8a\u6765\u8d8a\u91cd\u554a\u3002</p>"},{"location":"algorithm/np/","title":"NP \u5b8c\u5168\u6027\u95ee\u9898\u4ecb\u7ecd","text":""},{"location":"algorithm/np/#1-p-np","title":"1. P \u4e0e NP","text":"<p>\u4ee5\u524d\u4e00\u76f4\u4e0d\u77e5\u9053\u6240\u8c13 P \u4e0e NP \u662f\u4ec0\u4e48\u610f\u601d\uff0c\u90a3\u4e48\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\uff0c\u6709\u65f6\u95f4\u590d\u6742\u5ea6\u8fd9\u4e2a\u6982\u5ff5\uff0c\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u53ef\u4ee5\u8ba1\u7b97\u7684\u673a\u5668\uff0c\u53ef\u4ee5\u662f\u7406\u8bba\u4e0a\u7684\u56fe\u7075\u673a\uff0c\u6216\u8005\u662f\u73b0\u5b9e\u7684\u8ba1\u7b97\u673a\u4ec0\u4e48\u7684\uff0c\u8fdb\u884c\u4e00\u6b21\u8fd0\u7b97\u7684\u64cd\u4f5c\u6d88\u8017\u5355\u4f4d\u65f6\u95f4\u3002</p> <p>\u6709\u4e9b\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u5f88\u4f4e\uff0c\u6bd4\u5982\u6392\u5e8f\uff0c\u5bf9 n \u4e2a\u6570\u8fdb\u884c\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u53ef\u4ee5\u8fbe\u5230 \\(O(n \\log n)\\)\u3002\u6709\u4e9b\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u5c31\u5f88\u9ad8\u4e86\uff0c\u6bd4\u5982\u8bf4\u7528 dfs \u8fdb\u884c\u641c\u7d22\uff0c\u590d\u6742\u5ea6\u662f \\(2^n\\)\u3002\u5982\u679c\u95ee\u9898\u5927\u5c0f\u90fd\u662f 100\uff0c\u4e00\u4e2a\u53ea\u9700\u8981\u6700\u591a 10000 \u6b21\uff0c\u4e00\u4e2a\u5219\u9700\u8981 \\(2^{100}\\) \u6b21\uff0c\u662f\u5929\u5dee\u5730\u522b\u4e86\u3002</p> <p>\\(O(n^k)\\) \u5185\u89e3\u51b3\u95ee\u9898\u7684\u7b97\u6cd5\u79f0\u4e3a\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\u7684\u7b97\u6cd5\u3002\u6211\u4eec\u8ba4\u4e3a\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u88ab\u201c\u8f83\u4e3a\u5bb9\u6613\u201d\u5730\u89e3\u51b3\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u6c42\u89e3\u51fa\u5176\u5177\u4f53\u95ee\u9898\uff0c\u5c31\u8bf4\u8be5\u5177\u4f53\u95ee\u9898\u662f\u591a\u9879\u5f0f\u65f6\u95f4\u53ef\u89e3\u7684\u3002\u5373\u89e3\u51b3\u8be5\u95ee\u9898\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u53ef\u4ee5\u8fbe\u5230 \\(O(n^k)\\) \u3002\u90a3\u4e48\u8fd9\u5c31\u662f P \u7c7b\u95ee\u9898\u3002\u6bd4\u5982\u8bf4\uff0c\u6392\u5e8f\u7b97\u6cd5\u5c31\u662f P \u7c7b\u95ee\u9898\uff0c\u521d\u5b66\u8005\u5b66\u4e60\u7684\u5192\u6ce1\u6392\u5e8f\uff0c\u4e5f\u53ea\u9700\u8981 \\(O(n^2)\\) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002</p> <p>\u5bf9\u6709\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u4e0d\u77e5\u9053\u4ed6\u80fd\u5426\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\uff0c\u4f46\u662f\uff0c\u7ed9\u4e00\u4e2a\u8fd9\u4e2a\u95ee\u9898\u7684\u7b54\u6848\uff0c\u6211\u4eec\u53ef\u4ee5\u201c\u8f83\u4e3a\u5bb9\u6613\u201d\u5730\u9a8c\u8bc1\u8fd9\u4e2a\u7b54\u6848\u662f\u5426\u786e\u5b9e\u662f\u8fd9\u4e2a\u95ee\u9898\u7684\u89e3\uff1b\u5c31\u662f\u8bf4\uff0c\u5b58\u5728\u4e00\u4e2a\u591a\u9879\u5f0f\u65f6\u95f4\u7684\u9a8c\u8bc1\u7b97\u6cd5\u3002\u8fd9\u7c7b\u95ee\u9898\u7684\u7edf\u79f0\u4e3a NP \u7c7b\u95ee\u9898\uff08nondeterministic polynomial time\uff09\u3002</p> <p>\u4e3e\u4e66\u672c\u4e0a\u7684\u54c8\u5bc6\u987f\u56de\u8def\u95ee\u9898\uff1a\u65e0\u5411\u56fe \\(G(V,E)\\) \u4e2d\u7684\u4e00\u6761\u54c8\u5bc6\u987f\u56de\u8def\u662f\u901a\u8fc7 V \u4e2d\u6bcf\u4e00\u4e2a\u9876\u70b9\u4e00\u6b21\u7684\u7b80\u5355\u56de\u8def\u3002\u95ee\u9898\u662f\uff1a\u5bf9\u4e00\u4e2a\u7ed9\u5b9a\u7684\u65e0\u5411\u56fe\uff0c\u5224\u65ad\u5176\u662f\u5426\u5b58\u5728\u4e00\u6761\u54c8\u5bc6\u987f\u56de\u8def\u3002</p> <p>\u8003\u8651\u6734\u7d20\u7684\u6c42\u89e3\u7b97\u6cd5\u662f\uff0c\u5168\u6392\u5217 V \u4e2d\u7684\u6240\u6709\u70b9\uff0c\u4e00\u4e2a\u4e2a\u5224\u65ad\u5176\u662f\u5426\u6ee1\u8db3\u56de\u8def\u7684\u6761\u4ef6\u3002\u5982\u679c\u6709 n \u4e2a\u70b9\uff0c\u590d\u6742\u5ea6\u662f \\(O(n!)\\)\uff0c\u6bd4 \\(O(2^n)\\) \u8fd8\u5938\u5f20\u3002\u8fd9\u4e2a\u7b97\u6cd5\u4e0d\u662f\u591a\u9879\u5f0f\u65f6\u95f4\u7684\u3002</p> <p>\u4f46\u662f\uff0c\u8981\u9a8c\u8bc1\u4e00\u4e2a\u56de\u8def\u662f\u5426\u662f\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u5219\u5f88\u7b80\u5355\uff1a\u9a8c\u8bc1\u56de\u8def\u662f\u5426\u662f V \u7684\u4e00\u4e2a\u6392\u5217\uff0c\u518d\u9a8c\u8bc1\u56de\u8def\u4e2d\u7684\u6bcf\u6761\u8fb9\u662f\u5426\u51fa\u73b0\u5728\u56fe\u4e2d\u3002\u5982\u679c\u6709 n \u4e2a\u70b9\uff0c\u90a3\u9a8c\u8bc1\u7b97\u6cd5\u5e94\u8be5 \\(O(n)\\) \u5c31\u53ef\u4ee5\u5b8c\u6210\u4e86\u3002</p> <p>\u6211\u4eec\u76ee\u524d\u8fd8\u4e0d\u77e5\u9053\u54c8\u5bc6\u987f\u56de\u8def\u662f\u5426\u662f P \u7c7b\u95ee\u9898\uff0c\u4f46\u662f\u53ef\u4ee5\u80af\u5b9a\uff0c\u6839\u636e\u4e0a\u8ff0\u7684\u5206\u6790\uff0c\u5b83\u662f\u4e00\u4e2a NP \u7c7b\u95ee\u9898\u3002</p> <p>\u5f88\u663e\u7136\uff0c\\(P \\subseteq NP\\)\u3002\u6c42\u89e3\u8fc7\u7a0b\u672c\u8eab\u5c31\u9700\u8981\u9a8c\u8bc1\u89e3\u662f\u5426\u662f\u95ee\u9898\u7684\u89e3\u3002\u5982\u679c\u9a8c\u8bc1\u7b97\u6cd5\u4e0d\u662f\u591a\u9879\u5f0f\u65f6\u95f4\uff0c\u5219\u6c42\u89e3\u7b97\u6cd5\u4e0d\u662f\u591a\u9879\u5f0f\u65f6\u95f4\uff0c\u4e0e P \u7684\u5b9a\u4e49\u77db\u76fe\u3002</p> <p>\u76ee\u524d\u8fd8\u672a\u77e5\u9053\u662f\u5426\u6709 \\(P=NP\\)\u3002\u4ece\u7ecf\u9a8c\u6765\u8bf4\uff0c\u9a8c\u8bc1\u95ee\u9898\u7684\u89e3\u5f80\u5f80\u6bd4\u6c42\u89e3\u95ee\u9898\u672c\u8eab\u7b80\u5355\u7684\u591a\uff0c\u6240\u4ee5\u66f4\u591a\u4eba\u6301\u5426\u5b9a\u6001\u5ea6\u3002</p>"},{"location":"algorithm/np/#2","title":"2. \u95ee\u9898\u5f52\u7ea6","text":"<p>\u6211\u4eec\u60f3\u6c42\u89e3\u4e00\u4e2a\u95ee\u9898 \\(Q\\)\uff0c\u53ef\u4ee5\u5148\u53bb\u6c42\u89e3\u53e6\u4e00\u4e2a\u95ee\u9898 \\(Q'\\)\uff0c\u5982\u679c\u4e24\u4e2a\u95ee\u9898\u7684\u89e3\u662f\u76f8\u540c\u7684\uff08\u53ef\u4ee5\u4e00\u4e00\u5bf9\u5e94\u7684\uff09\uff0c\u5e76\u4e14\u8fdb\u884c\u95ee\u9898\u8f6c\u5316\u7684\u7b97\u6cd5\u53ea\u9700\u591a\u9879\u5f0f\u65f6\u95f4\uff0c\u90a3\u4e48\u53ef\u4ee5\u8bf4 \\(Q\\) \u53ef\u4ee5\u88ab\u5f52\u7ea6\u6210\u53e6\u4e00\u4e2a\u95ee\u9898 \\(Q'\\)\uff0c\u53ef\u4ee5\u5199\u4f5c \\(Q \\leq_p Q'\\)</p> <p>\u4e0b\u9762\u4e3e\u4e00\u4e9b\u95ee\u9898\u5f52\u7ea6\u7684\u4f8b\u5b50\u3002</p> <p>\u5e03\u5c14\u53ef\u6ee1\u8db3\u6027\u95ee\u9898\uff08SAT\uff09\u662f\u7ecf\u5178\u7684\u95ee\u9898\u3002\u7ed9\u5b9a\u4e00\u4e2a\u903b\u8f91\u8868\u8fbe\u5f0f\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e00\u7ec4\u53d8\u91cf\u8d4b\u503c\u4f7f\u8868\u8fbe\u5f0f\u4e3a\u771f\u3002</p> <p>3-SAT \u53ef\u6ee1\u8db3\u6027\u95ee\u9898\u5219\u662f\u7279\u6b8a\u60c5\u51b5\uff0c\u7ed9\u5b9a\u7684\u903b\u8f91\u8868\u8fbe\u5f0f\u5fc5\u987b\u662f\u5408\u53d6\u8303\u5f0f\uff08CNF\uff09\uff1a\u903b\u8f91\u8868\u8fbe\u5f0f\u662f\u6240\u6709\u5b50\u53e5\u7684\u4e0e\uff0c\u6240\u6709\u5b50\u53e5\u662f 3 \u4e2a\u6587\u5b57\u7684\u6216\u3002\u5982\uff1a\\((a \\lor b \\lor c) \\land (\\neg a \\lor \\neg b \\lor \\neg c)\\)\u3002</p> <p>\u6211\u77e5\u9053\u4efb\u610f\u7684\u903b\u8f91\u8868\u8fbe\u5f0f\u90fd\u53ef\u4ee5\u8f6c\u5316\u6210 3-CNF\uff0c\u8bf4\u660e\u8f6c\u5316\u7684\u7b97\u6cd5\u662f\u591a\u9879\u5f0f\u65f6\u95f4\u7684\u5c31\u53ef\u4ee5\u4e86\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b8c\u6210\u4e86\u4e00\u4e2a\u95ee\u9898\u7684\u5f52\u7ea6\u3002</p> <p>3-SAT \u95ee\u9898\u53c8\u53ef\u4ee5\u5f52\u7ea6\u6210\u56e2\u95ee\u9898\uff08CLIQUE\uff09\uff1a\u56e2\u662f\u56fe G \u7684\u4e00\u4e2a\u9876\u70b9\u5b50\u96c6\uff0c\u6bcf\u4e00\u5bf9\u9876\u70b9\u4e4b\u95f4\u90fd\u6709 G \u4e2d\u7684\u4e00\u6761\u8fb9\u8fde\u63a5\u3002\u56e2\u95ee\u9898\u662f\u5224\u65ad\u56fe G \u4e2d\u662f\u5426\u6709\u89c4\u6a21\u4e3a k \u7684\u56e2\u3002\uff08\u89c4\u6a21\u662f\u56e2\u7684\u9876\u70b9\u6570\uff09\u3002\u5177\u4f53\u8fc7\u7a0b\u53ef\u4ee5\u89c1\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u3002</p> <p>\u56e2\u95ee\u9898\u53ef\u4ee5\u5f52\u7ea6\u6210\u9876\u70b9\u8986\u76d6\uff08VERTEX_COVER\uff09\u95ee\u9898\uff0c\u9876\u70b9\u8986\u76d6\u95ee\u9898\u53c8\u53ef\u4ee5\u5f52\u7ea6\u6210\u54c8\u5bc6\u987f\u56de\u8def\uff08HAM-CYCLE\uff09\u95ee\u9898\uff0c\u54c8\u5bc6\u987f\u56de\u8def\u95ee\u9898\u5f52\u7ea6\u6210\u65c5\u884c\u5546\uff08TSP\uff09\u95ee\u9898\u3002</p>"},{"location":"algorithm/np/#3-np-complete","title":"3. NP-complete","text":"<p>\\(Q \\leq_p Q'\\)\uff0c\u95ee\u9898\u5f52\u7ea6\u8bf4\u660e\u4e86\u4ec0\u4e48\u5462\uff1f\u53ef\u4ee5\u8bf4\u660e\u4e24\u4e2a\u95ee\u9898\u51e0\u4e4e\u662f\u4e00\u6837\u96be\u3002</p> <p>\u6709\u8fd9\u6837\u4e00\u7c7b\u95ee\u9898 \\(Q\\)\uff0c\u5b83\u975e\u5e38\u7684\u96be\u3002\u5b83\u6ee1\u8db3\u4e86\u8fd9\u6837\u7684\u5b9a\u4e49\uff0c\u5bf9 np \u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u95ee\u9898 \\(Q'\\)\uff0c\u90fd\u53ef\u4ee5\u5f52\u7ea6\u6210 \\(Q\\)\uff0c\u5373 \\(\\forall Q' \\in \\text{np}, Q' \\leq_p Q\\)\u3002\u8fd9\u6837\u7684\u95ee\u9898 \\(Q\\) \u79f0\u4e3a NP-hard \u95ee\u9898\u3002</p> <p>\u5982\u679c\u95ee\u9898 \\(Q\\) \u81ea\u5df1\u53c8\u662f\u4e00\u4e2a NP \u7c7b\u7684\u95ee\u9898\uff0c\u90a3\u4e48 \\(Q\\) \u662f\u4e00\u4e2a NP-complete \u95ee\u9898\u3002</p> <p>\u6839\u636e\u5b9a\u4e49\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4e0b\u9762\u7ed3\u8bba\uff1a\u82e5\u4efb\u610f\u4e00\u4e2a NP-complete \u95ee\u9898\u90fd\u53ef\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u6c42\u89e3\uff0c\u5219 \\(P=NP\\)\uff08\u8bc1\u660e\uff1a\u524d\u63d0\u53ef\u4ee5\u5bfc\u81f4 \\(NP \\subseteq P\\)\uff09\u3002\u53cd\u4e4b\uff0c\u82e5\u5b58\u5728\u4e00\u4e2a NP \u4e2d\u7684\u95ee\u9898\u4e0d\u662f\u591a\u9879\u5f0f\u65f6\u95f4\u53ef\u6c42\u89e3\uff0c\u5219\u6240\u6709 NP-complete \u95ee\u9898\u90fd\u4e0d\u53ef\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u6c42\u89e3\u3002</p> <p>\u7b2c\u4e00\u4e2a\u88ab\u8bc1\u660e\u4e86 NP-complete \u7684\u95ee\u9898\u5c31\u662f\u5e03\u5c14\u53ef\u6ee1\u8db3\u6027\u95ee\u9898\u3002Cook-Levin \u5b9a\u7406\u3002</p> <p>\u7136\u540e\uff0c\u5728 2 \u4e2d\u4e3e\u4f8b\u4e86\u95ee\u9898\u5f52\u7ea6\u7684\u4f8b\u5b50\uff1a</p> \\[ \\text{SAT} \\leq_p \\text{3-SAT} \\leq_p \\text{CLIQUE}\\leq_p \\text{VERTEX-COVER} \\leq_p \\text{HAM-CYCLE} \\leq_p \\text{TSP} \\] <p>\u8fd9\u91cc\u7684\u95ee\u9898\u90fd\u662f NP \u95ee\u9898\uff0c\u6839\u636e\u5b9a\u4e49\uff0c\u5c31\u90fd\u662f NP-complete \u95ee\u9898\u4e86\uff08\\(\\leq_p\\) \u6709\u4f20\u9012\u6027\uff09\u3002\u6bd4\u5982\u8bf4\uff0c\u6211\u4eec\u4e00\u5f00\u59cb\u63d0\u5230\u7684\u54c8\u5bc6\u987f\u56de\u8def\u95ee\u9898\uff0c\u5c31\u662f\u4e00\u4e2a NP-complete \u95ee\u9898\u3002</p> <p>\u76ee\u524d\uff0c\u6211\u4eec\u8fd8\u672a\u627e\u5230\u4efb\u4f55\u7b97\u6cd5\u80fd\u591f\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\u54ea\u6015\u4e00\u4e2a NP-complete \u95ee\u9898\uff08\u603b\u662f\u8981\u6307\u6570\u65f6\u95f4\uff09\u3002\u53ef\u662f\uff0c\u6211\u4eec\u4e5f\u6ca1\u80fd\u8bc1\u660e\u8fd9\u4e9b\u95ee\u9898\u5c31\u662f\u4e0d\u53ef\u80fd\u5c5e\u4e8e P\u3002</p> <p>\u90a3\u53ea\u597d\u6298\u4e2d\uff0c\u78b0\u5230\u4e00\u4e2a\u65b0\u95ee\u9898\uff0c\u6216\u8005\u60f3\u529e\u6cd5\u60f3\u4e00\u4e2a\u9ad8\u6548\u7b97\u6cd5\uff0c\u6216\u8005\u60f3\u529e\u6cd5\u5c06\u5b83\u5f52\u7ea6\u6210\u4e00\u4e2a NP-complete \u95ee\u9898\uff0c\u8bf4\u660e\u5b83\u5f88\u96be\u3002</p> <p>\u8bfb\u4e86\u300a\u7b97\u6cd5\u300b\u548c\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u5199\u7684\u7b14\u8bb0\uff0c\u4ee5\u524d\u4e00\u76f4\u6ca1\u6709\u770b\u61c2\uff0c\u4eca\u5929\u770b\u4e86\uff0c\u611f\u89c9\u4e0d\u662f\u5f88\u96be\uff0c\u4f46\u8fd8\u662f\u8bb0\u5f55\u4e00\u4e0b\u5427\uff0c\u7b97\u662f\u4e86\u89e3\u4e86\u65b0\u77e5\u8bc6\u3002\u300a\u7b97\u6cd5\u5bfc\u8bba\u300b\u4e2d\u7ed9\u51fa\u4e86\u975e\u5e38\u4e25\u683c\u7684\u5f62\u5f0f\u5316\u5b9a\u4e49\uff0c\u53ef\u4ee5\u770b\u770b\u3002</p>"},{"location":"algorithm/search/DFS/","title":"DFS","text":""},{"location":"algorithm/search/DFS/#_1","title":"\u4ecb\u7ecd","text":"<p>dfs \u5e94\u8be5\u662f\u6211\u7528\u7684\u6b21\u6570\u6700\u591a\u7684\u641c\u7d22\u65b9\u6cd5\u4e86\u3002\u53ea\u8981\u662f\u548c\u904d\u5386\u76f8\u5173\u7684\uff0c\u7ecf\u5e38\u5c31\u4f1a\u7528\u5230 dfs\u3002\u4e2a\u4eba\u8ba4\u4e3a\u5b83\u548c\u56de\u6eaf\u6cd5\u57fa\u672c\u4e0a\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u6211\u5c31\u4e0d\u52a0\u533a\u5206\u4e86\u3002</p> <p>\u867d\u7136\u95ee\u9898\u7684\u5f62\u5f0f\u53ef\u80fd\u5f88\u4e0d\u4e00\u6837\uff0c\u4f46\u662f dfs \u7684\u5199\u6cd5\u57fa\u672c\u4e0a\u5c31\u662f\u540c\u4e00\u4e2a\u6a21\u7248\uff1a <pre><code>dfs:\n    1. \u5982\u679c\u5df2\u7ecf\u5b8c\u6210\u8d4b\u503c\uff08\u5230\u9012\u5f52\u51fa\u53e3\u4e86\uff09\n        \u5224\u65ad\u662f\u5426\u662f\u89e3\uff0c\u5e76\u64cd\u4f5c\n\n    2. \u786e\u5b9a\u4e00\u4e2a\u5f53\u524d\u672a\u8d4b\u503c\u7684 var\n    3. \u5bf9\u8fd9\u4e2a var \u6240\u6709\u53ef\u80fd\u7684\u503c\u8fdb\u884c\u5faa\u73af\n        1. \u5c06\u8fd9\u4e2a var \u8d4b\u503c value\n        2. \u5224\u65ad value \u662f\u5426\u6ee1\u8db3\u7ea6\u675f\u6761\u4ef6\n            1. \u82e5\u6ee1\u8db3\u7ea6\u675f\uff0c\u5219\u8fdb\u884c\u4e0b\u4e00\u5c42\u9012\u5f52\n                dfs(next)\n            2. \u4e0d\u6ee1\u8db3\u7ea6\u675f\uff0c\u5c31\u9009\u62e9\u4e0b\u4e00\u4e2a value \u8d4b\u503c\n    4. \u5982\u679c\u5230\u8fd9\u91cc\uff0c\u8bf4\u660e\u5df2\u7ecf\u904d\u5386\u5b8c\u4e86\u6240\u6709 var \u503c\u3002\u8bf4\u660e\u6ca1\u6709\u66f4\u591a\u7684\u89e3\u4e86\uff0c\u5f80\u56de\u9000\u5427\u3002\n</code></pre> \u57fa\u672c\u4e0a\u5c31\u662f\u8fd9\u4e2a\u7ed3\u6784\uff0c\u53ef\u80fd\u4f1a\u6709\u7565\u5fae\u7684\u6539\u52a8\u3002\u6bd4\u5982\u8bf4\uff0c\u53ea\u627e\u4e00\u4e2a\u89e3\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u628a dfs \u7684\u8fd4\u56de\u503c\u8bbe\u6210 bool\uff0c\u627e\u5230\u89e3\u5c31\u76f4\u63a5 return \u5373\u53ef\uff0c\u4e0d\u7528\u5728\u5faa\u73af\u91cc\u9762\u7ee7\u7eed\u904d\u5386\u4e86\u3002</p> <p>\u53e6\u5916\uff0c\u5224\u65ad\u7ea6\u675f\u6761\u4ef6\u8fd9\u6b65\u53ef\u80fd\u7b80\u5355\uff0c\u4e5f\u53ef\u80fd\u5f88\u96be\u3002\u5728\u4eba\u5de5\u667a\u80fd\u8bfe\u4e0a\u8fd8\u4e13\u95e8\u82b1\u4e00\u7ae0\u8ba8\u8bba\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u662f CSP(constraint satisfaction problems)\uff0c\u7ea6\u675f\u6ee1\u8db3\u95ee\u9898\u3002\u6709\u591a\u4e2a\u7ea6\u675f\u6761\u4ef6\u65f6\uff0c\u7528 AC-3 \u5f27\u76f8\u5bb9\u7b97\u6cd5\u6765\u5904\u7406\u7ea6\u675f\u6761\u4ef6\u3002</p> <p>\u4e0b\u9762\u770b\u51e0\u4e2a\u4f8b\u5b50\u5427\uff1a</p>"},{"location":"algorithm/search/DFS/#_2","title":"\u6570\u72ec\u95ee\u9898","text":"<p>https://leetcode.cn/problems/sudoku-solver/description/</p> <p>\u7ed9\u4f60\u4e00\u4e2a\u6570\u72ec\uff0c\u89e3\u8fd9\u4e2a\u6570\u72ec\u3002</p> <p>\u6ca1\u5565\u597d\u6ce8\u610f\u7684\uff0c\u76f4\u63a5\u8d34\u89e3\u6cd5\u4e86\uff1a <pre><code>class Solution {\npublic:\n    void solveSudoku(vector&lt;vector&lt;char&gt;&gt;&amp; board) {\n        dfs(board);\n    }\n    bool dfs(vector&lt;vector&lt;char&gt;&gt;&amp; board){\n        for(int i=0;i&lt;9;i++){\n            for(int j=0;j&lt;9;j++){\n                // \u786e\u5b9a\u4e0b\u4e00\u4e2a\u5f85\u8d4b\u503c\u7684var\n                if(board[i][j]!='.'){\n                    continue;\n                }else{\n                    // \u904d\u5386\u6240\u6709\u53ef\u80fd\u7684\u8d4b\u503c\n                    for(char k=1+'0';k&lt;=9+'0';k++){\n                        board[i][j] = k;\n                        // \u5224\u65ad\u662f\u5426\u6ee1\u8db3\u7ea6\u675f\u6761\u4ef6\n                        if(!isValidSudoku(board)){\n                            board[i][j] = '.';\n                            continue;\n                        }else{\n                            //\u8fdb\u884c\u4e0b\u4e00\u5c42\u9012\u5f52\u3002\u8fd9\u91cc\u53ea\u9700\u627e\u4e00\u4e2a\u89e3\uff0cdfs\u5c31\u8bbe\u6210bool\u53d8\u91cf\u4e86\n                            if(dfs(board)){\n                                return true;\n                            }else{\n                                board[i][j] = '.';\n                            }\n                        }\n                    }\n                    return false;\n                }\n\n            }\n        }\n        return true;\n    }\n    bool isValidSudoku(vector&lt;vector&lt;char&gt;&gt;&amp; board) {\n        bool shu[10][10]={false};\n        bool heng[10][10]= {false};\n        bool fang[4][4][10]= {false};\n\n        for(int i=0;i&lt;9;i++){\n            for(int j=0;j&lt;9;j++){\n                if(board[i][j]=='.'){\n                    continue;\n                }else if(heng[i][board[i][j]-'0']==true || shu[j][board[i][j]-'0'] == true \n|| fang[(i)/3][(j)/3][board[i][j]-'0']==true){\n                    return false;\n                }else{\n                    heng[i][board[i][j]-'0'] = true;\n                    shu[j][board[i][j]-'0'] = true;\n                    fang[(i)/3][(j)/3][board[i][j]-'0'] = true;\n                }\n            }\n        }\n        return true;\n\n    }\n\n};\n</code></pre></p>"},{"location":"algorithm/search/DFS/#n","title":"n\u7687\u540e\u95ee\u9898","text":"<p>https://leetcode.cn/problems/n-queens/</p> <p>dfs \u548c\u6808\u5173\u7cfb\u5bc6\u5207\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6808\u6765\u4fdd\u5b58\u5148\u524d\u7684\u7ed3\u679c\u3002</p> <pre><code>int count = 0; //\u4fdd\u5b58\u89e3\u7684\u4e2a\u6570\nint main() {\n    int N; //N \u662f\u7687\u540e\u4e2a\u6570\n    int stack[]; //\u56de\u6eaf\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6808\u4fdd\u5b58\u5148\u524d\u7684\u7ed3\u679c\n    // \u6bd4\u65b9\u8bf4\u8fd9\u91cc\uff0c\u6211\u4eec\u5b58\u50a8\u6bcf\u4e00\u5217\u653e\u7687\u540e\u7684\u884c\u6570\u3002\n    seek(stack, 0, N); \n    return 0;\n}\nvoid seek(int st[],int k,int N){\n    //k \u8868\u793a\u5f53\u524d\u662f\u7b2c k \u5217\uff0c\u76f8\u5f53\u4e8e\u6a21\u7248\u91cc\u786e\u5b9a\u672a\u8d4b\u503c\u7684 var \u7684\u4f5c\u7528\n    for(int i=0;i&lt;N;i++){\n        if(!(conflict(st,k,i))){ \n            st[k]=i;//\u52a0\u5165\n            if(k==N-1){\n                printres(st,N);\n                count++;\n            }\n            else seek(st,k+1,N); //\u5411\u4e0bdfs\n            st[k]=-1; //\u53d6\u51fa      \n        }  //\u5178\u578b\u7684dfs\u6a21\u677f\n\n    } \n}\n\nbool conflict(int st[], int k, int i){\n    // \u5224\u65ad\u6709\u65e0\u51b2\u7a81\n    for(int j=0;j&lt;=k;j++){\n        if(abs(j-k)==abs(st[j]-i) || st[j]==i){\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>"},{"location":"algorithm/search/DFS/#pat-top-1006","title":"PAT Top 1006","text":"<p>https://pintia.cn/problem-sets/994805148990160896/exam/problems/994805154321121280?type=7&amp;page=0</p> <p>\u8fd9\u9053\u9898\u7684\u5927\u610f\u662f\uff0c\u544a\u8bc9\u4f60\u6811\u7684\u5143\u7d20\u4e2a\u6570\uff0c\u548c\u6b8b\u7f3a\u7684\u524d\u5e8f\u4e2d\u5e8f\u540e\u5e8f\u904d\u5386\uff0c\u5224\u65ad\u662f\u5426\u80fd\u8fd8\u539f\u552f\u4e00\u7684\u904d\u5386\uff0c\u82e5\u53ef\u4ee5\u7684\u8bdd\uff0c\u7ed9\u51fa\u5c42\u5e8f\u904d\u5386\u3002 \u6bd4\u5982\u8f93\u5165\u662f <pre><code>9\n3 - 2 1 7 9 - 4 6\n9 - 5 3 2 1 - 6 4\n3 1 - - 7 - 6 8 -\n</code></pre> \u8981\u8f93\u51fa <pre><code>3 5 2 1 7 9 8 4 6\n9 7 5 3 2 1 8 6 4\n3 1 2 5 7 4 6 8 9\n9 7 8 5 6 3 2 4 1\n</code></pre> \u90a3\u4e48\u8fd9\u9053\u9898\u7684\u601d\u8def\u4e5f\u662f\u4e00\u6837\u7684\u3002\u7528 dfs \u5bf9\u6bcf\u4e00\u4e2a\u7a7a\u6240\u6709\u53ef\u80fd\u7684\u503c\u8fdb\u884c\u904d\u5386\uff0c\u7ea6\u675f\u6761\u4ef6\u662f\u5224\u65ad\u80fd\u5426\u6784\u6210\u4e00\u4e2a\u6811\u3002\u5c55\u5f00\u8bb2\u8bb2\u7ea6\u675f\u6761\u4ef6\uff1a\u5982\u679c\u8fd8\u6709\u7a7a\u7684\u6570\u5b57\uff0c\u5219\u4e0d\u505a\u5224\u65ad\uff0c\u76f4\u63a5\u8fd4\u56de\u771f\u503c\u3002\u666e\u901a\u60c5\u51b5\u5c31\u662f\u5229\u7528\u4e8c\u53c9\u6811\u7684\u6027\u8d28\uff0c\u6811\u6839\u7b49\u4e8e\u5148\u5e8f\u904d\u5386\u4e4b\u9996\u7b49\u4e8e\u540e\u5e8f\u904d\u5386\u4e4b\u5c3e\uff0c\u5728\u4e2d\u5e8f\u904d\u5386\u4e2d\u627e\u5230\u6811\u6839\uff0c\u627e\u5230\u6811\u6839\u5c31\u53ef\u4ee5\u5728\u4e2d\u5e8f\u904d\u5386\u4e2d\u5206\u6210\u5de6\u53f3\u4e24\u68f5\u5b50\u6811\uff0c\u5229\u7528\u5206\u6cbb\u6cd5\u6765\u5224\u65ad\u4e86\u3002\u5728\u5176\u4e2d\u5982\u679c\u78b0\u5230\u77db\u76fe\u7684\u5730\u65b9\uff08\u5982\u5143\u7d20\u4e2a\u6570\u4e0d\u7b49\uff0c\u627e\u4e0d\u5230\u6811\u6839\uff0c\u5148\u5e8f\u9996\u4e0d\u7b49\u4e8e\u540e\u5e8f\u5c3e\uff0c\u7b49\u7b49\uff09\uff0c\u5c31\u610f\u5473\u7740\u7ea6\u675f\u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u8d4b\u503c\u4e0d\u6b63\u786e\u3002</p> <p>\u5f97\u5230\u4e00\u4e2a\u89e3\u540e\uff0c\u5b58\u50a8\u5b83\uff1b\u5f97\u5230\u7b2c\u4e8c\u4e2a\u89e3\uff0c\u5c31\u76f4\u63a5\u9000\u51fa\u9012\u5f52\u3002\u53ea\u6709\u89e3\u7684\u4e2a\u6570\u7b49\u4e8e 1 \u624d\u8bf4\u660e\u6709\u89e3\u3002</p> <p>\u4ee3\u7801\u6bd4\u8f83\u5197\u957f\uff0c\u5c31\u4e0d\u653e\u4e86\uff0c\u56e0\u4e3a\u5f97\u5230\u89e3\u540e\uff0c\u8fd8\u8981\u5199\u5c42\u5e8f\u904d\u5386\u7684\u4ee3\u7801\u3002\u6709\u8da3\u7684\u662f\uff0c\u7f51\u4e0a\u80fd\u627e\u5230\u7684\u4ee3\u7801\u867d\u7136\u80fd AC\uff0c\u4f46\u662f\u5e76\u4e0d\u80fd\u901a\u8fc7\u6240\u6709\u6d4b\u8bd5\uff0c\u8bf4\u660e\u8fd9\u9053\u9898\u786e\u5b9e\u662f\u6709\u70b9\u513f\u96be\u5ea6\u7684\u3002</p> <p>\u6211\u81ea\u8ba4\u4e3a\u4e0a\u9762\u8bf4\u7684\u601d\u8def\u6bd4\u8f83\u6e05\u6670\u4e86\uff0c\u611f\u89c9\u5c31\u597d\u50cf\u662f\u642d\u597d\u623f\u5b50\u4ee5\u540e\u62c6\u6389\u811a\u624b\u67b6\u7684\u7ed3\u679c\uff0c\u54c8\u54c8\uff0c\u5b9e\u9645\u4e0a\u4e4b\u524d\u9677\u5165\u4e86\u4e00\u4e2a\u522b\u7684\u601d\u8def\uff0c\u90a3\u79cd\u65b9\u6cd5\u6709\u4e9b\u5730\u65b9\u5f88\u96be\u5904\u7406\uff0c\u82b1\u4e86\u5f88\u4e45\u7684\u65f6\u95f4\u3002</p>"},{"location":"algorithm/search/DFS/#_3","title":"\u7ec3\u4e60","text":"<p>DFS \u7684\u9898\u76ee\u975e\u5e38\u591a\uff0c\u7ec3\u4e60\u4e00\u4e0b\u3002</p> <p>\u5168\u6392\u5217\uff1ahttps://leetcode.cn/problems/permutations/</p> <p>\u7ec4\u5408\u603b\u548c\uff1ahttps://leetcode.cn/problems/combination-sum/</p> <p>24\u70b9\uff1ahttps://leetcode.cn/problems/24-game/description/</p>"},{"location":"chem/balance/","title":"\u914d\u5e73\u5316\u5b66\u65b9\u7a0b\u5f0f","text":"<p>\u4ece\u524d\u6709\u4e00\u4e2a\u4eba\u95ee\u8fc7\u8fd9\u6837\u4e00\u4e2a\u5947\u602a\u7684\u95ee\u9898\uff1a\u4e3a\u4ec0\u4e48\u5199\u51fa\u6765\u7684\u65b9\u7a0b\u5f0f\u4e00\u5b9a\u662f\u53ef\u4ee5\u914d\u5e73\u7684\u5462\uff1f\u6211\u4eec\u9010\u6b65\u5206\u6790\u4e00\u4e0b\uff0c\u9996\u5148\uff0c\u914d\u5e73\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u7ed9\u51fa\u4e00\u4e2a\u5316\u5b66\u53cd\u5e94\u7684\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\uff0c\u6211\u4eec\u627e\u5230\u4e00\u7ec4\u7cfb\u6570\u4f7f\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\u7684\u8d28\u91cf\u5b88\u6052\u3002\u5316\u5b66\u53cd\u5e94\u6700\u4e3b\u8981\u7684\u5047\u8bbe\u5c31\u662f\u8d28\u91cf\u5b88\u6052\u5b9a\u5f8b\uff0c\u53cd\u5e94\u524d\u540e\u5404\u5143\u7d20\u7684\u91cf\u76f8\u7b49\u3002\u6211\u4eec\u5c06\u4e4b\u770b\u505a\u4e00\u79cd\u516c\u7406\u3002</p> <p>\u90a3\u4e48\uff0c\u663e\u7136\u5e76\u4e0d\u662f\u968f\u4fbf\u5199\u7684\u4e00\u4e2a\u5316\u5b66\u65b9\u7a0b\u5f0f\u90fd\u53ef\u4ee5\u914d\u5e73\u7684\uff0c\u53c2\u4e0e\u5316\u5b66\u53cd\u5e94\u7684\u5143\u7d20\u5e94\u5f53\u5728\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\u4e2d\u5747\u6709\u51fa\u73b0\u3002</p> <p>\u7136\u540e\u90a3\u4e2a\u4eba\u5c31\u7ee7\u7eed\u95ee\uff1a\u90a3\u4e48\uff0c\u4e3a\u4ec0\u4e48\u73b0\u5b9e\u4e2d\u51fa\u73b0\u7684\u5316\u5b66\u53cd\u5e94\u5c31\u4e00\u5b9a\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u53ef\u4ee5\u914d\u5e73\u7684\u5316\u5b66\u53cd\u5e94\u65b9\u7a0b\u5f0f\u5462\uff1f</p> <p>\u6709\u4e00\u4e2a\u4eba\u4e0d\u8010\u70e6\u5730\u56de\u7b54\u8bf4\uff0c\u73b0\u5b9e\u4e2d\u51fa\u73b0\u5316\u5b66\u53cd\u5e94\u5fc5\u5b9a\u8d28\u91cf\u5b88\u6052\u3002\u56e0\u4e3a\u201c\u5b58\u5728\u201d\u8fd9\u6837\u7684\u53cd\u5e94\uff0c\u6240\u4ee5\u63cf\u8ff0\u8fd9\u4e2a\u53cd\u5e94\u7684\u65b9\u7a0b\u5f0f\u4e00\u5b9a\u53ef\u4ee5\u914d\u5e73\u3002\u77e5\u9053\u4f60\u770b\u4e0d\u61c2\u8fd9\u53e5\u8bdd\uff0c\u8981\u53cd\u9a73\u8bf4\u6211\u53ea\u662f\u63cf\u8ff0\u95ee\u9898\u3002\u90a3\u4e48\u4f60\u7528\u53cd\u8bc1\u6cd5\u60f3\u597d\u4e86\uff1a\u5982\u679c\u8fd9\u4e2a\u53cd\u5e94\u7684\u5316\u5b66\u65b9\u7a0b\u5f0f\u4e0d\u53ef\u4ee5\u914d\u5e73\uff0c\u610f\u5473\u7740\u4e0d\u5b58\u5728\u7cfb\u6570\u4f7f\u5f97\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\u7684\u8d28\u91cf\u5b88\u6052\u3002\u90a3\u4e48\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u8be5\u53cd\u5e94\u8d28\u91cf\u4e0d\u5b88\u6052\uff0c\u6211\u4eec\u6392\u9664\u8fd9\u79cd\u60c5\u51b5\uff1b\u4e8c\u662f\u8fd9\u4e2a\u53cd\u5e94\u7684\u67d0\u4e2a\u53cd\u5e94\u7269\u6216\u8005\u751f\u6210\u7269\u88ab\u4f60\u9057\u6f0f\u4e86\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u8fd9\u4e48\u8bf4\uff0c\u5982\u679c\u662f\u73b0\u5b9e\u5b58\u5728\u7684\u5316\u5b66\u53cd\u5e94\uff0c\u56e0\u4e3a\u5176\u9075\u5b88\u8d28\u91cf\u5b88\u6052\u539f\u7406\uff0c\u90a3\u4e48\u7ed9\u51fa\u5b83\u7684\u6240\u6709\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\uff0c\u4e00\u5b9a\u80fd\u627e\u5230\u4e00\u7ec4\u7cfb\u6570\u4f7f\u5176\u8d28\u91cf\u5b88\u6052\u3002</p> <p>\u90a3\u4e2a\u4eba\u7ee7\u7eed\u95ee\uff1a\u662f\u7684\uff0c\u662f\u7684\uff0c\u6211\u5927\u6982\u80fd\u660e\u767d\uff0c\u73b0\u5b9e\u4e2d\u51fa\u73b0\u7684\u5316\u5b66\u53cd\u5e94\uff0c\u4e00\u5b9a\u662f\u6ee1\u8db3\u8d28\u91cf\u5b88\u6052\u539f\u7406\u7684\u3002\u662f\uff0c\u662f\uff0c\u6211\u77e5\u9053\u73b0\u5b9e\u662f\u8fd9\u6837\uff0c\u4f46\u662f\u5f53\u6211\u914d\u5e73\u4e00\u4e2a\u65b9\u7a0b\u5f0f\u65f6\uff0c\u6211\u5e76\u4e0d\u662f\u6839\u636e\u6211\u770b\u5230\u7684\uff0c\u53cd\u5e94\u524d\u540e\u7684\u539f\u5b50\u5206\u5b50\u53d8\u5316\u2014\u2014\u8fd9\u53ef\u80fd\u8981\u7528\u5f88\u597d\u7684\u663e\u5fae\u955c\u5427\u2014\u2014\u6211\u662f\u6839\u636e\u9898\u76ee\u7684\u6761\u4ef6\uff0c\u5728\u8349\u7a3f\u7eb8\u4e0a\u8fdb\u884c\u4e00\u4e9b\u8ba1\u7b97\u6765\u914d\u5e73\u7684\u3002\u53ef\u80fd\u8fd9\u91cc\u6bd4\u8f83\u62bd\u8c61\uff1a\u5f53\u6211\u5728\u7eb8\u4e0a\u5199\u4e0b\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u548c\u73b0\u5b9e\u662f\u8131\u79bb\u7684\uff0c\u6211\u53ea\u662f\u5728\u5229\u7528\u8d28\u91cf\u5b88\u6052\uff0c\u7528\u6570\u5b66\u6765\u8fdb\u884c\u8ba1\u7b97\uff0c\u5f97\u5230\u5404\u4e2a\u7cfb\u6570\u3002\u6211\u600e\u4e48\u77e5\u9053\u6bcf\u6b21\u90fd\u4f1a\u6709\u89e3\u5462\uff1f\u6211\u600e\u4e48\u77e5\u9053\u6211\u6c42\u51fa\u6765\u7684\u89e3\u662f\u6211\u60f3\u8981\u7684\u89e3\u5462\uff1f</p> <p>\u53e6\u5916\u4e00\u4e2a\u4eba\u56de\u7b54\u8bf4\uff1a\u914d\u5e73\u5c31\u662f\u6c42\u89e3\u4e00\u7ec4\u7b26\u5408\u8d28\u91cf\u5b88\u6052\u5b9a\u5f8b\u7684\u7cfb\u6570\uff0c\u90a3\u914d\u5e73\u5c31\u662f\u5b9e\u9645\u4e0a\u6c42\u89e3\u65b9\u7a0b\u4e86\u3002\u6211\u60f3\u4f60\u7684\u610f\u601d\u662f\uff1a\u4f60\u5982\u4f55\u77e5\u9053\u4f60\u6240\u6c42\u89e3\u7684\u65b9\u7a0b\u7ec4\u662f\u4e00\u5b9a\u6709\u89e3\u7684\u3002\u968f\u4fbf\u4e3e\u4e2a\u4f8b\u5b50\u5427\uff1a</p> \\[ \\mathrm{x_1CH_4 + x_2O_2 \\rightarrow x_3CO_2 + x_4H_2O} \\] <p>\u6211\u4eec\u60f3\u8981\u914d\u5e73\u7532\u70f7\u71c3\u70e7\u7684\u5316\u5b66\u65b9\u7a0b\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u5217\u51fa\u4e0b\u9762\u7684\u65b9\u7a0b\uff1a</p> \\[ \\begin{aligned}  &amp; x_1 - x_3  = 0\\\\  &amp; 4x_1 - 2x_4  = 0\\\\  &amp; 2x_2 - 2x_3 - x_4 = 0 \\end{aligned} \\] <p>\u4f60\u6709\u53d1\u73b0\u5417\uff0c\u8fd9\u662f\u4e00\u4e2a\u9f50\u6b21\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4e00\u5b9a\u662f\u6709\u89e3\u7684\u3002\u5f53\u7136\u5e73\u51e1\u5168\u4e3a\u96f6\u7684\u89e3\u6211\u4eec\u4e0d\u8003\u8651\u3002\u5c31\u8fd9\u4e2a\u65b9\u7a0b\u6765\u8bf4\uff0c\u7cfb\u6570\u77e9\u9635\u7684\u79e9\u5c0f\u4e8e\u672a\u77e5\u53d8\u91cf\u4e2a\u6570\uff0c\u90a3\u4e48\u5b83\u662f\u4e00\u5b9a\u6709\u975e\u96f6\u6574\u6570\u89e3\u7684\u3002\uff08\u76f8\u4fe1\u4f60\u5b66\u8fc7\u7ebf\u6027\u4ee3\u6570\u5427\uff09</p> <p>\u73b0\u5728\u8003\u8651\u5176\u4ed6\u7684\u5316\u5b66\u65b9\u7a0b\u5f0f\uff0c\u4f60\u4e5f\u53ef\u4ee5\u8fd9\u6837\u5217\u51fa\u7ebf\u6027\u65b9\u7a0b\u7ec4\u3002\u6211\u4e0d\u80fd\u8bf4\u201c\u4e00\u5b9a\u201d\u4f1a\u6709\u89e3\uff0c\u56e0\u4e3a\u6ca1\u6709\u8bc1\u660e\u8fc7\uff0c\u53ea\u80fd\u8bf4\u6839\u636e\u7ecf\u9a8c\uff0c\u5217\u51fa\u6765\u7684\u9f50\u6b21\u65b9\u7a0b\u7ec4\u5f80\u5f80\u662f\u4e00\u4e2a\u6b20\u5b9a\u77e9\u9635\uff0c\u5373\u65b9\u7a0b\u7ec4\u662f\u6709\u975e\u96f6\u6574\u6570\u89e3\u7684\u3002\u6211\u5927\u6982\u80fd\u7406\u89e3\u4f60\u7684\u610f\u601d\uff0c\u4e0d\u8003\u8651\u73b0\u5b9e\u7684\u8bdd\uff0c\u5176\u5b9e\u7684\u786e\u662f\u4e0d\u4e00\u5b9a\u6709\u975e\u96f6\u89e3\u7684\u3002</p> <p>\u800c\u6c42\u51fa\u6765\u7684\u89e3\uff0c\u4e5f\u672a\u5fc5\u662f\u4f60\u60f3\u8981\u7684\u89e3\u3002\u6bd4\u5982\u8bf4\uff0c\u6c27\u5316\u8fd8\u539f\u53cd\u5e94\u8981\u589e\u52a0\u7535\u8377\u5b88\u6052\u7684\u7ea6\u675f\u3002\u4e00\u4e2a\u7ecf\u5178\u7684\u4f8b\u5b50\u662f\u4e09\u4ef7\u94c1\u79bb\u5b50\u6eb6\u89e3\u94c1\uff0c\u6c42\u89e3\u65b9\u7a0b\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7ecf\u5178\u89e3\uff1a</p> \\[ \\mathrm{Fe^{3+} + Fe \\rightarrow 2Fe^{2+}} \\] <p>\u5f53\u7136\u8fd9\u662f\u4e0d\u7b26\u5408\u5b9e\u9645\u7684\uff0cAI \u4e5f\u72af\u9519\u4e86\u3002\u5b9e\u9645\u8003\u8651\u7535\u8377\u5b88\u6052\u7684\u8bdd\uff0c\u89e3\u5e94\u8be5\u5982\u4e0b\u6240\u793a\uff1a</p> \\[ 2\\mathrm{Fe^{3+} + Fe \\rightarrow 3Fe^{2+}} \\] <p>\u90a3\u4e2a\u4eba\u4e0d\u518d\u63d0\u95ee\uff0c\u800c\u662f\u56de\u7b54\u8bf4\uff1a\u4e5f\u8bb8\u6211\u61c2\u4e86\u3002\u6211\u60f3\u95ee\u7684\u95ee\u9898\u4e5f\u8bb8\u662f\u5728\u914d\u5e73\u7684\u65f6\u5019\uff0c\u5728\u8349\u7a3f\u7eb8\u4e0a\u7684\u8ba1\u7b97\u7a76\u7adf\u662f\u4ec0\u4e48\u3002\u6211\u662f\u5728\u5229\u7528\u5df2\u77e5\u6761\u4ef6\u89e3\u4e00\u4e2a\u5927\u6982\u6709\u89e3\u7684\u65b9\u7a0b\u7684\u4e92\u8d28\u6574\u6570\u89e3\u3002\u5982\u679c\u6211\u53ef\u4ee5\u89c2\u6d4b\u53cd\u5e94\uff08\u81f3\u5c11\u662f\u5b9a\u91cf\u6d4b\u91cf\uff09\uff0c\u6211\u5c31\u53ef\u4ee5\u76f4\u63a5\u586b\u51fa\u5404\u4e2a\u6570\u5b57\u3002\u4f46\u662f\u6211\u4e0d\u884c\uff0c\u6211\u53ea\u80fd\u6839\u636e\u53cd\u5e94\u7269\u548c\u751f\u6210\u7269\u6765\u89e3\u4e00\u4e2a\u4e0d\u5b9a\u65b9\u7a0b\uff0c\u5927\u81f4\u63a8\u6d4b\u53cd\u5e94\u7684\u6bd4\u4f8b\u3002\u5199\u51fa\u6765\u7684\u65b9\u7a0b\u5f0f\u4e5f\u6ca1\u6709\u201c\u6b63\u786e\u201d\u7684\u8bf4\u6cd5\uff0c\u53ea\u6709\u201c\u5408\u7406\u201d\u7684\u8bf4\u6cd5\u3002\u5408\u7406\u7684\u610f\u601d\u662f\u6211\u7684\u89e3\u6ee1\u8db3\u5df2\u77e5\u7684\u7ea6\u675f\uff0c\u6bd4\u5982\u8d28\u91cf\u5b88\u6052\u548c\u7535\u8377\u5b88\u6052\u3002</p> <p>\u90a3\u4e2a\u4eba\u7ee7\u7eed\u8bf4\uff0c\u5f53\u6211\u5fc3\u4e2d\u6d8c\u73b0\u8fd9\u4e2a\u7591\u60d1\u7684\u65f6\u5019\uff0c\u6211\u89c9\u5f97\u975e\u5e38\u96be\u53d7\uff0c\u56e0\u4e3a\u548c\u4e4b\u524d\u5b66\u4e60\u70ed\u529b\u5b66\u7684\u95ee\u9898\u4e00\u6837\uff0c\u6211\u65e0\u6cd5\u6e05\u695a\u8868\u8ff0\u95ee\u9898\u5230\u5e95\u5728\u54ea\u91cc\u3002\u4eca\u5929\u6211\u5c31\u662f\u5c1d\u8bd5\u641e\u6e05\u695a\u6211\u7684\u95ee\u9898\u7a76\u7adf\u662f\u4ec0\u4e48\u3002\u4e0e\u5176\u8bf4\u662f\u5316\u5b66\u7684\u95ee\u9898\uff0c\u4e0d\u5982\u8bf4\u662f\u201c\u8bed\u8a00\u201d\u7684\u95ee\u9898\uff0c\u592a subtle\u3002\u73b0\u5728\u7684\u6211\u5927\u6982\u662f\u6709\u8fdb\u4e00\u6b65\u7684\u8ba4\u8bc6\u4e86\u3002</p> <p>\u597d\u5427\uff0c\u90a3\u6211\u4eec\u56de\u5230\u7eaf\u7cb9\u7684\u5316\u5b66\u3002\u65e2\u7136\u5df2\u7ecf\u77e5\u9053\u914d\u5e73\u662f\u6c42\u89e3\u65b9\u7a0b\uff0c\u7f51\u4e0a\u4e5f\u5df2\u7ecf\u6709\u76f8\u5f53\u597d\u7528\u7684\u6c42\u89e3\u5668\u4e86\uff0c\u6bd4\u5982\u8fd9\u4e2a\u94fe\u63a5\uff1ahttps://blog.csdn.net/slandarer/article/details/108734172</p>"},{"location":"chem/thermo/","title":"\u5316\u5b66\u70ed\u529b\u5b66\u4e2d\u7684\u4e00\u4e9b\u95ee\u9898","text":"<p>\u4e4b\u524d\u5728\u5b66\u666e\u901a\u5316\u5b66\u7684\u65f6\u5019\uff0c\u6216\u8005\u8bf4\u9ad8\u4e2d\u5b66\u5316\u5b66\u53cd\u5e94\u539f\u7406\u7684\u65f6\u5019\uff0c\u6709\u4e9b\u95ee\u9898\u6ca1\u60f3\u660e\u767d\uff0c\u4e0d\u77e5\u4e0d\u89c9\u5c31\u62d6\u5230\u73b0\u5728\u4e86\u3002</p> <p>\u90a3\u73b0\u5728\u5c31\u5c1d\u8bd5\u89e3\u7b54\u4e00\u4e0b\u3002</p> <p>\u5176\u5b9e\u6709\u5f88\u591a\u65f6\u5019\u7684\u56f0\u60d1\u90fd\u6765\u81ea\u4e8e\u6982\u5ff5\u7684\u4e0d\u6e05\u6670\uff0c\u5f53\u4f60\u5bf9\u201c\u610f\u601d\u201d\u66f4\u52a0\u6e05\u695a\u4ee5\u540e\uff0c\u95ee\u9898\u5c31\u8fce\u5203\u800c\u89e3\u4e86\u3002</p> <p>\u4e0b\u9762\u5c31\u8bd5\u56fe\u5398\u6e05\u4e00\u4e9b\u6982\u5ff5\uff0c\u56de\u7b54\u4e00\u4e9b\u95ee\u9898\u5427\u3002</p>"},{"location":"chem/thermo/#1","title":"1. \u4ec0\u4e48\u662f\u5206\u538b\uff1f","text":"<p>\u76f4\u63a5\u6284\u767e\u5ea6\u767e\u79d1\uff1a\u6c14\u4f53\u5206\u538b\u662f\u6307\u5047\u8bbe\u4ece\u6df7\u5408\u6c14\u4f53\u7cfb\u7edf\u4e2d\u6392\u9664\u67d0\u79cd\u6c14\u4f53\u4ee5\u5916\u7684\u6240\u6709\u5176\u4ed6\u6c14\u4f53\uff0c\u800c\u4fdd\u6301\u7cfb\u7edf\u4f53\u79ef\u548c\u6e29\u5ea6\u4e0d\u53d8\uff0c\u6b64\u65f6\u6c14\u4f53\u6240\u5177\u6709\u7684\u538b\u5f3a\uff0c\u79f0\u4e3a\u6df7\u5408\u6c14\u4f53\u4e2d\u8fd9\u4e00\u79cd\u6c14\u4f53\u7684\u5206\u538b\u3002 \uff08\u5176\u5b9e\u8fd9\u4e2a\u5b9a\u4e49\u5c31\u662f\u4ece\u9053\u5c14\u987f\u5206\u538b\u5b9a\u5f8b\u8fc7\u6765\u7684\uff09\u3002</p> <p>\u4e0d\u8981\u5c0f\u770b\u8fd9\u4e2a\u6982\u5ff5\u3002\u6709\u65f6\u4f60\u53ef\u80fd\u4f1a\u9677\u5165\u8fd9\u6837\u4e00\u4e2a\u56f0\u60d1\uff1a\u5982\u679c\u5728\u6052\u538b\u6761\u4ef6\u4e0b\uff0c\u6709\u6ca1\u6709\u201c\u5206\u538b\u201d\u8fd9\u4e2a\u6982\u5ff5\u5462\uff1f\u65e2\u7136\u90fd\u6052\u538b\u4e86\uff0c\u90a3\u4e48\u4e0d\u662f\u5e94\u8be5\u6240\u6709\u6c14\u4f53\u7684\u538b\u5f3a\u90fd\u76f8\u7b49\u5417\uff1f</p> <p>\u56de\u7b54\uff1a\u662f\u7684\uff0c\u6240\u6709\u6c14\u4f53\u7684\u538b\u5f3a\u90fd\u76f8\u7b49\u3002\u4f46\u662f\u4ecd\u7136\u6709\u201c\u5206\u538b\u201d\u8fd9\u4e2a\u6982\u5ff5\uff0c\u56e0\u4e3a\u5373\u4f7f\u662f\u6052\u538b\u7684\u6761\u4ef6\u4e0b\uff0c\u7cfb\u7edf\u7684\u4f53\u79ef\u5728\u7a33\u5b9a\u4e0b\u6765\u540e\u4ecd\u7136\u53ef\u4ee5\u4fdd\u6301\u4e0d\u53d8\uff0c\u7136\u540e\u53ef\u4ee5\u6839\u636e\u5b9a\u4e49\u6765\u8ba1\u7b97\u8fd9\u79cd\u6c14\u4f53\u7684\u201c\u5206\u538b\u201d\u3002\u6216\u8005\u8bf4\uff0c\u6c14\u4f53\u7684\u538b\u5f3a\u548c\u6c14\u4f53\u7684\u5206\u538b\u662f\u4e24\u4e2a\u6982\u5ff5\u3002</p> <p>\u4e0a\u9762\u7684\u8bf4\u6cd5\u4ecd\u7136\u6709\u4e9b\u4e0d\u51c6\u786e\u3002\u5bf9\u77e5\u8bc6\u7684\u7406\u89e3\u662f\u87ba\u65cb\u4e0a\u5347\u7684\uff0c\u6211\u4eec\u5e94\u8be5\u5305\u5bb9\u81ea\u5df1\u6216\u8005\u4ed6\u4eba\u7684\u9519\u8bef\u3002\u56de\u5230\u8fd9\u91cc\uff0c\u6052\u538b\u60c5\u51b5\u4e0b\uff0c\u5355\u79cd\u6c14\u4f53\u7684\u538b\u5f3a\u4e5f\u7531\u5b83\u7684\u5206\u5e03\u7684\u4f53\u79ef\u51b3\u5b9a\uff0c\u6700\u5927\u624d\u80fd\u8fbe\u5230\u6052\u538b\uff08\u5b8c\u5168\u6ca1\u6709\u6269\u6563\u7684\u60c5\u51b5\uff09\u3002\u5047\u5982\u5728\u5bb9\u5668\u5185\u5b8c\u5168\u5747\u5300\u5206\u5e03\u7684\u8bdd\uff0c\u538b\u5f3a\u5c31\u7b49\u4e8e\u5206\u538b\u3002\u5b8c\u5168\u5747\u5300\u5206\u5e03\u4e5f\u6b63\u662f\u201c\u5206\u538b\u201d\u4e2d\u5b9a\u4e49\u7684\u5047\u8bbe\u3002</p>"},{"location":"chem/thermo/#2","title":"2. \u7406\u60f3\u6c14\u4f53\u72b6\u6001\u65b9\u7a0b","text":"<p>\u5927\u5bb6\u90fd\u77e5\u9053\u7406\u60f3\u6c14\u4f53\u72b6\u6001\u65b9\u7a0b\u6700\u7b80\u5355\u7684\u5f62\u5f0f\u662f\uff1a\\(pV = nRT\\)\u3002\u90a3\u4e48\u8fd9\u91cc\u5c31\u4f1a\u5f15\u51fa\u4e00\u4e2a\u95ee\u9898\u4e86\uff0c\u5728\u6709\u591a\u79cd\u6c14\u4f53\u6df7\u5408\u7684\u65f6\u5019\uff0c\u5355\u72ec\u8003\u8651\u67d0\u79cd\u6c14\u4f53\u8fd8\u6210\u7acb\u5417\uff1f\u5982\u679c\u6210\u7acb\uff0c\u5bf9\u8be5\u79cd\u6c14\u4f53\u6765\u8bf4\uff0c\u516c\u5f0f\u4e2d\u7684\u5404\u9879\u6307\u4ee3\u7684\u662f\u4ec0\u4e48\uff1f</p> <p>\u56de\u7b54\uff1a1. \u6210\u7acb\u30022. \u4ecd\u7136\u53ef\u4ee5\u6309\u7167\u6c14\u4f53\u7cfb\u7edf\u7a33\u5b9a\u4ee5\u540e\u518d\u8003\u8651\u3002\u4e0d\u7ba1\u6052\u5bb9\u8fd8\u662f\u6052\u538b\uff0c\u7531\u4e8e\u6c14\u4f53\u5747\u5300\u5206\u5e03\uff0c\u5728\u7a33\u5b9a\u4ee5\u540e\u5bf9\u5404\u7ec4\u5206\u6c14\u4f53\uff0c\u5b83\u4eec\u6240\u5360\u7684\u7a7a\u95f4\u4f53\u79ef\u90fd\u662f\u4e00\u6837\u7684\u3002R \u548c T \u53ef\u4ee5\u770b\u505a\u662f\u5e38\u6570\u3002\u90a3\u4e48\uff0c\u6b64\u65f6 p \u548c n \u6210\u6b63\u6bd4\uff0cn \u662f\u8fd9\u79cd\u6c14\u4f53\u7684\u7269\u8d28\u7684\u91cf\uff0c\u90a3\u4e48 p \u6307\u7684\u5c31\u662f\u8fd9\u79cd\u6c14\u4f53\u6240\u5bf9\u5e94\u7684\u5206\u538b\u4e86\u3002</p>"},{"location":"chem/thermo/#3","title":"3. \u5316\u5b66\u5e73\u8861\u5e38\u6570","text":"<p>\u660e\u660e\u5e73\u65f6\u505a\u7684\u5316\u5b66\u5e73\u8861\u5e38\u6570\u90fd\u7528\u6d53\u5ea6\u8868\u793a\uff0c\u600e\u4e48\u5230\u4e86\u8003\u8bd5\u9898\u76ee\u4e0a\u7adf\u7136\u7528\u6c14\u4f53\u7684\u5206\u538b\u8868\u793a\uff1f\u6ca1\u89c1\u8fc7\u5462\u3002</p> <p>\u56de\u7b54\uff1a\u770b\u4e0a\u4e00\u9898\u7684\u56de\u7b54\uff0c\u5bf9\u6df7\u5408\u6c14\u4f53\u6765\u8bf4\uff0c\\(pV = nRT\\) \u4e2d\u7684 p \u6307\u7684\u662f\u5176\u4e2d\u67d0\u79cd\u6c14\u4f53\u6240\u5bf9\u5e94\u7684\u5206\u538b\u3002\u5f88\u5bb9\u6613\u770b\u51fa\u6765 \\(p = (n/V)RT = cRT\\)\uff0c\u6240\u4ee5\u6c14\u4f53\u7684\u5206\u538b\u548c\u5b83\u7684\u6d53\u5ea6\u6210\u6b63\u6bd4\u3002\u90a3\u4e48\u5bf9\u6c14\u4f53\u6765\u8bf4\uff0c\u7528\u5206\u538b\u6765\u5b9a\u4e49\u5316\u5b66\u5e73\u8861\u5e38\u6570 K \u4e5f\u4e0d\u662f\u4e0d\u5408\u7406\u54af\u3002</p> <p>\u5f53\u7136\uff0c\u7528 \\(K_p\\) \u6765\u8868\u793a\u7528\u5206\u538b\u5b9a\u4e49\u7684\u5316\u5b66\u5e73\u8861\u5e38\u6570\uff0c\\(K_c\\) \u6765\u8868\u793a\u7528\u6d53\u5ea6\u5b9a\u4e49\u7684\u5316\u5b66\u5e73\u8861\u5e38\u6570\uff0c\u5b83\u4eec\u672c\u6765\u5c31\u662f\u4e0d\u76f8\u7b49\u7684\uff0c\u56e0\u4e3a\u4f1a\u591a\u51fa\\((RT)\\)\u7684\u51e0\u6b21\u65b9\u8fd9\u4e2a\u9879\u6570\u3002\u5177\u4f53\u6765\u8bf4\uff1a</p> \\[ K_p = K_c(RT)^{\\Delta n} \\] <p>\\(\\Delta n\\) \u662f\u53cd\u5e94\u7269\u4e0e\u751f\u6210\u7269\u7684\u6c14\u4f53\u8ba1\u91cf\u6570\u4e4b\u5dee\u3002</p> <p>\u6240\u4ee5\u4e0d\u8981\u518d\u50bb\u4e4e\u4e4e\u5730\u8bc1\u660e\u5b83\u4eec\u76f8\u7b49\u4e86\u3002</p>"},{"location":"chem/thermo/#4","title":"4. \u4ec0\u4e48\u662f\u5355\u4f4d\u53cd\u5e94\uff1f","text":"<p>\u56de\u7b54\uff1a \u6211\u4eec\u53ef\u4ee5\u5c06\u4efb\u4f55\u4e00\u4e2a\u5316\u5b66\u53cd\u5e94\u65b9\u7a0b\u5f0f\u79f0\u4e3a\u5355\u4f4d\u53cd\u5e94\u6216\u8005 1 \u6469\u5c14\u53cd\u5e94\u3002\u6700\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\u5bf9\u4e8e\u4e0b\u9762\u8fd9\u4e2a\u53cd\u5e94</p> \\[ a\\mathrm{A} + r\\mathrm{R} \\rightarrow l\\mathrm{L} + m\\mathrm{M} \\] <p>\u53d1\u751f\u4e86 1 mol \u53cd\u5e94\u76f8\u5f53\u4e8e \\(a\\) mol A \u548c \\(r\\) mol R \u5b8c\u5168\u8f6c\u5316\u6210 \\(l\\) mol L \u548c \\(m\\) mol M\u3002 </p>"},{"location":"chem/thermo/#5","title":"5. \u5316\u5b66\u53cd\u5e94\u7684\u7113\u53d8","text":"<p>\u4ec0\u4e48\u662f\u5316\u5b66\u53cd\u5e94\u7684\u7113\u53d8\uff1f</p> <p>\u56de\u7b54\uff1a \u5f88\u663e\u7136\u7684\u7b54\u6848\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5355\u4f4d\u53cd\u5e94\u6765\u8bf4\uff0c\u5f53\u7136\u662f\u751f\u6210\u7269\u7684\u7113\u548c\u53cd\u5e94\u7269\u7684\u7113\u7684\u53d8\u5316\u91cf\u4e86\u3002\u4ee5\u7b2c 4 \u9898\u4e3a\u4f8b\uff0c\u5c31\u662f \\(a\\) mol A \u548c \\(r\\) mol R \u5b8c\u5168\u8f6c\u5316\u6210 \\(l\\) mol L \u548c \\(m\\) mol M \u540e\uff0c\u7113\u7684\u53d8\u5316\u91cf\u3002</p>"},{"location":"chem/thermo/#6","title":"6. \u81ea\u7531\u80fd\u53d8","text":"<p>Gibbs \u81ea\u7531\u80fd\u53d8\u7528\u6765\u5224\u65ad\u53cd\u5e94\u80fd\u5426\u81ea\u53d1\u8fdb\u884c\u3002 \\(\\Delta G &gt; 0\\) \u65f6\uff0c\u5316\u5b66\u53cd\u5e94\u53ef\u4ee5\u81ea\u53d1\u8fdb\u884c\u3002</p> <p>\u5728\u5b66\u5230 Gibbs \u81ea\u7531\u80fd\u53d8\u548c\u5e73\u8861\u5e38\u6570\u7684\u5173\u7cfb\u7684\u65f6\u5019\uff0c\u4f1a\u6709\u8303\u7279\u970d\u592b\u7b49\u6e29\u5f0f\uff0c\u5373\u5728\u6e29\u5ea6 \\(T\\) \u7684\u6761\u4ef6\u4e0b\uff0c\u4f1a\u6709\uff1a</p> \\[     \\Delta G = \\Delta G^o(T) + 2.3 RT \\lg Q \\] <p>\u5176\u4e2d\uff0c\\(\\Delta G^o(T)\\) \u662f\u8be5\u6e29\u5ea6\u6807\u51c6\u72b6\u6001\u4e0b\u7684\u81ea\u7531\u80fd\u53d8\uff0c\\(Q\\) \u662f\u53cd\u5e94\u5546\u3002\u5bf9\u7b2c 4 \u9898\u4e2d\u7684\u53cd\u5e94\u6765\u8bf4\uff0c</p> \\[     Q = \\frac{(p_L)^l (p_M)^m}{(p_A)^a (p_R)^r} \\] <p>\u5728 \\(\\Delta G = 0\\) \u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u53cd\u5e94\u5c31\u8fbe\u5230\u4e86\u5e73\u8861\u3002\u6b64\u65f6 \\(Q=K\\)\uff0c\u6211\u4eec\u5c31\u80fd\u7b97\u51fa\u5316\u5b66\u5e73\u8861\u5e38\u6570\u4e86\u3002</p> <p>\u4f46\u662f\u5f53\u65f6\u6709\u4e00\u4e2a\u95ee\u9898\u975e\u5e38\u56f0\u6270\u6211\u7684\u4e00\u4e2a\u670b\u53cb\uff0c\u8fbe\u5230\u5e73\u8861\u662f\u4e00\u4e2a\u201c\u72b6\u6001\u201d\u3002\u5bf9\u4e00\u4e2a\u786e\u5b9a\u7684\u201c\u72b6\u6001\u201d\u6765\u8bf4\uff0c\u5b83\u4e3a\u4ec0\u4e48\u4f1a\u6709\u201c\u53d8\u5316\u91cf\u201d\u8fd9\u79cd\u8bf4\u6cd5\u5462\uff1f\u5bf9\u4e8e\u5bf9\u4e8e\u5316\u5b66\u5e73\u8861\u7684\u81ea\u7531\u80fd\u53d8\uff0c\u5b83\u7684\u521d\u6001\u548c\u7ec8\u6001\u5230\u5e95\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u56de\u7b54\uff1a\u4e0a\u9762\u7684\u8bf4\u6cd5\u5176\u5b9e\u662f\u6709\u9519\u8bef\u7684\u3002\u4e00\u6b65\u6b65\u770b\u5427\u3002\u9996\u5148\u770b\u5409\u5e03\u65af\u81ea\u7531\u80fd\u7684\u5b9a\u4e49\uff1a\\(G=H-TS\\)\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u5316\u5b66\u53cd\u5e94\u7684\u81ea\u7531\u80fd\u53d8\u5462\uff1f\u56de\u7b54\u548c\u7b2c 4 \u9898\u7c7b\u4f3c\uff0c \u5bf9\u5355\u4f4d\u53cd\u5e94\u6765\u8bf4\uff0c\u5c31\u662f\u751f\u6210\u7269\u548c\u53cd\u5e94\u7269\u76f8\u6bd4\uff0c\u81ea\u7531\u80fd\u7684\u53d8\u5316\u91cf\u3002\u5728\u8fd9\u91cc\u8bf4\u7684\u66f4\u8be6\u7ec6\u70b9\uff0c\u5047\u8bbe\u521d\u59cb\u7684\u5206\u538b\u662f \\(p_L\\)\uff0c\\(p_M\\), \\(p_A\\)\uff0c\\(p_R\\)\uff0c\u90a3\u4e48\u5728\u8fd9\u4e2a\u6761\u4ef6\u4e0b\uff08\u5373\u5206\u538b\u59cb\u7ec8\u4e0d\u53d8\uff09\uff0c\u8fdb\u884c\u5355\u4f4d\u53cd\u5e94\u540e\u7684\u81ea\u7531\u80fd\u53d8\u3002\u6240\u4ee5\u5b8c\u5168\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff0c\u521d\u6001\u5c31\u662f\u5728\u8fd9\u79cd\u786e\u5b9a\u5206\u538b\u4e0b\u7684\u53cd\u5e94\u7269\uff0c\u7ec8\u6001\u5c31\u662f\u5728\u8fd9\u79cd\u786e\u5b9a\u5206\u538b\u4e0b\u7684\u751f\u6210\u7269\u3002\uff08\u6ce8\u610f\uff0c\u4e0d\u7ba1\u662f\u7113\u53d8\uff0c\u8fd8\u662f\u8fd9\u91cc\u6240\u8bf4\u7684\u81ea\u7531\u80fd\u53d8\uff0c\u90fd\u8bf4\u7684\u662f\u5b8c\u5168\u8f6c\u5316\u7684\u7406\u60f3\u60c5\u51b5\uff0c\u4e0d\u8003\u8651\u5982\u4f55\u505a\u5230\u8fd9\u79cd\u8f6c\u5316\u3002\uff09</p> <p>\u6240\u4ee5\uff0c\u5bf9\u8303\u7279\u970d\u592b\u7b49\u6e29\u5f0f\uff0c\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a\u67d0\u6052\u5b9a\u6e29\u5ea6\u4e0b\uff0c\u5f53\u6c14\u4f53\u7684\u67d0\u79cd\u5206\u538b\u4f7f\u5f97 \\(\\Delta G &gt; 0\\)\uff0c\u90a3\u4e48\u5c31\u4f1a\u4f7f\u53cd\u5e94\u81ea\u53d1\u8fdb\u884c\uff1b\\(\\Delta G &lt; 0\\)\uff0c\u53cd\u5e94\u5c31\u53cd\u5411\u81ea\u53d1\u8fdb\u884c\uff1b\\(\\Delta G =0\\) \u6b63\u597d\u662f\u4e34\u754c\u6761\u4ef6\uff0c\u53ef\u9006\u53cd\u5e94\u8fbe\u5230\u5e73\u8861\u3002</p> <p>\u95ee\u9898\u4e2d\u7684\u7406\u89e3\u9519\u8bef\u5728\u4e8e\uff0c\u5c06\u5316\u5b66\u53cd\u5e94\u5e73\u8861\u5f53\u6210\u4e86\u4e00\u4e2a\u786e\u5b9a\u7684\u72b6\u6001\u3002\u5b9e\u9645\u4e0a\uff0c\u4ed6\u6240\u7406\u89e3\u7684\u201c\u72b6\u6001\u201d\u66f4\u50cf\u662f\u4e00\u79cd\u6761\u4ef6\uff1a\u786e\u5b9a\u7684\u7269\u8d28\u6d53\u5ea6\u6216\u8005\u5206\u538b\u3002\u81ea\u7531\u80fd\u53d8\u7814\u7a76\u7684\u95ee\u9898\u662f\uff0c\u5728\u8fd9\u79cd\u6d53\u5ea6\u6216\u8005\u5206\u538b\u7684\u6761\u4ef6\u4e0b\uff0c\u53cd\u5e94\u80fd\u5426\u81ea\u53d1\u8fdb\u884c\u5462\uff1f</p>"},{"location":"chem/thermo/#_2","title":"\u7ec3\u4e60\u9898","text":"<p>\u5b66\u4e60\u5316\u5b66\u7684\u65f6\u5019\uff0c\u4f1a\u78b0\u5230\u8bb8\u591a\u6709\u8da3\u7684\u95ee\u9898\u3002\u6bd4\u5982\u8bf4\uff0c\u51ed\u4ec0\u4e48\u5199\u51fa\u6765\u7684\u6bcf\u4e00\u4e2a\u5316\u5b66\u53cd\u5e94\u65b9\u7a0b\u5f0f\u90fd\u80fd\u914d\u5e73\u5462\uff1f\u66f4\u96be\u7684\u4e8b\u60c5\u662f\uff0c\u5bf9\u4e00\u4e2a\u8f83\u4e3a\u5e74\u957f\u7684\u5b66\u751f\u6765\u8bf4\uff0c\u8fd8\u80fd\u5199\u51fa\u4e00\u4e2a\u914d\u5e73\u7684\u65b9\u7a0b\u5f0f\u5417\uff1f</p>"},{"location":"chem/thermo/#_3","title":"\u53c2\u8003","text":"<p>\u5728\u56fe\u4e66\u9986\u5316\u5b66\u533a\u968f\u4fbf\u901b\u4e86\u4e00\u4e0b\uff0c\u5c31\u501f\u5230\u4e86\u300a\u7269\u7406\u5316\u5b66\u7b54\u7591\u89e3\u60d1\u300b\uff08\u5218\u957f\u4fca\u7f16\u8457\uff09\u8fd9\u672c\u4e66\uff0c\u5bf9\u6211\u5f88\u591a\u95ee\u9898\u90fd\u505a\u51fa\u4e86\u89e3\u7b54\uff0c\u8c22\u8c22\u8fd9\u4f4d\u8001\u5e08\u3002\u7b2c 4 \u9898\u53c2\u8003\u4e86\u4e66\u4e2d\u9898 89\u3002\u7b2c 6 \u9898\u53c2\u8003\u4e86\u4e66\u4e2d\u9898 510\u3002</p> <p>\u5269\u4e0b\u7684\u4e00\u4e9b\u6982\u5ff5\u5c31\u968f\u4fbf\u95ee\u4e86\u4e0b\u5ea6\u5a18\u3002</p> <p>\u5206\u538b</p> <p>https://zhidao.baidu.com/question/591665144.html</p> <p>\u8fd8\u6709\u5317\u5927\u7684\u300a\u666e\u901a\u5316\u5b66\u539f\u7406\u300b\u3002</p>"},{"location":"network/network/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u4ecb\u7ecd","text":""},{"location":"network/network/#_2","title":"\u7b2c\u4e00\u7ae0 \u603b\u89c8","text":"<p>\u4f20\u8f93\u7684\u4fe1\u606f\u5305\u57fa\u672c\u5355\u5143\uff1apacket\uff08\u5206\u7ec4\uff0c\u5305\uff09</p> <p>\u7aef \u63a5\u5165\u7f51 \u7f51\u7edc\u6838\u5fc3\u2014\u2014ISP\uff08\u56e0\u7279\u7f51\u670d\u52a1\u63d0\u4f9b\u5546\uff09</p> <p>\u5206\u5e03\u5f0f</p> <p>\u7f51\u7edc\u7f16\u7a0b\u63a5\u53e3 API</p> <p>\u534f\u8bae</p> <p>\u5ba2\u6237\u673a-\u670d\u52a1\u5668</p> <p>P2P</p> <p>\u5c40\u57df\u7f51\u2014\u2014\u4ee5\u592a\u7f51</p> <p>\u65e0\u7ebf\u5c40\u57df\u7f51 802.11</p> <p>\u5206\u7ec4\uff08packet\uff09\u4ea4\u6362</p> <p>\u7f51\u7edc\u534f\u8bae\u81ea\u9876\u5411\u4e0b\u5206\u5c42\uff1a</p> <ul> <li>\u5e94\u7528\u5c42\uff1a\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u548c\u5e94\u7528\u5c42\u534f\u8bae\uff1aHTTP\u3001SMTP\u3001FTP\u3001DNS\u3002\u5e94\u7528\u5c42\u7684\u4fe1\u606f\u5206\u7ec4\uff08packet\uff09\u79f0\u4e3a\u62a5\u6587\uff08message\uff09</li> <li>\u8fd0\u8f93\u5c42\uff1a\u5e94\u7528\u7a0b\u5e8f\u7aef\u70b9\u4e4b\u95f4\u4f20\u8f93\u5e94\u7528\u5c42\u62a5\u6587\u3002\u534f\u8bae\uff1aTCP\u3001UDP\u3002\u8fd0\u8f93\u5c42\u7684\u5206\u7ec4\u79f0\u4e3a\u62a5\u6587\u6bb5\uff08segment\uff09</li> <li>\u7f51\u7edc\u5c42\uff1a\u5c06\u79f0\u4e3a\u6570\u636e\u62a5\uff08datagram\uff09\u7684\u7f51\u7edc\u5c42\u5206\u7ec4\u4ece\u4e00\u53f0\u4e3b\u673a\u79fb\u52a8\u5230\u53e6\u4e00\u53f0\u4e3b\u673a\u3002\u8fd0\u8f93\u5c42\u534f\u8bae\u5411\u7f51\u7edc\u5c42\u9012\u4ea4\u8fd0\u8f93\u5c42\u62a5\u6587\u6bb5\u548c\u76ee\u7684\u5730\u5740\u3002\u7f51\u7edc\u5c42\u534f\u8bae\u5305\u542b IP \u534f\u8bae\u4e0e\u8def\u7531\u7684\u9009\u8def\u534f\u8bae\u3002</li> <li>\u94fe\u8def\u5c42\uff1a\u7f51\u7edc\u5c42\u5c06\u6570\u636e\u4e0b\u53d1\u7ed9\u94fe\u8def\u5c42\uff0c\u94fe\u8def\u5c42\u6cbf\u7740\u8def\u5f84\u5c06\u6570\u636e\u62a5\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002\u94fe\u8def\u5c42\u534f\u8bae\u5305\u62ec\u4ee5\u592a\u7f51\u3001wifi\u3002\u94fe\u8def\u5c42\u5206\u7ec4\u79f0\u4e3a\u5e27\uff08frame\uff09\u3002</li> <li>\u7269\u7406\u5c42\uff1a\u5c06\u5e27\u4e2d\u7684\u6bd4\u7279\u4e00\u4e2a\u4e00\u4e2a\u5b9e\u9645\u5730\u4f20\u8f93\u5230\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002</li> </ul> <p>\u53d1\u9001\u65f6\uff1a\u5e94\u7528\u5c42\u62a5\u6587\u4f20\u7ed9\u8fd0\u8f93\u5c42\u3002\u8fd0\u8f93\u5c42\u6536\u53d6\u62a5\u6587\u9644\u4e0a\u9996\u90e8\u4fe1\u606f\uff0c\u6784\u6210\u8fd0\u8f93\u5c42\u62a5\u6587\u6bb5\u3002\uff08\u9996\u90e8\u4fe1\u606f\u5305\u62ec\u5dee\u9519\u68c0\u6d4b\u6bd4\u7279\u7b49\u7b49\uff09\u3002\u8fd0\u8f93\u5c42\u5411\u7f51\u7edc\u5c42\u4f20\u9012\u62a5\u6587\u6bb5\uff0c\u7f51\u7edc\u5c42\u589e\u52a0\u76ee\u7684\u7cfb\u7edf\u5730\u5740\u7b49\u4fe1\u606f\uff0c\u5f62\u6210\u7f51\u7edc\u5c42\u6570\u636e\u62a5\u3002\u6570\u636e\u62a5\u4f20\u7ed9\u94fe\u8def\u5c42\uff0c\u94fe\u8def\u5c42\u4e5f\u4f9d\u636e\u534f\u8bae\u5c01\u88c5\u6210\u94fe\u8def\u5e27\u3002\u6700\u540e\uff0c\u901a\u8fc7\u7269\u7406\u5c42\u6267\u884c\u5b9e\u9645\u7684\u4f20\u8f93\u3002</p> <p>\u6bcf\u4e00\u5c42\u7684\u5206\u7ec4\uff08packet\uff09\u5305\u542b\u4e24\u79cd\u5b57\u6bb5\uff1a\u9996\u90e8\u5b57\u6bb5\u548c\u6709\u6548\u8f7d\u8377\u3002</p> <p>\u5728\u63a5\u6536\u7aef\uff0c\u6570\u636e\u62a5\u91cd\u65b0\u8fd8\u539f\u6210\u62a5\u6587\u6bb5\u3002</p> <p>\u4e0a\u9762\u7684\u63cf\u8ff0\u89c1\u4e0b\u56fe\uff0c\u5c31\u975e\u5e38\u76f4\u767d\u4e86\uff1a</p> <p></p> <p>\u7f51\u7edc\u6bcf\u4e00\u5c42\u90fd\u5bf9\u4e0a\u4e00\u5c42\u5c01\u88c5\uff08Encapsulation\uff09\u597d\u3002\u53ea\u8981\u6309\u7167\u534f\u8bae\u5c06\u6570\u636e\u4ea4\u7ed9\u4e0b\u4e00\u5c42\u5373\u53ef\uff0c\u8fd9\u5c42\u65e0\u9700\u62c5\u5fc3\u4e0b\u4e00\u5c42\u600e\u4e48\u4f20\u8f93\u3002</p>"},{"location":"network/network/#_3","title":"\u7b2c\u4e8c\u7ae0 \u5e94\u7528\u5c42","text":"<p>\u6211\u4eec\u7528 Python \u53ef\u4ee5\u7b80\u5355\u5730\u5199\u4e00\u4e2a\u670d\u52a1\u5668\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002\u53ef\u4ee5\u5728\u4e24\u53f0\u8fde\u63a5\u7684\u8ba1\u7b97\u673a\u4e0a\u8dd1\uff0c\u770b\u4f1a\u53d1\u751f\u4ec0\u4e48\u3002</p> <pre><code># serve.py\n# TCP\u670d\u52a1\u5668\u7aef\nimport socket\n\n# \u521b\u5efaTCP\u5957\u63a5\u5b57\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n# \u7ed1\u5b9a\u672c\u5730\u5730\u5740\u548c\u7aef\u53e3\nserver_socket.bind(('192.168.223.1', 8888))\n# \u76d1\u542c\u8fde\u63a5\uff08\u6700\u5927\u8fde\u63a5\u65705\uff09\nserver_socket.listen(5)\nprint(\"\u670d\u52a1\u5668\u5df2\u542f\u52a8\uff0c\u7b49\u5f85\u5ba2\u6237\u7aef\u8fde\u63a5...\")\n\nwhile True:\n    # \u63a5\u53d7\u5ba2\u6237\u7aef\u8fde\u63a5\n    client_socket, addr = server_socket.accept()\n    print(f\"\u5ba2\u6237\u7aef {addr} \u5df2\u8fde\u63a5\")\n\n    # \u63a5\u6536\u5ba2\u6237\u7aef\u6570\u636e\uff08\u6700\u59271024\u5b57\u8282\uff09\n    data = client_socket.recv(1024).decode('utf-8')\n    print(f\"\u6536\u5230\u6d88\u606f: {data}\")\n\n    # \u53d1\u9001\u54cd\u5e94\n    response = f\"\u5df2\u6536\u5230\u4f60\u7684\u6d88\u606f: {data}\"\n    client_socket.send(response.encode('utf-8'))\n\n    # \u5173\u95ed\u8fde\u63a5\n    client_socket.close()\n</code></pre> <pre><code># client.py\n# TCP\u5ba2\u6237\u7aef\nimport socket\n\n# \u521b\u5efaTCP\u5957\u63a5\u5b57\nclient_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n# \u8fde\u63a5\u670d\u52a1\u5668\nclient_socket.connect(('192.168.223.1', 8888))\n\n# \u53d1\u9001\u6d88\u606f\nmessage = \"Hello, Server!\"\nclient_socket.send(message.encode('utf-8'))\n\n# \u63a5\u6536\u54cd\u5e94\nresponse = client_socket.recv(1024).decode('utf-8')\nprint(f\"\u670d\u52a1\u5668\u54cd\u5e94: {response}\")\n\n# \u5173\u95ed\u8fde\u63a5\nclient_socket.close()\n</code></pre> <p>\u5ba2\u6237\u673a-\u670d\u52a1\u5668</p> <p>\u8fdb\u7a0b\u901a\u4fe1\uff1a\u4ea4\u6362\u62a5\u6587</p> <p>\u8fdb\u7a0b\u901a\u8fc7\u4e00\u4e2a\u79f0\u4e3a\u5957\u63a5\u5b57\uff08socket\uff09\u7684\u8f6f\u4ef6\u63a5\u53e3\u6765\u4ea4\u6362\u62a5\u6587\u3002socket \u5728\u82f1\u6587\u4e2d\u662f\u63d2\u53e3\u7684\u610f\u601d\u3002\u6211\u4eec\u53ef\u4ee5\u5c06\u4e4b\u7406\u89e3\u4e3a\u4e00\u4e2a\u201c\u95e8\u201d\u3002\u62a5\u6587\u4ece\u8fd9\u4e2a\u95e8\u51fa\u6765\uff0c\u8d70\u5230\u53e6\u4e00\u4e2a\u95e8\u3002\u5957\u63a5\u5b57\u5c31\u662f\u5e94\u7528\u7a0b\u5e8f\u548c\u7f51\u7edc\u4e4b\u95f4\u7684\u5e94\u7528\u7a0b\u5e8f\u7f16\u7a0b\u63a5\u53e3\uff08API\uff09\uff0c\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7\u5957\u63a5\u5b57\u6765\u4f7f\u7528\u7f51\u7edc\u3002\u901a\u8fc7\u5957\u63a5\u5b57\u53ef\u4ee5\u63a7\u5236\u5e94\u7528\u5c42\u7aef\u7684\u6240\u6709\u4e1c\u897f\uff0c\u4f46\u662f\u8fd0\u8f93\u5c42\u5219\u5f88\u5c11\uff0c\u4ec5\u9650\u4e8e\u9009\u62e9\u8fd0\u8f93\u5c42\u534f\u8bae\uff08\u5982 TCP\uff09\uff0c\u8bbe\u7f6e\u4e00\u4e9b\u8fd0\u8f93\u5c42\u53c2\u6570\u3002</p> <p>\u53ef\u4f9b\u5e94\u7528\u7a0b\u5e8f\u8fd0\u8f93\u7684\u670d\u52a1\u534f\u8bae\u4e3b\u8981\u6709 TCP \u548c UDP\u3002TCP \u8fde\u63a5\u5168\u53cc\u5de5\uff0c\u4f20\u8f93\u53ef\u9760\u3002\u76ee\u524d\u5927\u591a\u6570\u5e94\u7528\u7a0b\u5e8f\u5982\u7535\u5b50\u90ae\u4ef6\u3001web\u3001\u6587\u4ef6\u4f20\u8f93\u90fd\u4f7f\u7528 TCP \u4f5c\u4e3a\u8fd0\u8f93\u5c42\u534f\u8bae\u3002</p> <p>\u901a\u4fe1\u5bfb\u5740\uff1aIP \u5730\u5740\u6807\u8bc6\u552f\u4e00\u4e3b\u673a\uff0c\u7aef\u53e3\u53f7\u6807\u8bc6\u4e3b\u673a\u8fdb\u7a0b\u3002</p> <p>Web \u5e94\u7528\uff1a\u7528\u6237\u6253\u5f00 Web \u6d4f\u89c8\u5668\uff08\u6bd4\u5982 Firefox\uff09\uff0c\u6253\u5f00\u4e00\u4e2a\u7ad9\u70b9\uff0c\u53d1\u9001\u8bf7\u6c42\u3002\u8bf7\u6c42\u6309\u7167 HTTP \u534f\u8bae\u6784\u9020\u7684\u62a5\u6587\u53d1\u9001\u3002Web \u670d\u52a1\u5668\u63a5\u53d7\u8bf7\u6c42\uff0c\u6309 HTTP \u534f\u8bae\u8fd4\u56de\u6587\u4ef6\uff08HTML \u683c\u5f0f\uff09\uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u6d4f\u89c8\u7f51\u9875\u3002</p> <p>HTTP\uff1a\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\u3002HTTP \u534f\u8bae\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u5ba2\u6237\u673a\u548c\u670d\u52a1\u5668\u7a0b\u5e8f\uff0c\u4ea4\u6362 HTTP \u62a5\u6587\u8fdb\u884c\u4f1a\u8bdd\u3002</p> <p>Web \u672f\u8bed\uff1a</p> <ul> <li>Web \u9875\u9762\uff1a\u7531 HTML \u6587\u4ef6\u3001JPEG \u56fe\u7247\u3001\u7a0b\u5e8f\u3001\u89c6\u9891\u7b49\u5bf9\u8c61\uff08object\uff09\u4e00\u8d77\u6784\u6210\u3002\u901a\u8fc7\u5bf9\u8c61\u7684 URL \u5730\u5740\u5bf9\u5bf9\u8c61\u8fdb\u884c\u5f15\u7528\u3002URL\uff08Uniform Resource Locator\uff0c\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff09\u662f\u7528\u4e8e\u5b8c\u6574\u5730\u63cf\u8ff0\u4e92\u8054\u7f51\u4e0a\u7f51\u9875\u6216\u5176\u4ed6\u8d44\u6e90\u4f4d\u7f6e\u7684\u4e00\u7ec4\u5b57\u7b26\u3002\u4e00\u4e2a URL \u5730\u5740\u5305\u62ec\u534f\u8bae\u3001\u57df\u540d\u6216IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u3001\u8def\u5f84\u7b49\u7ec4\u6210\u90e8\u5206\u3002\u4f8b\u5982 \"http://192.168.1.1/index.html\"\u3002</li> <li>Web \u6d4f\u89c8\u5668\uff1a\u5b9e\u73b0\u4e86\u5ba2\u6237\u673a\u90e8\u5206\uff0c\u53d1\u9001\u8bf7\u6c42\uff0c\u63a5\u6536\u6570\u636e\uff0c\u5c55\u793a\u7ed9\u7528\u6237\u3002</li> <li>Web \u670d\u52a1\u5668\uff1a\u5b9e\u73b0\u4e86\u670d\u52a1\u5668\u90e8\u5206\uff0c\u5b58\u50a8 Web \u5bf9\u8c61\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u7531 URL \u5bfb\u5740\uff0c\u53d1\u9001\u7ed9\u8bf7\u6c42\u7684\u7528\u6237\u3002</li> </ul> <p>HTTP \u534f\u8bae\u7528 TCP \u4f5c\u4e3a\u5176\u8fd0\u8f93\u5c42\u534f\u8bae\u3002\u5ba2\u6237\u673a\u53d1\u8d77\u4e0e\u670d\u52a1\u5668\u7684 TCP \u8fde\u63a5\uff0c\u4ece\u5957\u63a5\u5b57\u63a5\u53e3\u53d1\u9001 HTTP \u8bf7\u6c42\u62a5\u6587\uff0c\u63a5\u6536 HTTP \u54cd\u5e94\u62a5\u6587\u3002\u670d\u52a1\u5668\u4ece\u5957\u63a5\u5b57\u63a5\u53e3\u63a5\u6536 HTTP \u8bf7\u6c42\u62a5\u6587\uff0c\u53d1\u9001 HTTP \u54cd\u5e94\u62a5\u6587\u3002</p> <p>\u62a5\u6587\u88ab\u53d1\u9001\u540e\uff0c\u5c31\u7531 TCP \u63a7\u5236\u3002TCP \u5bf9 HTTP \u5c01\u88c5\u597d\uff0c\u63d0\u4f9b\u53ef\u9760\u4f20\u8f93\u670d\u52a1\u3002HTTP \u65e0\u9700\u62c5\u5fc3\u4efb\u4f55\u4e8b\u60c5\uff0c\u90fd\u662f TCP \u548c\u66f4\u4e0b\u5c42\u7684\u5de5\u4f5c\u3002HTTP \u53ea\u9700\u5230 TCP \u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5373\u53ef\u3002</p> <p>HTTP \u670d\u52a1\u5668\u4e0d\u4fdd\u5b58\u5173\u4e8e\u5ba2\u6237\u673a\u7684\u4efb\u4f55\u4fe1\u606f\uff0c\u662f\u201c\u65e0\u72b6\u6001\u534f\u8bae\u201d\u3002</p> <p>\u6211\u4eec\u770b\u4e0b\u9762\u8fd9\u5f20\u56fe\uff0c\u5c55\u793a\u4e86\u4f20\u8f93\u7684\u8fc7\u7a0b\uff1a</p> <p></p> <p>\u5c31\u662f\u4e00\u4e2a\u6240\u8c13\u7684\u4e09\u6b21\u63e1\u624b\u8fc7\u7a0b\uff1a</p> <ol> <li>\u5ba2\u6237\u673a\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u5c0f TCP \u62a5\u6587\u6bb5</li> <li>\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a\u5c0f TCP \u62a5\u6587\u6bb5\u8fdb\u884c\u786e\u8ba4\u548c\u54cd\u5e94</li> <li>\u5ba2\u6237\u673a\u5411\u670d\u52a1\u5668\u8fd4\u56de\u786e\u8ba4\uff0c\u4e14\u53d1\u9001\u4e00\u4e2a HTTP \u8bf7\u6c42\u62a5\u6587</li> </ol> <p>\u8fd9\u6837\u5b8c\u6210\u63e1\u624b\u4ee5\u540e\uff0c\u670d\u52a1\u5668\u624d\u5411\u5ba2\u6237\u673a\u53d1\u9001\u6587\u4ef6\u3002</p> <p>HTTP \u62a5\u6587\u683c\u5f0f\uff1a</p> <p>\u8bf7\u6c42\u62a5\u6587\uff1a</p> <pre><code>&lt;\u8bf7\u6c42\u884c&gt;\uff1a\u65b9\u6cd5\u3001\u8def\u5f84\u3001\u534f\u8bae\u7248\u672c\n&lt;\u8bf7\u6c42\u5934\u90e8\u5b57\u6bb5&gt;\uff1a\u5305\u542b\u591a\u4e2a\u952e\u503c\u5bf9\uff0c\u5982 Host\u3001connection \u7b49\u7b49\u3002\n\u7a7a\u884c\uff08CRLF\uff09 \uff1a\u8868\u793a\u5934\u90e8\u7ed3\u675f\u3002\n&lt;\u8bf7\u6c42\u6b63\u6587\uff08\u53ef\u9009\uff09&gt;\n</code></pre> <p>\u4f8b\u5982\uff1a <pre><code>GET /somedir/page.html HTTP/1.1\nHost: www.someschool.edu\nConnection: close\nUser-agent: Mozilla/5.0\nAccept-language: fr\n</code></pre></p> <p>\u54cd\u5e94\u62a5\u6587\uff1a <pre><code>&lt;\u72b6\u6001\u884c&gt;\uff1a\u534f\u8bae\u7248\u672c\u3001\u72b6\u6001\u7801\u3001\u72b6\u6001\u77ed\u8bed\n&lt;\u54cd\u5e94\u5934\u90e8\u5b57\u6bb5&gt;\uff1a\u670d\u52a1\u5668\u4fe1\u606f\u7b49\u5185\u5bb9\n\u7a7a\u884c\uff08CRLF\uff09 \uff1a\u8868\u793a\u5934\u90e8\u7ed3\u675f\u3002\n&lt;\u54cd\u5e94\u6b63\u6587\uff08\u53ef\u9009\uff09&gt;\uff1a\u8fd4\u56de\u5ba2\u6237\u7aef\u7684\u5b9e\u9645\u5185\u5bb9\uff0c\u5982 HTML \u9875\u9762\u3002\n</code></pre></p> <pre><code>HTTP/1.1 200 OK\nConnection: close\nDate: Tue, 18 Aug 2015 15:44:04 GMT\nServer: Apache/2.2.3 (CentOS)\nLast-Modified: Tue, 18 Aug 2015 15:11:03 GMT\nContent-Length: 6821\nContent-Type: text/html\n\n(data data data data data ...)\n</code></pre> <p>\u6d4f\u89c8\u5668\u6309 F12 \u6253\u5f00\u5f00\u53d1\u8005\u9875\u9762\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u770b\u5230 http \u62a5\u6587\u3002</p> <p>http \u662f\u65e0\u72b6\u6001\u534f\u8bae\u3002\u4f46\u662f http \u53ef\u4ee5\u4f7f\u7528 cookie \u6280\u672f\u6765\u8ba9\u670d\u52a1\u5668\u8ddf\u8e2a\u7528\u6237\u72b6\u6001\u3002\u7b80\u5355\u8bf4\uff1a\u7b2c\u4e00\u6b21\u5230\u8fbe\u4e00\u4e2a\u4f7f\u7528 cookie \u7684\u7ad9\u70b9\uff0c\u7ad9\u70b9\u4f1a\u4ea7\u751f\u4e00\u4e2a\u552f\u4e00\u8bc6\u522b\u7801\uff0c\u6dfb\u52a0\u5230\u540e\u7aef\u6570\u636e\u5e93\u4e2d\u3002\u63a5\u7740\u7ad9\u70b9\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\u62a5\u6587\uff0c\u5305\u542b Set-cookie: \u8fd9\u4e2a\u9996\u90e8\u8868\u9879\u548c\u8bc6\u522b\u7801\u3002\u7528\u6237\u7aef\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u8fd9\u4e2a\u62a5\u6587\uff0c\u5c31\u5f80\u5176\u7ba1\u7406\u7684 cookie \u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u884c\uff0c\u5305\u542b\u7ad9\u70b9\u670d\u52a1\u5668\u7684\u4e3b\u673a\u540d\u548c\u8bc6\u522b\u7801\u3002\u4e4b\u540e\u7528\u6237\u518d\u8bbf\u95ee\u7ad9\u70b9\u65f6\uff0c\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u8bf7\u6c42\u62a5\u6587\u90fd\u4f1a\u5305\u542b\u8fd9\u4e2a\u8bc6\u522b\u7801\u3002\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u8bc6\u522b\u7801\uff0c\u68c0\u7d22\u6570\u636e\u5e93\uff0c\u6765\u8ddf\u8e2a\u7528\u6237\u7684\u72b6\u6001\uff0c\u5982\u8bbf\u95ee\u6d3b\u52a8\u3002</p> <p>Web \u7f13\u5b58\u5668</p> <p>\u7535\u5b50\u90ae\u4ef6\u534f\u8bae\uff1aSMTP \u53d1\u9001\uff0cPOP3/IMAP \u63a5\u6536</p> <p>\u4e92\u8054\u7f51\u4e3b\u673a\u8bc6\u522b\uff1a\u4e3b\u673a\u540d\uff08hostname\uff09\u6216\u8005 IP \u5730\u5740\u3002\u8fdb\u884c\u8f6c\u6362\u7684\u76ee\u5f55\u670d\u52a1\uff1a\u57df\u540d\u7cfb\u7edf\uff08Domain Name System\uff0cDNS\uff09\u3002DNS \u534f\u8bae\u6b63\u5e38\u7531\u5176\u4ed6\u5e94\u7528\u5c42\u534f\u8bae\u4f7f\u7528\uff0c\u7528\u4e8e\u5c06\u4e3b\u673a\u540d\u8f6c\u5316\u6210 IP \u5730\u5740\u3002\u4e3e\u4f8b\uff0c\u7528\u6237\u8f93\u5165 <code>www.baidu.com</code> \u65f6\uff0c\u53d1\u751f\u7684\u4e8b\u60c5\uff1a</p> <ul> <li>\u7528\u6237\u4e3b\u673a\u8fd0\u884c DNS \u5e94\u7528\u7684\u5ba2\u6237\u673a\u7aef</li> <li>\u6d4f\u89c8\u5668\u5c06\u4e3b\u673a\u540d <code>www.baidu.com</code> \u4f20\u7ed9 DNS \u5e94\u7528\u7684\u5ba2\u6237\u673a\u7aef</li> <li>DNS \u5ba2\u6237\u673a\u5411 DNS \u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u5305\u542b\u4e3b\u673a\u540d\u7684\u8bf7\u6c42</li> <li>DNS \u5ba2\u6237\u673a\u6536\u5230 DNS \u670d\u52a1\u5668\u7684\u56de\u7b54\u62a5\u6587</li> <li>\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u6765\u81ea DNS \u7684 IP \u5730\u5740\uff0c\u5411\u8be5 IP \u5730\u5740\u5b9a\u4f4d\u7684 HTTP \u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a TCP \u8fde\u63a5</li> </ul> <p>\u7528 wireshark \u6293\u5305\uff0c\u8fc7\u6ee4 DNS \u534f\u8bae\uff0c\u5373\u53ef\u67e5\u770b DNS \u670d\u52a1\u5668\u5730\u5740\u4ee5\u53ca DNS \u62a5\u6587\u3002</p> <p>\u5b9e\u9a8c\u5ba4\u7684\u7535\u8111\u4e0d\u77e5\u9053\u600e\u4e48\u56de\u4e8b\uff0c\u62bd\u98ce\u4e86\u6293\u4e0d\u51fa\u6765\uff0c\u56de\u5bdd\u5ba4\u7528\u81ea\u5df1\u7684\u7b14\u8bb0\u672c\u7535\u8111\u5c31\u53ef\u4ee5\u6210\u529f\u6293\u5305 DNS \u670d\u52a1\u4e86\u3002\u9996\u5148\u7528 <code>nslookup &lt;hostname&gt;</code> \u5c31\u53ef\u4ee5\u627e\u5230\u57df\u540d\u5bf9\u5e94\u7684 IP \u5730\u5740\u3002<code>nslookup</code> \u6307\u4ee4\u662f\u8d70 DNS \u670d\u52a1\u67e5\u8be2\u7684\u3002\u6211\u4eec\u5f00\u542f wireshark \u6293\u5305\uff0c\u8fc7\u6ee4 DNS \u534f\u8bae\uff0c\u6253\u5f00\u4e00\u4e2a\u547d\u4ee4\u884c\u8f93\u5165 <code>nslookup bing.com</code>\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u56fe\u7684\u7ed3\u679c\u3002</p> <p></p> <p>\u6211\u4eec\u7528 <code>ipconfig /all</code> \u67e5\u770b\u672c\u673a\u7684 IP \u5730\u5740\u662f <code>10.192.252.13</code>\uff0cDNS \u670d\u52a1\u5668\u662f <code>10.10.0.21</code> \u4e0e <code>10.10.2.21</code>\uff0c\u8fd9\u662f\u4f7f\u7528\u6d59\u5927\u6821\u7f51\u4f7f\u7528\u7684 DNS \u670d\u52a1\u5668\u3002\u8fd9\u4e0e\u4e0a\u9762\u6293\u5305\u7684\u7ed3\u679c\u4e00\u81f4\u3002\u6211\u4eec\u6253\u5f00 DNS \u670d\u52a1\u5668\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>Frame 109837: 532 bytes on wire (4256 bits), 532 bytes captured (4256 bits) on interface \\Device\\NPF_{B8D67097-65C7-4EE3-90AD-955585FA85A3}, id 0\nEthernet II, Src: H3CTechnolog_ff:80:10 (00:0f:e2:ff:80:10), Dst: Intel_25:25:88 (9c:b1:50:25:25:88)\nInternet Protocol Version 4, Src: 10.10.0.21, Dst: 10.193.252.13\nUser Datagram Protocol, Src Port: 53, Dst Port: 50849\nDomain Name System (response)\n    Transaction ID: 0x0002\n    Flags: 0x8180 Standard query response, No error\n    Questions: 1\n    Answer RRs: 2\n    Authority RRs: 13\n    Additional RRs: 13\n    Queries\n    Answers\n        bing.com: type A, class IN, addr 150.171.27.10\n        bing.com: type A, class IN, addr 150.171.28.10\n    Authoritative nameservers\n    Additional records\n    [Request In: 109836]\n    [Time: 0.002144000 seconds]\n</code></pre> <p>\u53ef\u4ee5\u77e5\u9053\u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7\u662f53\uff0c\u672c\u673a\u7684\u7aef\u53e3\u53f7\u662f50849\uff0c\u4f20\u8f93\u7684\u65b9\u5f0f\u662f UDP\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u5728 <code>answer</code> \u6761\u76ee\u4e2d\uff0c\u5176\u4e2d\u4e00\u4e2a IP \u5730\u5740\u662f <code>150.171.27.10</code>\uff0c\u5c31\u662f <code>bing.com</code> \u5bf9\u5e94\u7684 IP \u5730\u5740\u3002\u8fd9\u4e0e <code>nslookup</code> \u7684\u8f93\u51fa\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\u5f53\u7136\uff0c\u51fa\u4e8e\u591a\u79cd\u539f\u56e0\uff0c\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u89e3\u6790\u7684 IP \u5730\u5740\u662f\u4e00\u822c\u662f\u6253\u4e0d\u5f00\u5bf9\u5e94\u7f51\u9875\u7684\uff0c\u539f\u56e0\u5728\u8fd9\u91cc\uff0c\u5927\u6982\u662f\u53cd\u5411\u4ee3\u7406\uff0c\u6211\u6682\u65f6\u4e0d\u7814\u7a76</p> <p>\u8fd9\u4e2a\u94fe\u63a5\u8f83\u597d\uff0c\u53ef\u4ee5\u770b\u770b\u3002DNS \u5b9e\u9a8c</p> <p>\u5728\u505a\u5b9e\u9a8c\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u73b0\u5728 baidu ping \u4e0d\u901a\u4e86\uff0c\u6709\u8bf4 baidu \u662f\u5173\u95ed\u4e86 ICMP \u534f\u8bae\u5bfc\u81f4\u7684\uff0c\u4f46\u662f\u6211 telnet \u4e5f\u8fde\u63a5\u4e0d\u5230\u3002baidu ping \u4e0d\u5230</p> <p>\u4e0a\u9762\u52a8\u624b\u5b9e\u64cd\u4e86\u4e00\u4e0b\uff0c\u4e0b\u9762\u6211\u4eec\u7ee7\u7eed\u5b66\u4e60\u539f\u7406\u3002</p> <p>\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528 DNS \u5ba2\u6237\u673a\u7aef\uff0c\u6307\u660e\u4e3b\u673a\u540d\uff0c\u4e3b\u673a DNS \u63a5\u6536\u5230\u540e\uff0c\u5411\u7f51\u7edc\u4e2d\u53d1\u9001 DNS \u67e5\u8be2\u62a5\u6587\u3002\u4e00\u822c\u8bf7\u6c42\u548c\u56de\u7b54\u62a5\u6587\u5747\u4f7f\u7528 UDP \u7ecf\u7aef\u53e3 53 \u53d1\u9001\u3002\u7ecf\u8fc7\u82e5\u5e72\u65f6\u95f4\uff0c\u4e3b\u673a DNS \u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u4e00\u4e2a DNS \u56de\u7b54\u62a5\u6587\uff0c\u5373\u53ef\u89e3\u6790\u51fa IP \u5730\u5740\u3002</p> <p>\u770b\u8d77\u6765\uff0cDNS \u662f\u4e00\u4e2a\u9ed1\u76d2\u5b50\u3002\u90a3\u4e48\u9ed1\u76d2\u5b50\u5185\u90e8\u5982\u4f55\uff1f</p> <p>DNS \u662f\u4e00\u4e2a\u5178\u578b\u7684\u5206\u5e03\u5f0f\u5e94\u7528\u3002\u6709\u4e09\u79cd\u7c7b\u578b\u7684 DNS \u670d\u52a1\u5668\uff1a\u6839 DNS \u670d\u52a1\u5668\uff0c\u9876\u7ea7\u57df\u670d\u52a1\u5668\uff08TLD\uff09\u548c\u6743\u5a01 DNS \u670d\u52a1\u5668\u3002\u4ee5\u53ca\u7528\u4e8e\u4ee3\u7406\u7684\u672c\u5730 DNS \u670d\u52a1\u5668\u3002</p> <p>\u4e0b\u9762\u56fe\u7247\u6bd4\u8f83\u6e05\u695a\u5730\u5c55\u793a\u4e86\u57df\u540d\u7cfb\u7edf\uff0c\u57df\u540d\u7cfb\u7edf\u4e0e\u5404\u7ea7\u522b DNS \u670d\u52a1\u5668\u76f8\u5bf9\u5e94\u3002</p> <p></p> <p>\u4ee5 <code>www.baidu.com</code> \u4e3a\u4f8b\uff0c<code>com</code> \u662f\u9876\u7ea7\u57df\u540d\uff0c<code>baidu.com</code> \u5bf9\u5e94\u4e00\u4e2a\u7ec4\u7ec7\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff0c <code>www</code> \u662f\u4e3b\u673a\u540d\uff0c\u56e0\u7279\u7f51\u4e2d\u9ed8\u8ba4\u7684\u4e3b\u673a\u540d\u5c31\u53eb <code>www</code>\u3002\u5728 DNS \u67e5\u8be2\u65f6\uff0c\u4e3b\u673a\u5148\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u672c\u5730 DNS \u670d\u52a1\u5668\uff0c\u672c\u5730 DNS \u670d\u52a1\u5668\u5c06\u8be5\u8bf7\u6c42\u4f20\u5230\u6839 DNS \u670d\u52a1\u5668\uff0c\u6839 DNS \u670d\u52a1\u5668\u6ce8\u610f\u5230 <code>com</code> \u524d\u7f00\uff0c\u4e8e\u662f\u5411\u672c\u5730 DNS \u670d\u52a1\u5668\u8fd4\u56de\u8d1f\u8d23 <code>com</code> \u7684 TLD \u7684\u67e5\u8be2\u5217\u8868\u3002\u672c\u5730 DNS \u670d\u52a1\u5668\u5411\u8fd9\u4e9b TLD \u53d1\u9001\u67e5\u8be2\u62a5\u6587\u3002\u5176\u4e2d\u4e00\u4e2a TLD \u670d\u52a1\u5668\u627e\u5230\u4e86 <code>baidu.com</code> \u8d1f\u8d23\u7684\u6743\u5a01 DNS \u670d\u52a1\u5668\uff0c\u5e76\u7528\u8be5\u6743\u5a01 DNS \u670d\u52a1\u5668\u7684\u5730\u5740\u8fdb\u884c\u54cd\u5e94\u3002\u6700\u540e\uff0c\u672c\u5730 DNS \u670d\u52a1\u5668\u5411\u8be5\u6743\u5a01 DNS \u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u5bfb\u627e\u540d\u4e3a <code>www</code> \u7684\u4e3b\u673a\u540d\u3002\u6743\u5a01 DNS \u670d\u52a1\u5668\u8fd4\u56de <code>www</code> \u7684 IP \u5730\u5740\u7ed9\u672c\u5730\u670d\u52a1\u5668\uff0c\u672c\u5730\u670d\u52a1\u5668\u518d\u5c06\u7ed3\u679c\u8fd4\u8fd8\u7ed9\u6211\u7684\u4e3b\u673a\uff0c\u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u4e00\u6574\u4e2a DNS \u89e3\u6790\u6d41\u7a0b\u3002</p> <p>\u8fd9\u6837\u67e5\u8be2\u5f00\u9500\u5927\uff0cDNS \u4e5f\u6709\u7f13\u5b58\u6280\u672f\u6765\u51cf\u5c11\u5f00\u9500\u3002</p>"},{"location":"opt/convex/","title":"\u51f8\u4f18\u5316\u95ee\u9898","text":""},{"location":"opt/convex/#1","title":"1. \u7b80\u4ecb","text":"<p>\u51f8\u4f18\u5316\u95ee\u9898\u5177\u6709\u8fd9\u6837\u7684\u5f62\u5f0f\uff1a</p> \\[     \\min_{x} \\ f_0(x) \\quad  \\\\     \\text{subject to:}      \\quad f_i(x) \\leq b_i, \\quad i = 1,  \\dots, m, \\\\ \\] <p>\u5176\u4e2d\uff0c\u76ee\u6807\u51fd\u6570\u548c\u7ea6\u675f\u51fd\u6570 \\(f_0, \\dots, f_m\\) \u662f\u51f8\u51fd\u6570\u3002</p> <p>\u4e00\u4e2a\u51fd\u6570 \\(f: \\mathbb{R}^n \\to \\mathbb{R}\\) \u662f\u51f8\u51fd\u6570\uff0c\u5f53\u4e14\u4ec5\u5f53\u5bf9\u4e8e\u4efb\u610f\u7684 \\(x, y \\in \\mathbb{R}^n\\) \u548c \\(\\theta \\in [0, 1]\\)\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u4e0d\u7b49\u5f0f\uff1a</p> \\[ f(\\theta x + (1 - \\theta)y) \\leq \\theta f(x) + (1 - \\theta)f(y)  \\] <p>\u76f4\u89c2\u7684\u51e0\u4f55\u7406\u89e3\u662f\uff0c\u51f8\u51fd\u6570\u4e0a\u4efb\u610f\u4e24\u70b9\u95f4\u7684\u8fde\u7ebf\u603b\u5728\u51fd\u6570\u56fe\u50cf\u7684\u4e0a\u65b9\u6216\u8005\u91cd\u5408\u3002</p> <p>\u6559\u79d1\u4e66\u8ba4\u4e3a\uff0c\u82e5\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\u53ef\u4ee5\u88ab\u5316\u4f5c\u51f8\u4f18\u5316\u95ee\u9898\uff0c\u90a3\u4e48\u8fd9\u4e2a\u95ee\u9898\u57fa\u672c\u53ef\u4ee5\u8bf4\u662f\u89e3\u51b3\u4e86\uff0c\u5c31\u662f\u8fd9\u6837\u5f3a\u5927\u3002\u6bd4\u5982\u4e00\u4e9b\u7ecf\u5178\u7684\u95ee\u9898\uff0c\u5982\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u548c\u7ebf\u6027\u89c4\u5212\u95ee\u9898\uff0c\u5b9e\u9645\u4e0a\u4e5f\u662f\u51f8\u4f18\u5316\u95ee\u9898\uff0c\u4ed6\u4eec\u5df2\u7ecf\u6709\u4e86\u5b8c\u6574\u7684\u89e3\u51b3\u65b9\u6848\u3002\u5386\u53f2\u4e0a\uff0c\u82cf\u8054\u7684\u79d1\u5b66\u5bb6 Nesterov \u4e0e Nemirovski \u6700\u65e9\u53d1\u73b0\uff0c\u4f7f\u5f97\u4f18\u5316\u95ee\u9898\u53d8\u201c\u5bb9\u6613\u201d\u7684\u5173\u952e\u6027\u8d28\uff0c\u662f\u51fd\u6570\u7684\u51f8\u6027\uff0c\u5e76\u4e14\uff0c\u4ed6\u4eec\u5f15\u5165\u4e86\u5185\u70b9\u6cd5\u6765\u6709\u6548\u6c42\u89e3\u51f8\u95ee\u9898\u3002\u5b9e\u9645\u4e2d\u5f88\u5c11\u80fd\u50cf\u6700\u5c0f\u4e8c\u4e58\u6216\u8005\u51fd\u6570\u6c42\u5bfc\u90a3\u6837\u7b80\u5355\u5730\u80fd\u83b7\u5f97\u95ee\u9898\u7684\u89e3\u6790\u89e3\uff08\u4ee3\u6570\u8868\u8fbe\u5f0f\uff09\uff0c\u4f46\u662f\u53ea\u8981\u80fd\u5316\u4e3a\u51f8\u4f18\u5316\u95ee\u9898\uff0c\u5f80\u5f80\u5c31\u610f\u5473\u7740\u53ef\u4ee5\u5229\u7528\u9ad8\u6548\u7684\u6570\u503c\u65b9\u6cd5\u6c42\u51fa\u95ee\u9898\u7684\u6700\u4f18\u89e3\u3002</p>"},{"location":"opt/convex/#2","title":"2. \u5bf9\u5076","text":"<p>\u5b66\u8fc7\u5fae\u79ef\u5206\u7684\u8bfb\u8005\uff0c\u5e94\u8be5\u5bf9\u8fd9\u6837\u7684\u95ee\u9898\u6709\u5370\u8c61\uff1a\u6c42\u89e3\u542b\u6709\u7b49\u5f0f\u7ea6\u675f\u7684\u591a\u53d8\u91cf\u6781\u503c\u95ee\u9898\u3002\u5f53\u65f6\u6211\u4eec\u7684\u505a\u6cd5\u662f\u5f15\u5165\u62c9\u683c\u6717\u65e5\u51fd\u6570\uff0c\u5c06\u7b49\u5f0f\u7ea6\u675f\u95ee\u9898\u8f6c\u5316\u4e3a\u65e0\u6761\u4ef6\u7ea6\u675f\u95ee\u9898\u3002\u5176\u51e0\u4f55\u610f\u4e49\u5c31\u662f\u83b7\u5f97\u51e0\u4e2a\u66f2\u9762\u7684\u7684\u4ea4\u7ebf\uff0c\u5728\u8fd9\u4e2a\u4ea4\u7ebf\u4e0a\u5bfb\u627e\u6700\u4f18\u70b9\u3002</p> <p>\u5728\u4f18\u5316\u7406\u8bba\u4e2d\uff0c\u4e5f\u6709\u7c7b\u4f3c\u7684\u6982\u5ff5\uff0c\u79f0\u4e3a\u5bf9\u5076\uff08duality\uff09\u3002\u5b83\u5c06\u4e00\u4e2a\u6709\u7ea6\u675f\u95ee\u9898\u8f6c\u5316\u6210\u4e00\u4e2a\u65e0\u7ea6\u675f\u95ee\u9898\uff0c\u540e\u8005\u79f0\u4e3a\u5bf9\u5076\u95ee\u9898\u3002</p> <p>\u6211\u4eec\u8003\u8651\u8fd9\u6837\u7684\u4f18\u5316\u95ee\u9898\uff1a</p> \\[     p^* = \\min_{x} \\ f_0(x) \\quad  \\\\     \\text{subject to:}      \\quad f_i(x) \\leq b_i,  i = 1,  \\dots, m, \\\\     \\quad h_j(x) = 0, j=1,\\dots, q, \\] <p>\u90a3\u4e48\u5176\u62c9\u683c\u6717\u65e5\u51fd\u6570\u8868\u793a\u4e3a\uff1a</p> \\[ L(x, \\lambda, \\nu) = f_0(x) + \\sum_{i=1}^m \\lambda_i \\left( f_i(x) - b_i \\right) + \\sum_{j=1}^q \\nu_j h_j(x), \\] <p>\u5176\u4e2d\uff1a</p> <ul> <li>\\(\\lambda_i \\geq 0\\) \u662f\u4e0d\u7b49\u5f0f\u7ea6\u675f\u7684\u62c9\u683c\u6717\u65e5\u4e58\u5b50\uff1b</li> <li>\\(\\nu_j\\) \u662f\u7b49\u5f0f\u7ea6\u675f\u7684\u62c9\u683c\u6717\u65e5\u4e58\u5b50</li> </ul> <p>\u5b9a\u4e49\u62c9\u683c\u6717\u65e5\u5bf9\u5076\u51fd\u6570\u662f\u62c9\u683c\u6717\u65e5\u51fd\u6570\u7684\u5173\u4e8e\u53d8\u91cf \\(x\\) \u53d6\u5f97\u7684\u6700\u5c0f\u503c\uff1a</p> \\[ g(\\lambda, \\nu) = \\inf_x L(x, \\lambda, \\nu) \\\\  = \\inf_x (f_0(x) + \\sum_{i=1}^m \\lambda_i \\left( f_i(x) - b_i \\right) + \\sum_{j=1}^q \\nu_j h_j(x)) \\] <p>\u6211\u4eec\u5bb9\u6613\u8bc1\u660e\u8fd9\u6837\u7684\u6027\u8d28\uff1a\u5bf9\u5076\u51fd\u6570\u6784\u6210\u539f\u95ee\u9898\u6700\u4f18\u503c \\(p^*\\) \u7684\u4e0b\u754c\uff0c\u5373\u5bf9\u4efb\u610f \\(\\lambda&gt;0, \\nu\\) \u90fd\u6709\uff1a</p> \\[ g(\\lambda, \\nu) \\leq p^* \\] <p>\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ea\u8981\u6c42\u51fa \\(g(\\lambda, \\nu)\\) \u7684\u4e0a\u754c \\(d^*\\)\uff0c\u5c31\u53ef\u4ee5\u903c\u8fd1\u539f\u95ee\u9898\u7684\u4e0b\u754c \\(p^*\\)\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4eec\u5c31\u8fd9\u6837\u5b9a\u4e49\u539f\u95ee\u9898\u7684\u5bf9\u5076\u95ee\u9898\uff1a</p> \\[ d^*=\\max_{\\lambda \\geq 0, \\nu} \\ g(\\lambda, \\nu) \\] <p>\u5f88\u5bb9\u6613\u77e5\u9053\uff0c\u5373\u4f7f\u539f\u95ee\u9898\u4e0d\u662f\u51f8\u7684\uff0c\u5bf9\u5076\u95ee\u9898\u4e5f\u662f\u51f8\u4f18\u5316\u95ee\u9898\u3002</p> <p>\u6211\u4eec\u5bb9\u6613\u5f97\u5230\uff1a \\(d^* \\leq p^*\\)\u3002\u6839\u636e\u662f\u5426\u53d6\u5230\u7b49\u53f7\u6765\u5224\u65ad\u662f\u5f3a\u5bf9\u5076\u6027\u6216\u8005\u662f\u5f31\u5bf9\u5076\u6027\u3002\u6240\u4ee5\u6211\u4eec\u6709\u65f6\u53ef\u4ee5\u901a\u8fc7\u6c42\u5bf9\u5076\u95ee\u9898\u7684\u89e3\uff0c\u518d\u8f6c\u5316\u6210\u539f\u95ee\u9898\u7684\u89e3\u3002</p> <p>\u539f\u95ee\u9898\u4e0e\u5bf9\u5076\u95ee\u9898\u7684\u5173\u7cfb\u5927\u81f4\u5982\u4e0b\u6240\u793a\uff08\u56fe\u662f\u7f51\u4e0a\u522b\u4eba\u753b\u7684\uff09\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u6ee1\u8db3\u5f3a\u5bf9\u5076\u6027\u7684\u95ee\u9898\uff0c\u82e5\u8fd9\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u4e3a \\(x^*\\)\uff0c\u5176\u5bf9\u5076\u95ee\u9898\u7684\u89e3\u662f \\((\\lambda^*, \\nu^*)\\)\u3002\u5219\u5b83\u4eec\u6ee1\u8db3 KKT(Karush-Kuhn-Tucker) \u6761\u4ef6\uff1a</p> <ul> <li>\u539f\u59cb\u53ef\u884c\u6027\uff1a</li> </ul> \\[     f_i(x^*) \\leq 0, \\quad h_j(x^*) = 0. \\] <ul> <li>\u5bf9\u5076\u53ef\u884c\u6027\uff1a</li> </ul> \\[    \\lambda_i^* \\geq 0, \\quad i = 1, 2, \\dots, m. \\] <ul> <li>\u4e92\u8865\u677e\u5f1b\u6761\u4ef6\uff1a</li> </ul> \\[    \\lambda_i^* f_i(x^*) = 0, \\quad i = 1, 2, \\dots, m. \\] <ul> <li>\u62c9\u683c\u6717\u65e5\u68af\u5ea6\u6761\u4ef6\uff1a</li> </ul> \\[    \\nabla f_0(x^*) + \\sum_{i=1}^m \\lambda_i^* \\nabla f_i(x^*) + \\sum_{j=1}^q \\nu_j^* \\nabla h_j(x^*) = 0. \\] <p>KKT \u6761\u4ef6\u662f\u4e00\u7ec4\u6700\u4f18\u89e3\u7684\u5fc5\u8981\u6761\u4ef6\u3002\u82e5\u539f\u95ee\u9898\u4e5f\u662f\u51f8\u7684\uff0c\u5219 KKT \u6761\u4ef6\u6210\u4e3a\u89e3\u7684\u5145\u5206\u6761\u4ef6\u3002</p> <p>KKT \u6761\u4ef6\u975e\u5e38\u91cd\u8981\uff0c\u5bf9\u4e00\u4e9b\u95ee\u9898\u6765\u8bf4\uff0c\u53ef\u4ee5\u5c06\u6c42\u89e3\u539f\u95ee\u9898\u8f6c\u5316\u6210\u6c42\u89e3\u6ee1\u8db3 KKT \u6761\u4ef6\u7684\u70b9\uff0c\u4ece\u800c\u627e\u5230\u6700\u4f18\u89e3\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e9b\u5178\u578b\u7684\u51f8\u4f18\u5316\u95ee\u9898\u53ca\u5176\u7b97\u6cd5\u3002\u76ee\u524d\u5178\u578b\u7684\u51f8\u4f18\u5316\u95ee\u9898\u90fd\u6709\u6bd4\u8f83\u6210\u719f\u7684\u8f6f\u4ef6\u652f\u6301\u4e86\u3002</p>"},{"location":"opt/convex/#3","title":"3. \u65e0\u7ea6\u675f\u4f18\u5316\u95ee\u9898\uff0c\u68af\u5ea6\u4e0b\u964d\u6cd5","text":"<p>\u5047\u8bbe\u6211\u4eec\u6784\u9020\u51fa\u4e86\u4e00\u4e2a\u65e0\u7ea6\u675f\u4f18\u5316\u95ee\u9898\uff1a</p> \\[ \\min_{x} \\ f_0(x) \\] <p>\u6211\u4eec\u60f3\u627e\u5230\u5176\u6700\u4f18\u89e3\uff0c\u7ecf\u5178\u7684\u65b9\u6cd5\u662f\u68af\u5ea6\u4e0b\u964d\u6cd5\u3002\u539f\u7406\u662f\u5728\u4e00\u4e2a\u521d\u59cb\u70b9 \\(x_k\\) \u8fdb\u884c\u4e00\u9636\u6cf0\u52d2\u5c55\u5f00\uff1a</p> \\[ f(x) = f(x_k) + \\nabla f(x_k)(x-x_k) \\] <p>\u4e8e\u662f\u4e0d\u65ad\u5730\u5411\u8d1f\u68af\u5ea6\u65b9\u5411\u8fdb\u884c\u8fed\u4ee3\uff1a</p> \\[ x_{k+1} = x_k - \\lambda \\nabla f(x_k) \\] <p>\\(\\lambda\\) \u662f\u6b65\u957f\uff0c\u53ef\u4ee5\u662f\u8d85\u53c2\u6570\uff0c\u6216\u8005\u7528\u641c\u7d22\u6b65\u957f\u6cd5\u786e\u5b9a\u3002</p> <p>\u76f4\u5230\u6536\u655b\u6761\u4ef6\u4e3a\u6b62\u3002</p> <p>\u6c42\u89e3\u68af\u5ea6\u7684\u65b9\u6cd5\uff0c\u7b80\u5355\u7684\u51fd\u6570\u7528\u89e3\u6790\u6cd5\uff0c\u590d\u6742\u7684\u51fd\u6570\u53ef\u4ee5\u7528\u53cd\u5411\u4f20\u64ad\u6cd5\u8fdb\u884c\u81ea\u52a8\u5fae\u5206\u8ba1\u7b97\u3002</p>"},{"location":"opt/convex/#_2","title":"\u5b9e\u4f8b\uff1a\u4e8c\u6b21\u51fd\u6570\u62df\u5408","text":"<p>\u6211\u4eec\u4e0b\u9762\u518d\u7528\u4e8c\u6b21\u51fd\u6570\u7684\u62df\u5408\uff0c\u6765\u4ecb\u7ecd\u4e00\u4e0b\u4f18\u5316\u65b9\u6cd5\u3002</p> <p>\u5047\u8bbe\u6211\u83b7\u5f97\u4e86 200 \u4e2a\u70b9\uff0c\u5176\u51fd\u6570\u503c\u662f\u4e8c\u6b21\u51fd\u6570\u548c\u9ad8\u65af\u566a\u58f0\u7684\u6df7\u5408\uff0c\u6211\u600e\u4e48\u5bf9\u4e8c\u6b21\u51fd\u6570\u8fdb\u884c\u62df\u5408\u5462\uff1f\u62df\u5408\u95ee\u9898\u662f\u4e00\u4e2a\u7ebf\u6027\u6a21\u578b\uff1a</p> \\[ y^* = Ax \\] <p>\u5176\u4e2d A \u662f\u6570\u636e\u77e9\u9635 \\([x^2, x, 1]\\) \u5411\u4e0b\u53e0 n \u884c\uff0cx \u662f\u6211\u4eec\u8981\u62df\u5408\u7684\u53c2\u6570 \\([a ,b ,c]^T\\)\uff0c\\(y^*\\) \u662f\u9884\u6d4b\u503c\u77e9\u9635\u3002</p> <p>\u6211\u4eec\u5e0c\u671b\u6c42\u51fa\u6700\u597d\u7684 x\uff0c\u4f7f\u5f97 \\(y^*\\) \u4e0e\u5b9e\u9645\u7684 \\(y\\) \u76f8\u5dee\u6700\u5c0f\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8fd9\u6837\u65e0\u7ea6\u675f\u4f18\u5316\u95ee\u9898\uff08\u7528\u5747\u65b9\u8bef\u5dee MSE \u4f5c\u4e3a\u635f\u5931\u51fd\u6570\uff09\uff1a</p> \\[    \\min_x ||Ax-y||^2 \\] <p>\u5176\u5728\u70b9 x \u5904\u7684\u68af\u5ea6\u662f:</p> \\[ 2(Ax-y)x \\] <p>\u5f53\u7136\u6211\u4eec\u524d\u9762\u5df2\u7ecf\u6c42\u8fc7\u4e86\u89e3\u6790\u89e3\uff1a\\(x = (A^TA)^{-1}A^Ty\\)\u3002\u4f46\u662f\u5f53 \\(A\\) \u5de8\u5927\u7684\u65f6\u5019\uff0c\u6c42\u9006\u4f1a\u975e\u5e38\u56f0\u96be\uff0c\u4e0d\u592a\u53ef\u884c\uff0c\u73b0\u4ee3\u6c42\u9006\u7684\u590d\u6742\u5ea6\u662f \\(o(n^3)\\)\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u8fdb\u884c\u6c42\u89e3\u3002\u4ee3\u7801\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>def gradient_descent(X, y, learning_rate=0.0001, epochs=1000):\n    theta = np.random.randn(3)  # \u968f\u673a\u521d\u59cb\u5316\u53c2\u6570\n    m = len(y)\n    losses = []\n\n    for epoch in range(epochs):\n        gradients = 2/m * X.T @ (X @ theta - y)\n        theta = theta - learning_rate * gradients\n        loss = np.mean((X @ theta - y)**2)\n        losses.append(loss)\n\n        if epoch % 100 == 0:\n            print(f\"Epoch {epoch}, Loss: {loss:.4f}\")\n\n    return theta, losses\n</code></pre> <p>\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u4e0a\u9762\u7684\u6570\u636e\u77e9\u9635 X \u4f1a\u975e\u5e38\u5927\uff0c\u5bfc\u81f4 gradient \u548c loss \u7684\u8ba1\u7b97\u90fd\u5f88\u56f0\u96be\u3002\u4e8e\u662f\u4eba\u4eec\u60f3\u5230\u62bd\u6837\u7684\u65b9\u6cd5\uff0c\u6bcf\u6b21\u53ea\u4f7f\u7528\u51e0\u4e2a\u6837\u672c\u8fdb\u884c\u68af\u5ea6\u7684\u66f4\u65b0\uff0c\u800c\u4e0d\u662f\u5168\u90e8\u6570\u636e\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c31\u662f\u6240\u8c13\u7684\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\uff08mini-batch GD\uff09\u3002</p> <p>\u4ee3\u7801\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>def mini_batch_gradient_descent(X, y, batch_size=32, learning_rate=0.0001, epochs=1000):\n    theta = np.random.randn(3)\n    m = len(y)\n    losses = []\n\n    for epoch in range(epochs):\n        shuffled_indices = np.random.permutation(m)\n        X_shuffled = X[shuffled_indices]\n        y_shuffled = y[shuffled_indices]\n\n        for i in range(0, m, batch_size):\n            X_batch = X_shuffled[i:i+batch_size]\n            y_batch = y_shuffled[i:i+batch_size]\n            batch_m = len(y_batch)\n            gradients = 2/batch_m * X_batch.T @ (X_batch @ theta - y_batch)\n            theta = theta - learning_rate * gradients\n\n        loss = np.mean((X @ theta - y)**2)\n        losses.append(loss)\n\n        if epoch % 100 == 0:\n            print(f\"Epoch {epoch}, Loss: {loss:.4f}\")\n\n    return theta, losses\n</code></pre> <p>\u4e00\u5f00\u59cb\u6bcf\u8fdb\u884c\u4e00\u6b21\u68af\u5ea6\u4e0b\u964d\u5c31\u662f\u4e00\u4e2a epoch\u3002\u540e\u6765\u90fd\u662f\u5c0f\u6279\u91cf\u7b97\u6cd5\uff0c\u6709 batch \u7684\u6982\u5ff5\u3002\u5c06\u6570\u636e\u968f\u673a\u6253\u4e71\u62bd\u6837\u6210\u4e00\u4e2a\u4e2a batch\u3002\u6bcf\u6b21\u8fd9\u4e9b batch \u904d\u5386\u5b8c\u6240\u6709\u6570\u636e\u4e3a\u4e00\u4e2a epoch\u3002</p> <p>\u5b9e\u9645\u4e0a\u6df1\u5ea6\u5b66\u4e60\u95ee\u9898\uff0c\u548c\u4e0a\u9762\u4e8c\u6b21\u51fd\u6570\u7684\u62df\u5408\u95ee\u9898\uff0c\u672c\u8d28\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\u3002\u6539\u53d8\u7684\u53ea\u6709\u6a21\u578b\u3001\u635f\u5931\u51fd\u6570\u7684\u8ba1\u7b97\u3001\u66f4\u65b0\u53c2\u6570\u7684\u65b9\u6cd5\u3002</p> <p>\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6211\u4eec\u8981\u6c42\u89e3\u4e00\u4e2a\u6700\u4f18\u6a21\u578b\uff0c\u53c2\u6570\u6570\u91cf\u8fdc\u5927\u4e8e\u4e0a\u9762\u7684\u4e8c\u6b21\u51fd\u6570\u7cfb\u6570\uff0c\u56e0\u6b64\u68af\u5ea6\u975e\u5e38\u96be\u4ee5\u7528\u89e3\u6790\u7684\u65b9\u5f0f\u8868\u8fbe\u3002\u4f46\u662f\u6ca1\u5173\u7cfb\uff0c\u53cd\u5411\u4f20\u64ad\u7b97\u6cd5\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u6bcf\u6b21\u6211\u4eec\u8ba1\u7b97\u51fa loss\uff0c\u5c31\u53ef\u4ee5\u7528\u53cd\u5411\u4f20\u64ad\uff0c\u8ba1\u7b97\u51fa\u6bcf\u4e00\u5c42\u7684\u68af\u5ea6\uff0c\u4ece\u800c\u7ee7\u7eed\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u6765\u66f4\u65b0\u53c2\u6570\u3002</p>"},{"location":"opt/convex/#4","title":"4. \u7ea6\u675f\u4f18\u5316\u95ee\u9898\uff0c\u5185\u70b9\u6cd5","text":"<p>\u4e0d\u7b49\u5f0f\u7ea6\u675f\u7684\u6781\u5c0f\u5316\u95ee\u9898\uff0c\u6709\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u65b9\u6cd5\uff0c\u5185\u70b9\u6cd5\u3002\u6211\u4eec\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b\u3002\u8003\u8651\u95ee\u9898\u7684\u5f62\u5f0f\u5982\u4e0b\uff1a</p> \\[     p^* =\\min_{x} \\ f_0(x) \\quad  \\\\     \\text{subject to:}      \\quad f_i(x) \\leq 0, \\quad i = 1,  \\dots, m, \\\\ \\] <p>m \u662f\u7ea6\u675f\u6761\u4ef6\u4e2a\u6570\uff0c\u540e\u9762\u4f1a\u7528\u5230\u3002</p> <p>\u7b80\u5355\u8d77\u89c1\uff0c\u4e0d\u8003\u8651\u7b49\u5f0f\u7ea6\u675f\u3002\u5982\u679c\u6709\u7b49\u5f0f\u7ea6\u675f\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528\u4ee3\u5165\u6cd5\u8fdb\u884c\u6d88\u5143\uff0c\u8f6c\u5316\u6210\u4e0a\u8ff0\u5f62\u5f0f\uff0c\u518d\u505a\u3002\u5176\u4ed6\u65b9\u6cd5\u8bfb\u4e66\u53bb\u4e86\u3002</p> <p>\u90a3\u4e48\u6709\u4e0d\u7b49\u5f0f\u7ea6\u675f\uff0c\u5e94\u8be5\u600e\u4e48\u505a\u5462\uff1f\u6211\u4eec\u5f53\u7136\u662f\u60f3\u529e\u6cd5\u6d88\u9664\u4e0d\u7b49\u5f0f\u7ea6\u675f\u3002\u7ecf\u5178\u7684\u65b9\u6cd5\u662f\u5f15\u5165\u969c\u788d\u51fd\u6570\uff08\u6216\u8005\u53eb\u7f5a\u51fd\u6570\uff09\u3002\u6211\u4eec\u628a\u95ee\u9898\u91cd\u65b0\u8868\u8ff0\u6210\uff1a</p> \\[     p^* =\\min_{x} \\ f_0(x) + \\sum_{i=1}^{m}I_-(f_i(x))  \\] \\[ I_-(u) = 0(u\\leq 0) \\text{\u6216} \\infty (u&gt;0) \\] <p>\u8fd9\u4e2a\u51fd\u6570\u4e0d\u53ef\u5fae\uff0c\u6240\u4ee5\u60f3\u529e\u6cd5\u7528\u5176\u4ed6\u51fd\u6570\u8fd1\u4f3c\u3002\u6bd4\u5982\u8bf4\uff0c\u7528\u5bf9\u6570\u969c\u788d\u51fd\u6570\u3002</p> \\[ \\phi(x) = -\\sum^{m}_{i=1}\\ln(-f_i(x)) \\] <p>\u5176\u68af\u5ea6\u4e3a\uff1a</p> \\[ \\nabla\\phi(x) = \\sum^{m}_{i=1}\\frac{\\nabla f_i(x)}{-f_i(x)} \\] <p>\u90a3\u4e48\u95ee\u9898\u8f6c\u5316\u6210\uff1a</p> \\[ \\min_x f_0(x) + \\frac{1}{t} \\phi(x) \\] <p>\u5176\u4e2d \\(t&gt;0\\) \u662f\u786e\u5b9a\u8fd1\u4f3c\u7cbe\u5ea6\u7684\u53c2\u6570\u3002\\(t\\) \u8d8a\u5927\uff0c\u5bf9\u6570\u51fd\u6570\u8d8a\u5e73\u6ed1\uff0c\u8d8a\u7b26\u5408\u793a\u6027\u51fd\u6570\u3002</p> <p></p> <p>\u597d\uff0c\u73b0\u5728\u8fd9\u95ee\u9898\u53d8\u6210\u4e86\u4e00\u4e2a\u65e0\u7ea6\u675f\u4f18\u5316\u95ee\u9898\u3002\u6211\u4eec\u6c42\u89e3\u8fd9\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff0c\u5c31\u53ef\u4ee5\u6c42\u5f97\u539f\u95ee\u9898\u7684\u89e3\u7684\u4e00\u4e2a\u8fd1\u4f3c\u3002\u8fd9\u8fd1\u4f3c\u597d\u5417\uff1f\u4e00\u5f00\u59cb\u6211\u6709\u6240\u6000\u7591\uff0c\u4f46\u662f\u63a5\u4e0b\u6765\u53ef\u4ee5\u7528\u6570\u5b66\uff0c\u6765\u8bf4\u660e\u662f\u597d\u7684\uff0c\u56e0\u4e3a\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0 t \u6765\u6539\u8fdb\u8fd1\u4f3c\u7cbe\u5ea6\u3002</p> <p>\u4e3a\u65b9\u4fbf\uff0c\u4e0b\u9762\u6211\u4eec\u8003\u8651\u7b49\u4ef7\u95ee\u9898(1)\uff1a</p> \\[ \\min_x tf_0(x)  + \\phi(x), t&gt;0 \\] <p>\u5bf9\u4efb\u610f\u4e00\u4e2a \\(t\\)\uff0c\u6211\u4eec\u5c06\u95ee\u9898(1)\u7684\u6700\u4f18\u89e3\u8bb0\u4f5c \\(x^*(t)\\)\u3002\u53ef\u77e5\uff0c\u8fd9\u4e9b\u70b9 \\(x^*(t)\\) \u90fd\u662f\u5728\u539f\u95ee\u9898\u7684\u4e25\u683c\u53ef\u884c\u57df\u5185\u7684\uff0c\u6240\u4ee5\u88ab\u53eb\u505a\u4e2d\u5fc3\u70b9\uff08\u5185\u70b9\uff09\uff0c\u8fd9\u4e9b\u70b9\u7684\u96c6\u5408\u53eb\u505a\u4e2d\u5fc3\u8def\u5f84\u3002</p> <p>\u7531 KKT \u6700\u4f18\u6027\u6761\u4ef6\uff0c\u8003\u8651(1)\u7684\u62c9\u683c\u6717\u65e5\u68af\u5ea6\u6761\u4ef6\u6709\uff1a</p> \\[ t\\nabla f_0(x^*(t))+\\sum^{m}_{i=1}\\frac{\\nabla f_i(x^*(t))}{-f_i(x^*(t))} = 0 \\] <p>\u56de\u5230\u539f\u95ee\u9898\u7684\u62c9\u683c\u6717\u65e5\u51fd\u6570\uff1a</p> \\[ L(x, \\lambda) = f_0(x) + \\sum_{i=1}^m \\lambda_i f_i(x) \\] <p>\u5982\u679c\u4ee4</p> \\[ \\lambda_i = \\frac{1}{-tf_i(x^*(t))} &gt; 0 \\] <p>\u5219 \\(x^*(t)\\) \u6b63\u597d\u4f7f\u62c9\u683c\u6717\u65e5\u51fd\u6570\u8fbe\u5230\u6700\u5c0f\uff0c\u5bf9\u5e94\u7684\u5bf9\u5076\u51fd\u6570 \\(g(\\lambda)=\\min_xL(x,\\lambda)\\)\u3002\uff08\u65e0\u9700\u8003\u8651 \\(\\lambda\\) \u662f\u5426\u72ec\u7acb\uff09</p> <p>\u4e8e\u662f\uff0c\u7531\u5f31\u5bf9\u5076\u5b9a\u7406\uff0c\u6709\uff1a</p> \\[ p^* \\geq g(\\lambda(t)) = \\dots = f_0(x^*(t)) - \\frac{m}{t} \\] <p>\u5373\uff1a</p> \\[ f_0(x^*(t)) - p^* \\leq \\frac{m}{t} \\] <p>\u8fd9\u4e2a\u4e0d\u7b49\u5f0f\u8bf4\u660e\u4e86\uff0c\u6211\u4eec\u7528\u8fd1\u4f3c\u65b9\u6cd5\u6c42\u5f97\u7684\u8fd1\u4f3c\u89e3 \\(x^*(t)\\) \u662f\u6b21\u6700\u4f18\u89e3\uff0c\u5e76\u4e14\u968f\u7740 \\(t\\) \u7684\u589e\u5927\uff0c\u80fd\u9010\u6e10\u6536\u655b\u4e8e\u6700\u4f18\u89e3\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u60f3\u5230\u8fd9\u6837\u7684\u7b97\u6cd5\uff1a\u4ece\u6b21\u4f18\u70b9\u5411\u6700\u4f18\u70b9\u9010\u6b65\u903c\u8fd1\uff0c\u5e76\u589e\u5927 t\uff0c\u79f0\u4e3a\u5e8f\u5217\u969c\u788d\u6cd5\u6216\u8def\u5f84\u8ddf\u8e2a\u6cd5\uff08SUMT\uff09\u3002\u7b97\u6cd5\u4f2a\u4ee3\u7801\u5982\u4e0b</p> <pre><code>\u627e\u4e00\u4e2a\u4e25\u683c\u53ef\u884c\u7684 x_0\uff08\u4e0d\u80fd\u5728\u8fb9\u754c\u4e0a\uff0c\u4e00\u5b9a\u8981\u662f\u5185\u70b9\uff09\uff0c\u786e\u5b9a\u521d\u59cb t_0&gt;0\uff0cmu&gt;1\uff0ceps&gt;0\n\u91cd\u590d\u8fdb\u884c\n1. \u4e2d\u5fc3\u70b9\u6b65\u9aa4\uff0c\u4ee5 x \u4e3a\u521d\u59cb\u70b9\uff0c\u6c42\u89e3\u6781\u5c0f\u5316\u95ee\u9898 tf_0(x)+phi(x) \u7684\u89e3 x(t)\n2. \u66f4\u65b0 x = x(t)\n3. \u5224\u65ad\u6536\u655b\u8bef\u5dee\u662f\u5426 m/t &lt;= mu\uff0c\u662f\u5219\u505c\u6b62\u7b97\u6cd5\n4. \u66f4\u65b0 t=mu*t\u3002\n</code></pre> <p>\u4e0a\u9762\u7684\u6bcf\u6b21\u8fed\u4ee3\u627e\u5230\u65b0\u7684\u4e2d\u5fc3\u70b9\u79f0\u4e3a\u5916\u8fed\u4ee3\u3002\u627e\u5230\u4e2d\u5fc3\u70b9\u6216\u662f\u4f7f\u7528\u68af\u5ea6\u4e0b\u964d\uff0c\u6216\u662f\u4f7f\u7528\u725b\u987f\u6cd5\uff0c\u8981\u505a\u82e5\u5e72\u6b21\u8fed\u4ee3\u79f0\u4e3a\u5185\u8fed\u4ee3\u3002\u7531\u4e8e\u4e2d\u5fc3\u70b9\u5728\u53ef\u884c\u96c6\u5185\u90e8\u3001\u4e2d\u5fc3\u8def\u5f84\u671d\u7740\u6700\u4f18\u70b9\u8d70\u3001\u4f7f\u7528\u4e86\u969c\u788d\u51fd\u6570\uff0c\u6545\u88ab\u79f0\u4e3a\u5185\u70b9\u6cd5/\u5e8f\u5217\u969c\u788d\u6cd5/\u4e2d\u5fc3\u8def\u5f84\u6cd5\u3002</p>"},{"location":"opt/convex/#_3","title":"\u5b9e\u4f8b\uff1a\u7ebf\u6027\u89c4\u5212","text":"<p>\u4e0b\u9762\u4ee5\u7ebf\u6027\u89c4\u5212\u95ee\u9898\u4e3a\u4f8b\u6765\u5b9e\u73b0\u4e00\u4e2a\u5185\u70b9\u6cd5\u3002</p> <p>\u8003\u8651\u6807\u51c6\u7ea6\u675f\u7684\u7ebf\u6027\u89c4\u5212\u95ee\u9898\uff1a</p> \\[     p^* =\\min_{x} \\ c^Tx \\quad  \\\\     \\text{subject to:}      \\quad a_i^Tx \\leq b_i, \\quad i = 1,  \\dots, m, \\\\ \\] <p>\u5176\u5bf9\u6570\u969c\u788d\u51fd\u6570\u4e3a\uff1a</p> \\[ \\phi(x)=-\\sum_{i=1}^{m}\\ln(b_i-a_i^Tx) \\] <p>\u68af\u5ea6\u4e3a\uff1a</p> \\[ \\nabla\\phi(x)=\\sum_{i=1}^m\\frac{a_i}{b_i-a_i^Tx} \\] <p>\u6211\u4eec\u7528\u5185\u70b9\u6cd5\u6765\u5b9e\u73b0\uff0c\u5199\u51fa\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>def interior_point(A, b, c, x0, t0=1, mu=20, epsilon=1e-8, max_iter=1000):\n    \"\"\"\n    \u5185\u70b9\u6cd5\n\n    \u53c2\u6570:\n        A, b, c: \u7ebf\u6027\u89c4\u5212\u95ee\u9898\u7684\u53c2\u6570\uff0c\u7ea6\u675f A@x&lt;=b, \u6c42\u89e3 min c@x\n        x0: \u521d\u59cb\u70b9\uff08\u5fc5\u987b\u4e25\u683c\u53ef\u884c\uff09\n        t0: \u521d\u59cb\u969c\u788d\u53c2\u6570\n        mu: \u969c\u788d\u53c2\u6570\u589e\u957f\u56e0\u5b50\n        epsilon: \u6536\u655b\u9608\u503c\n        max_iter: \u6700\u5927\u8fed\u4ee3\u6b21\u6570\n    \"\"\"\n    m = len(b) # \u4e0d\u7b49\u5f0f\u7ea6\u675f\u4e2a\u6570\n    t = t0\n    x = x0\n    for k in range(max_iter):\n        # solve min t*c@x+phi(x), get new_x\n        # phi(x) = -sum(ln(bi-ai*x))\n        new_x, loss = central_path(A, b, c, t, x)\n        x = new_x\n        if m / t &lt;= epsilon:\n            return x, c @ x\n        t *= mu\n    loss = c @ x\n    return x, loss\n</code></pre> <p>\u4e2d\u95f4\u6c42\u89e3\u4e2d\u5fc3\u8def\u5f84\u7684\u7b97\u6cd5\uff0c\u6211\u4f7f\u7528\u4e86\u68af\u5ea6\u4e0b\u964d\u6cd5\u3002\u867d\u7136\u6559\u6750\u4f7f\u7528\u725b\u987f\u6cd5\u3002\u6ce8\u610f\uff0c\u5916\u90e8\u8fed\u4ee3\u662f\u4e00\u5b9a\u4f1a\u5728\u53ef\u884c\u57df\u5185\u7684\uff0c\u4f46\u662f\u5185\u90e8\u8fed\u4ee3\u4e0d\u4f1a\uff0c\u6709\u53ef\u80fd\u4f1a\u8d85\u51fa\u53ef\u884c\u57df\uff0c\u9700\u8981\u8fdb\u884c\u4e00\u6b65\u5224\u65ad\u3002</p> <pre><code>def gradient_descent(A, b, c, t, x0, lr=0.001, epoch=1000, eps=1e-8):\n    \"\"\"\n    \u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u6c42\u89e3\u4e2d\u5fc3\u8def\u5f84\u95ee\u9898\uff0c\u6c42\u6700\u4f18 x\n    \"\"\"\n    x = x0\n    loss = 0\n    last_loss = 0\n    last_x = 0\n    for i in range(epoch):\n        Ax = A @ x\n        bAx = b-Ax\n\n        # numpy \u5e7f\u64ad\u6cbf\u7740\u7eb5\u5411\n        grad_phi = np.sum(A.T / (bAx+eps), axis=1)\n        grad = grad_phi+t*c\n        last_x=x\n        x = x-lr*grad\n        last_loss = loss\n\n        # \u5224\u65ad\u662f\u5426\u662f\u53ef\u884c\u70b9\uff0c\u7528\u68af\u5ea6\u4e0b\u964d\u5f97\u5230\u7684\u7ed3\u679c\uff0c\u672a\u5fc5\u662f\u53ef\u884c\u70b9\u3002\n        # \u6700\u4f18\u89e3\u4e00\u5b9a\u662f\u53ef\u884c\u70b9\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u68af\u5ea6\u4e0b\u964d\u4f1a\u9707\u8361\u7b49\u7b49\u4ea7\u751f\u7684\u7ed3\u679c\u672a\u5fc5\u662f\u53ef\u884c\u70b9\uff0c\u6ce8\u610f\u4e86\u3002\n        # \u6240\u4ee5\u8fd9\u91cc\u52a0\u4e00\u4e2a\u5224\u65ad\n        if (np.all(b-A@x&gt;0))==False:\n            x=last_x\n            lr=lr*0.5\n            continue\n\n        phi = -np.sum(np.log(b-A@x))\n        loss = t*c@x + phi\n        if np.abs(last_loss-loss) &lt; eps or np.sum(np.abs(last_x-x)) &lt; eps:\n            break\n\n    return x,loss\n\n\ndef central_path(A,b,c,t,x0):\n    \"\"\"\n    \u6c42\u89e3\u4e2d\u5fc3\u8def\u5f84\uff08\u5185\u8fed\u4ee3\uff09\uff0c\u7ebf\u6027\u89c4\u5212\u7684\u4e2d\u5fc3\u8def\u5f84\u6700\u4f18\u5316\u95ee\u9898\u662f\uff1a\n    min t*c@x+phi(x)\n    phi(x) = -sum(ln(bi-ai*x))\n    \u4ee5 x0 \u4e3a\u8fed\u4ee3\u521d\u59cb\u70b9\uff0c\u6c42 x\n    \"\"\"\n\n    lr = 0.001\n    epoch = 200\n    x, loss = gradient_descent(A, b, c, t, x0, lr, epoch)\n    # x, loss = newton_method(A, b, c, t, x0, lr, epoch)\n\n    return x, loss\n</code></pre> <p>\u5c06\u5b98\u65b9\u4ee3\u7801\u548c\u624b\u5199\u65b9\u6cd5\u8fdb\u884c\u6bd4\u8f83\uff0c\u53ef\u4ee5\u770b\u5230\u51e0\u4e4e\u4e00\u81f4\uff0c\u5185\u70b9\u6cd5\u6548\u679c\u5f88\u597d\u3002</p> <pre><code>from scipy.optimize import linprog\nimport numpy as np\n\n# \u5b9a\u4e49\u95ee\u9898\u6570\u636e\nc = np.array([-3, -5])  # \u76ee\u6807\u51fd\u6570\u7cfb\u6570\uff08\u53d6\u8d1f\u503c\uff09\nA = np.array([[1, 2], [2, 1], [-1, 0], [0, -1]])  # \u4e0d\u7b49\u5f0f\u7ea6\u675f\u77e9\u9635\nb = np.array([10, 8, 0 ,0 ])          # \u7ea6\u675f\u53f3\u4fa7\u503c\n\n# \u5b98\u65b9\u6c42\u89e3\nresult = linprog(c, A_ub=A, b_ub=b, method='highs')\n\nprint(\"\\n=== scipy.optimize.linprog \u7ed3\u679c ===\")\nprint(\"\u6700\u4f18\u89e3:\", result.x)\nprint(\"\u6700\u5927\u5229\u6da6:\", -result.fun)  # \u76ee\u6807\u503c\u53d6\u8d1f\u6062\u590d\u6700\u5927\u503c\nprint(\"\u72b6\u6001:\", result.message)\n\n# \u624b\u5199\u65b9\u6cd5\nx0 = np.array([1,1])\nassert np.all(A @ x0 &lt; b - 1e-6), \"\u521d\u59cb\u70b9\u4e0d\u662f\u4e25\u683c\u53ef\u884c\u7684\"\nx, loss = interior_point(A, b, c, x0)\nprint(\"\\n=== my result ===\")\nprint(\"\u6700\u4f18\u89e3:\", x)\nprint(\"\u6700\u5927\u5229\u6da6:\", -loss)  # \u76ee\u6807\u503c\u53d6\u8d1f\u6062\u590d\u6700\u5927\u503c\n</code></pre> <pre><code>=== scipy.optimize.linprog \u7ed3\u679c ===\n\u6700\u4f18\u89e3: [2. 4.]\n\u6700\u5927\u5229\u6da6: 26.0\n\u72b6\u6001: Optimization terminated successfully. (HiGHS Status 7: Optimal)\n\n=== my result ===\n\u6700\u4f18\u89e3: [1.98894776 4.00552612]\n\u6700\u5927\u5229\u6da6: 25.994473878868448\n</code></pre> <p>\u5982\u679c t \u548c \u521d\u59cb x_0 \u53d6\u7684\u597d\uff0c\u8fed\u4ee3\u6536\u655b\u6bd4\u8f83\u5feb\uff0c\u4e0b\u9762\u662f\u8fd9\u4e2a\u95ee\u9898\u7684\u8fed\u4ee3\u8def\u5f84\uff0c\u5916\u8fed\u4ee3\u4e86 7 \u6b21\u5c31\u57fa\u672c\u5230\u8fbe\u4e86\u6700\u4f18\u89e3\u3002</p> <p></p> <p>\u5230\u73b0\u5728\uff0c\u7814\u7a76\u51fa\u4e86\u5f88\u591a\u51f8\u7684\u95ee\u9898\uff0c\u4e5f\u7814\u7a76\u51fa\u4e86\u5f88\u591a\u7b97\u6cd5\u3002\u4e0a\u9762\u53ea\u662f\u4e00\u4e9b\u5927\u6982\u7684\u4ecb\u7ecd\u3002\u8bfb\u8005\u53ef\u4ee5\u7ee7\u7eed\u5b66\u4e60\u3002</p>"},{"location":"opt/intro/","title":"\u4f18\u5316\u7406\u8bba\u4ecb\u7ecd","text":"<p>\u6700\u4f18\u5316\u95ee\u9898\u975e\u5e38\u5e38\u89c1\u3002\u6709\u9ad8\u4e2d\u5b66\u5386\u7684\u8bfb\u8005\uff0c\u6c42\u8fc7\u51fd\u6570\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u6216\u8005\u7ebf\u6027\u89c4\u5212\u7684\u6700\u4f18\u89e3\uff0c\u8fd9\u4e9b\u5c31\u662f\u6700\u4f18\u5316\u95ee\u9898\u3002\u7b80\u5355\u8bf4\uff0c\u6700\u4f18\u5316\u95ee\u9898\u5c31\u662f\u6c42\u51fa\u4e00\u4e2a\u81ea\u53d8\u91cf\u7684\u53d6\u503c\uff0c\u4f7f\u5f97\u51fd\u6570\u53d6\u5f97\u6700\u503c\u3002\u4f18\u5316\u95ee\u9898\u7684\u6570\u5b66\u5b9a\u4e49\u662f\uff1a</p> \\[     p^*=\\min_{x} \\ f(x) \\quad  \\\\     \\text{subject to:}      \\quad g_i(x) \\leq 0, \\quad i = 1, 2, \\dots, m, \\\\ \\] <p>\u5c31\u662f\uff0c\u627e\u5230\u4e00\u4e2a \\(n\\) \u7ef4\u5411\u91cf \\(x^*\\)\uff0c\u4f7f\u5176\u6ee1\u8db3\u7ea6\u675f\u51fd\u6570 \\(g(x)\\) \u7684\u9650\u5236\uff0c\u4f7f\u76ee\u6807\u51fd\u6570 \\(f(x)\\) \u53d6\u5f97\u6700\u5c0f\u503c\u3002\u6211\u4eec\u5c06 \\(x^*\\) \u79f0\u4e3a\u539f\u95ee\u9898\u7684\u89e3\u6216\u6700\u4f18\u89e3\uff0c\\(p^*\\) \u79f0\u4e3a\u6700\u4f18\u503c\u3002</p> <p>\u4eba\u4eec\u5df2\u7ecf\u603b\u7ed3\u51fa\u4e86\u8bb8\u591a\u95ee\u9898\u7684\u8303\u5f0f\u4ee5\u53ca\u5bf9\u5e94\u7684\u6c42\u89e3\u6700\u4f18\u503c\u65b9\u6cd5\u3002\u5728\u6c42\u89e3\u5b9e\u9645\u95ee\u9898\u65f6\uff0c\u5f80\u5f80\u5e0c\u671b\u5c06\u95ee\u9898\u8f6c\u5316\u6210\u5df2\u77e5\u7684\u95ee\u9898\uff0c\u65b9\u4fbf\u6211\u4eec\u6c42\u89e3\u3002\u4ee5\u524d\u5728\u8bfb\u6559\u6750\u7684\u65f6\u5019\uff0c\u4e00\u76f4\u4e0d\u592a\u6e05\u695a\u4e3a\u4f55\u6559\u6750\u5927\u8d39\u5468\u7ae0\u5730\u4ecb\u7ecd\u5404\u7c7b\u4f18\u5316\u95ee\u9898\uff0c\u5374\u4e0d\u7ed9\u89e3\u51b3\u7684\u7b97\u6cd5\u3002\u73b0\u5728\u624d\u77e5\u9053\uff0c\u6559\u6750\u8ba4\u4e3a\uff0c\u6c42\u89e3\u7684\u7b97\u6cd5\u662f\u7b80\u5355\u7684\uff08\u4e0d\u662f\u7b80\u5355\u7684\uff0c\u800c\u662f\u5df2\u7ecf\u6709\u6210\u719f\u7684\u7b97\u6cd5\u4f9b\u7ed9\u8bfb\u8005\u76f4\u63a5\u4f7f\u7528\uff0c\u8bfb\u8005\u4e0d\u5fc5\u77e5\u9053\u6c42\u89e3\u7ec6\u8282\uff09\uff0c\u4f46\u662f\u96be\u70b9\u5728\u4e8e\uff0c\u4ece\u5b9e\u9645\u95ee\u9898\u4e2d\uff0c\u62bd\u8c61\u51fa\u95ee\u9898\u7684\u8303\u5f0f\uff0c\u5c06\u4e4b\u8f6c\u5316\u4e3a\u6709\u9ad8\u6548\u6c42\u89e3\u65b9\u6cd5\u7684\u95ee\u9898\u3002</p> <p>\u6211\u4eec\u4ece\u6700\u5c0f\u4e8c\u4e58\u6cd5\u5f00\u59cb\u3002</p> <p>\u6700\u5c0f\u4e8c\u4e58\u6cd5\u4ecd\u7136\u662f\u5173\u4e8e\u6c42\u89e3\u77e9\u9635\u65b9\u7a0b \\(Ax=y\\) \u7684\u65b9\u6cd5\u3002\u82e5 \\(y\\) \u4e0d\u5728 \\(A\\) \u7684\u5217\u7a7a\u95f4\u4e2d\uff0c\u5219 \\(Ax=b\\) \u65e0\u89e3\uff01\u4f46\u662f\uff0c\u5e0c\u671b\u80fd\u627e\u5230\u4e00\u4e2a\u6700\u597d\u7684 \\(x\\)\uff0c\u4ee4\u6b8b\u5dee \\(r=Ax-y\\) \u5c3d\u53ef\u80fd\u5c0f\u3002\u6211\u4eec\u7528\u4e8c\u8303\u6570\u5ea6\u91cf \\(r\\) \u7684\u5927\u5c0f\u3002\u90a3\u4e48\u6700\u4f18\u5316\u95ee\u9898\u53ef\u4ee5\u63cf\u8ff0\u6210\uff1a</p> \\[ \\min_x ||Ax - y||_2^2 \\] <p>\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4e8c\u6b21\u51fd\u6570\uff0c\u6211\u4eec\u5c55\u5f00\u6c42\u5bfc\uff0c\u53ef\u4ee5\u5f97\u5230\u5bfc\u6570\u4e3a \\(0\\) \u65f6\uff0c\\(x\\) \u9700\u8981\u6ee1\u8db3\u65b9\u7a0b \\(A^T A x = A^T y\\)\u3002\u5219\u6211\u4eec\u9700\u8981\u7684\u6700\u4f18\u89e3\u5c31\u662f \\(x = (A^TA)^{-1}A^Ty\\)\u3002</p> <p>\u8fd9\u662f\u4e2a\u5f88\u597d\u7684\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u6700\u4f18\u89e3\u7684\u8868\u8fbe\u5f0f\u3002\u5b9e\u9645\u4e0a\u5f88\u591a\u95ee\u9898\u662f\u6ca1\u6709\u529e\u6cd5\u8fd9\u6837\u76f4\u63a5\u6c42\u51fa\u6765\u7684\uff0c\u4f46\u662f\u5982\u679c\u5176\u6709\u6700\u4f18\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u8fed\u4ee3\u7684\u7b97\u6cd5\u6765\u83b7\u5f97\u6700\u4f18\u89e3\u3002</p> <p>\u4f55\u65f6\u4f1a\u7528\u5230\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u5462\uff1f\u6bd4\u5982\uff0c\u591a\u9879\u5f0f\u51fd\u6570\u7684\u62df\u5408\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u5f52\u7ed3\u5230\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u3002\u62df\u5408\u95ee\u9898\uff0c\u5c31\u662f\u8bf4\uff0c\u5df2\u77e5 \\(n\\) \u4e2a\u70b9\u7684\u5750\u6807\uff0c\u627e\u5230\u4e00\u4e2a\u6700\u597d\u7684\u51fd\u6570\uff0c\u4f7f\u51fd\u6570\u4e0e\u6570\u636e\u70b9\u7684\u8bef\u5dee\u6700\u5c0f\u3002\u6211\u4eec\u4ee5\u4e8c\u6b21\u51fd\u6570\u7684\u62df\u5408\u4e3a\u4f8b\u5b50\uff1a</p> \\[ f(x) = ax^2 + bx + c \\] <p>\u6211\u4eec\u9700\u8981\u6c42\u89e3\u6700\u597d\u7684\\([a, b, c]\\)\uff0c\u4ee4\u8bef\u5dee\u6700\u5c0f\u3002\u90a3\u5176\u5b9e\u5c31\u662f\u6c42\u89e3\u77e9\u9635\u65b9\u7a0b \\(Ax=y\\)\uff0c\u5176\u4e2d</p> \\[ A = \\begin{bmatrix} x_1^2 &amp; x_1 &amp; 1 \\\\ x_2^2 &amp; x_2 &amp; 1 \\\\ \\vdots &amp; \\vdots &amp; \\vdots \\\\ x_n^2 &amp; x_n &amp; 1 \\\\ \\end{bmatrix}, \\quad y = \\begin{bmatrix} y_1 \\\\ y_2 \\\\ \\vdots \\\\ y_n \\\\ \\end{bmatrix} \\] \\[ x = \\begin{bmatrix} a\\\\ b\\\\ c \\end{bmatrix} \\] <p>\u8fd9\u6837\u6211\u4eec\u5c31\u628a\u95ee\u9898\u8f6c\u5316\u6210\u4e86\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\uff0c\u5229\u7528\u901a\u89e3\u516c\u5f0f\u5373\u53ef\u6c42\u51fa\u6700\u4f18\u89e3\u3002</p> <p>\u611f\u8c22\u5927\u6a21\u578b\u7684\u5e2e\u52a9\uff0c\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u5730\u5199\u51fa\u4f8b\u7a0b\uff1a <pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndef quadratic_fit(x, y):\n    \"\"\"\n    \u4f7f\u7528\u6700\u5c0f\u4e8c\u4e58\u6cd5\u62df\u5408\u4e8c\u6b21\u51fd\u6570 f(x) = ax^2 + bx + c\n\n    \u53c2\u6570\uff1a\n        x: \u6570\u636e\u70b9\u7684 x \u5750\u6807 (n\u7ef4\u6570\u7ec4)\n        y: \u6570\u636e\u70b9\u7684 y \u5750\u6807 (n\u7ef4\u6570\u7ec4)\n\n    \u8fd4\u56de\uff1a\n       x_n, norm_r: \u6700\u4f18\u7cfb\u6570\u4e0e\u6b8b\u5dee\n    \"\"\"\n    # \u6784\u9020\u77e9\u9635 A \u548c\u5411\u91cf B\n    A = np.vstack([x**2, x, np.ones_like(x)]).T\n    B = y\n\n    # \u6c42\u89e3\u6700\u4f18\u89e3\n    x_n =  np.linalg.inv(A.T @ A) @ A.T @ y\n    r = y - A @ x_n\n    norm_r = np.sqrt(r.T @ r)\n    return x_n, norm_r\n\n# \u793a\u4f8b\u6570\u636e\nx = np.array([1, 2, 3, 4, 5])\ny = np.array([1, 2, 2.3, 2 ,1])\n\n# \u62df\u5408\u4e8c\u6b21\u51fd\u6570\n[a, b, c] ,norm_r= quadratic_fit(x, y)\nprint(f\"\u62df\u5408\u7684\u4e8c\u6b21\u51fd\u6570\u4e3a: f(x) = {a:.2f}x^2 + {b:.2f}x + {c:.2f}, residue = {norm_r}\")\n\n# \u7ed8\u5236\u7ed3\u679c\nx_fit = np.linspace(min(x), max(x), 100)\ny_fit = a * x_fit**2 + b * x_fit + c\n\nplt.scatter(x, y, label=\"Data points\")\nplt.plot(x_fit, y_fit, color='red', label=f\"Curve: f(x) = {a:.2f}x^2 + {b:.2f}x + {c:.2f}\")\nplt.xlabel(\"x\")\nplt.ylabel(\"y\")\nplt.legend()\nplt.title(\"Quadratic Function\")\nplt.show()\n</code></pre></p>"},{"location":"opt/la/","title":"\u7ebf\u6027\u4ee3\u6570\u590d\u4e60","text":"<p>\u8fd9\u91cc\u7b80\u660e\u627c\u8981\u5730\u590d\u4e60\u4e00\u4e0b\u7ebf\u6027\u4ee3\u6570\u7684\u4e00\u4e9b\u7406\u8bba\uff0c\u4e3b\u8981\u662f\u7ebf\u6027\u7a7a\u95f4\u7684\u90e8\u5206\u3002</p> <p>\u65b9\u4fbf\u8d77\u89c1\uff0c\u6211\u4eec\u4e0d\u52a0\u7c97\u4f53\uff0c\u8bfb\u8005\u81ea\u884c\u8fa8\u8ba4\u3002</p> <p>\u6ce8\uff1a\u6709\u4e9b\u7ef4\u6570\u662f\u6307\u5411\u91cf\u7684\u5143\u7d20\u4e2a\u6570\uff0c\u6709\u4e9b\u7ef4\u6570\u5219\u662f\u6307\u7ebf\u6027\u65e0\u5173\u7684\u5411\u91cf\u4e2a\u6570\uff0c\u4e5f\u9700\u8bfb\u8005\u81ea\u884c\u5224\u65ad\u3002</p> <p>\u8bb0\u4e00\u4e2a n \u7ef4\u7684\u7ebf\u6027\u7a7a\u95f4\u662f \\(P^n\\)\uff0c\u6211\u4eec\u8003\u8651\u77e9\u9635 \\(A\\)\uff0c\u5176\u5f62\u72b6\u662f \\(m*n\\)\uff0c\u5c06\u4e4b\u770b\u505a\u5217\u5411\u91cf\u7684\u5206\u5757\uff1a</p> \\[ A = \\begin{bmatrix} a_1 &amp; a_2 &amp; \\cdots &amp; a_n \\end{bmatrix} \\] <p>\u90a3\u4e48\uff0c\\(A\\) \u7684\u79e9\u662f \\(r\\)\uff0c\u5219\u7531 \\(A\\) \u7684\u5217\u5411\u91cf\u6784\u6210\u7684\u5b50\u7a7a\u95f4\u662f\u5728 \\(P^m\\) \u4e0a\u7684\uff0c\u8bb0\u4f5c \\(V = C(A)\\)\uff0c\u5176\u7ef4\u6570\u662f \\(r\\)\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u6240\u6709 \\(Ax\\) \u7684\u96c6\u5408\u3002</p> <p>\\(A\\) \u7684\u96f6\u7a7a\u95f4\u5728 \\(P^n\\) \u4e0a\uff0c\u8bb0\u4f5c \\(W = N(A)\\)\uff0c\u5176\u7ef4\u6570\u662f \\(n-r\\)\uff0c\u662f\u65b9\u7a0b \\(Ax=0\\) \u7684\u89e3 \\(x\\) \u7684\u96c6\u5408\u3002</p> <p>\u4e24\u5411\u91cf\u5185\u79ef\u4e3a \\(0\\)\uff0c\u79f0\u4e3a\u6b63\u4ea4\u3002\u90a3\u4e48\u5f88\u663e\u7136\uff0c\u7531\u96f6\u7a7a\u95f4\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u5c31\u77e5\u9053\uff0c\u77e9\u9635 \\(A\\) \u7684\u884c\u5411\u91cf \\(R(A)\\) \u548c \\(A\\) \u7684\u96f6\u7a7a\u95f4 \\(N(A)\\) \u4e2d\u7684\u4efb\u4e00\u5411\u91cf\u662f\u6b63\u4ea4\u7684\uff08\u5728 \\(P^n\\) \u4e0a\uff09\u3002\u7531 \\(A\\) \u7684\u884c\u5411\u91cf\u6784\u6210\u7684\u5b50\u7a7a\u95f4\u4e0e \\(A\\) \u7684\u96f6\u7a7a\u95f4\u6b63\u4ea4\u3002\u5f53\u7136\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e0e \\(R(A)\\) \u6b63\u4ea4\u7684\u7a7a\u95f4\u662f \\(A\\) \u7684\u5217\u5411\u91cf\u7684\u96f6\u7a7a\u95f4 \\(N(A)\\)\u3002</p> <p>\u7531\u65b9\u7a0b \\(A^Tx=0\\)\uff0c\u53ef\u4ee5\u5f97\u5230\u77e9\u9635 \\(A\\) \u7684\u5217\u5411\u91cf\u6784\u6210\u7684\u5b50\u7a7a\u95f4 \\(C(A)\\)\u4e0e \\(A^T\\) \u7684\u96f6\u7a7a\u95f4 \\(N(A^T)\\) \u6b63\u4ea4\uff08\u5728 \\(P^m\\) \u4e0a\uff09\u3002\\(N(A^T)\\) \u53c8\u53eb\u5de6\u96f6\u7a7a\u95f4\u3002</p> <p>\u5bb9\u6613\u8bc1\u660e\u5b50\u7a7a\u95f4\u548c\u96f6\u7a7a\u95f4\u7684\u4ea4\u96c6\u4e3a \\(\\{0\\}\\)\uff0c\u5e76\u96c6\u662f\u6574\u4e2a\u7ebf\u6027\u7a7a\u95f4 \\(P^m\\)\u3002\u8003\u8651\u5217\u5411\u91cf\u7684\u4f8b\u5b50\uff0c\u884c\u5411\u91cf\u540c\u7406\u3002\u82e5\u5b58\u5728\u4e00\u4e2a\u5411\u91cf \\(v\\) \u540c\u5c5e\u4e8e\u4e24\u4e2a\u7a7a\u95f4\uff0c\u5219\\(|v|^2 = \\langle v, v \\rangle = 0\\)\u3002\u800c\u5b50\u7a7a\u95f4\\(C(A)\\)\u662f \\(r\\) \u7ef4\u7684\uff0c\u5de6\u96f6\u7a7a\u95f4\\(N(A^T)\\)\u662f \\(m-r\\) \u7ef4\u7684\uff0c\u7531\u4e8e\u76f8\u4e92\u6b63\u4ea4\uff0c\u53d6\u5b50\u7a7a\u95f4\u7684 \\(r\\) \u4e2a\u57fa\u5411\u91cf\u548c\u96f6\u7a7a\u95f4\u7684 \\(m-r\\) \u4e2a\u57fa\u5411\u91cf\uff0c\u8fd9 \\(m\\) \u4e2a\u5411\u91cf\u662f\u7ebf\u6027\u65e0\u5173\u7684\uff0c\u4e8e\u662f\u5b83\u4eec\u6784\u6210\u4e86 \\(P^m\\) \u7a7a\u95f4\u7684\u4e00\u7ec4\u57fa\u3002</p> <p>\u7531\u8fd9\u4e2a\u7ed3\u8bba\u8fd8\u53ef\u4ee5\u5f97\u5230\u63a8\u8bba\uff1a\u4efb\u610f\u4e00\u4e2a \\(P^m\\) \u4e2d\u7684\u5411\u91cf\u53ef\u4ee5\u552f\u4e00\u5730\u5206\u89e3\u6210\u5b50\u7a7a\u95f4\u4e2d\u7684\u5143\u7d20\u4e0e\u5de6\u96f6\u7a7a\u95f4\u7684\u5143\u7d20\u4e4b\u548c\u3002\u5b58\u5728\u89e3\u663e\u7136\uff0c\u552f\u4e00\u89e3\u5229\u7528\u53cd\u8bc1\u6cd5\u6613\u5f97\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u77e5\u9053\u5bf9\u4e8e\u77e9\u9635\u8fd8\u6709\u884c\u79e9\u7b49\u4e8e\u5217\u79e9\u7684\u7ed3\u8bba\uff0c\u4f46\u662f\u884c\u7a7a\u95f4\u4e0e\u5217\u7a7a\u95f4\u5f80\u5f80\u4e0d\u662f\u540c\u4e00\u4e2a\u5b50\u7a7a\u95f4\uff08\u53ea\u6709 \\(n\\) \u7ef4\u7a7a\u95f4\u662f\u552f\u4e00\u7684\uff09\u3002\u5217\u7a7a\u95f4\u662f\u901a\u8fc7\u81ea\u5df1\u7684\u96f6\u7a7a\u95f4\u624d\u4e0e\u884c\u7a7a\u95f4\u6b63\u4ea4\u3002\u8bfb\u8005\u53ef\u4ee5\u5c1d\u8bd5\u5982\u4e0b\u4f8b\u5b50\uff1a</p> \\[ \\begin{bmatrix} 1 &amp; 2 &amp; 4 \\\\ 2 &amp; 4 &amp; 8 \\\\ 3 &amp; 6 &amp; 12 \\end{bmatrix} \\] <p>\u5199\u51fa\u5176\u884c\u7a7a\u95f4\uff0c\u5217\u7a7a\u95f4\uff0c\u96f6\u7a7a\u95f4\u548c\u5de6\u96f6\u7a7a\u95f4\u6765\u770b\u770b\u5173\u7cfb\u3002</p> <p>\u4e0a\u9762\u6240\u8bb2\u7684\u5185\u5bb9\uff0c\u5176\u5b9e\u5c31\u662f\u7ebf\u6027\u4ee3\u6570\u57fa\u672c\u5b9a\u7406\u3002\u6211\u4eec\u8fd9\u91cc\u603b\u7ed3\u4e00\u4e0b\uff0c\u7ed3\u675f\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u7ebf\u6027\u4ee3\u6570\u57fa\u672c\u5b9a\u7406\uff1a</p> <ul> <li> <p>\u884c\u7a7a\u95f4\u548c\u96f6\u7a7a\u95f4\u662f\u6b63\u4ea4\u7684\u3002</p> </li> <li> <p>\u5217\u7a7a\u95f4\u548c\u5de6\u96f6\u7a7a\u95f4\u662f\u6b63\u4ea4\u7684\u3002</p> </li> <li> <p>\u77e9\u9635\u7684\u79e9\uff08\u5217\u7a7a\u95f4\u7ef4\u6570\uff09\u52a0\u4e0a\u5de6\u96f6\u7a7a\u95f4\u7684\u7ef4\u5ea6\u7b49\u4e8e\u5217\u6570\uff1a</p> </li> </ul> \\[ \\text{dim}C(A) + \\text{dim}N(A^T) = n \\] <ul> <li>\u77e9\u9635\u7684\u79e9\uff08\u884c\u7a7a\u95f4\u7ef4\u6570\uff09\u52a0\u4e0a\u96f6\u7a7a\u95f4\u7684\u7ef4\u5ea6\u7b49\u4e8e\u884c\u6570\uff1a</li> </ul> \\[ \\text{dim}R(A) + \\text{dim}N(A) = n \\] <ul> <li>\u4efb\u610f\u4e00\u4e2a \\(P^m\\) \u4e2d\u7684\u5411\u91cf\u53ef\u4ee5\u552f\u4e00\u5730\u5206\u89e3\u6210\u5b50\u7a7a\u95f4\u4e2d\u7684\u5143\u7d20\u4e0e\u5de6\u96f6\u7a7a\u95f4\u7684\u5143\u7d20\u4e4b\u548c\u3002\\(P^n\\) \u7c7b\u4f3c\uff0c\u4e0d\u8d58\u8ff0\u3002</li> </ul>"},{"location":"os/osnote/","title":"\u64cd\u4f5c\u7cfb\u7edf","text":""},{"location":"os/osnote/#_2","title":"\u4ecb\u7ecd","text":"<p>\u5f00\u59cb\u5b66\u64cd\u4f5c\u7cfb\u7edf. \u5b66\u4e60\u7684\u8bfe\u7a0b\u662f MIT \u7684 6.1810(\u5373\u4e4b\u524d\u7684 6.S081). \u4f7f\u7528\u7684\u6559\u6750\u662f OSTEP \u548c xv6-book</p> <p>\u7531\u4e8e\u662f\u6bcf\u8282\u8bfe\u4e00\u4e2a\u5b9e\u9a8c, \u90a3\u4e48\u6211\u5c31\u628a\u5b66\u4e60\u7684\u7b14\u8bb0\u548c\u5b9e\u9a8c\u8bb0\u5f55\u5728\u4e00\u8d77\u597d\u4e86. \u683c\u5916\u91cd\u8981\u7684\u9700\u8981\u8be6\u7ec6\u8bb2\u7684\u77e5\u8bc6\u70b9, \u518d\u5355\u72ec\u5217\u51fa.</p> <p>\u7f51\u4e0a\u5173\u4e8e\u8fd9\u95e8\u8bfe\u7684\u8d44\u6599\u771f\u7684\u591a\uff0c\u597d\u597d\u5229\u7528\uff0c\u7f51\u7ea2\u8bfe\u554a\u3002</p>"},{"location":"os/osnote/#git","title":"git \u914d\u7f6e","text":"<p>\u5728\u5b9e\u9a8c\u4e4b\u524d, \u6700\u597d\u6839\u636e\u8fd9\u4e2a\u94fe\u63a5\u6765\u914d\u7f6e\u4f60\u7684 git: https://xv6.dgs.zone/labs/use_git/git1.html, \u56e0\u4e3a\u6709\u4e9b\u5751\u548c\u4e4b\u524d\u7684\u4e0d\u540c\u3002</p> <p>\u6574\u7406\u4e00\u4e0b\uff0c\u5c31\u662f\u5148 <code>git remote add github &lt;your-url&gt;</code> \u6dfb\u52a0\u81ea\u5df1\u4ed3\u5e93\u7684\u94fe\u63a5\u4e3a github \u5206\u652f\u3002</p> <p>\u7136\u540e MIT \u90a3\u8fb9\u7684\u8fdc\u7a0b\u94fe\u63a5\u53eb origin\uff0c\u81ea\u5df1\u7684\u4ed3\u5e93\u7684\u8fdc\u7a0b\u94fe\u63a5\u53eb github\uff0c\u90a3\u4e48\u8981\u505a\u65b0\u5b9e\u9a8c xxx \u65f6\uff1a <pre><code>git fetch origin\ngit checkout xxx\ngit push github xxx\n</code></pre> \u5c31\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u4ed3\u5e93\u65b0\u5efa\u7acb\u4e00\u4e2a xxx \u5206\u652f\u3002</p> <p>\u6bcf\u6b21\u60f3\u8981\u4e0a\u4f20\u4f5c\u4e1a\u5230\u8fdc\u7a0b\u4ed3\u5e93\u65f6\uff0c<code>git push github xxx</code> \u5373\u53ef\u3002<code>git checkout yyy</code> \u53ef\u4ee5\u53bb\u5230\u4e4b\u524d\u5b8c\u6210\u7684\u4f5c\u4e1a\u7684\u5206\u652f\u3002</p>"},{"location":"os/osnote/#gdb","title":"gdb \u914d\u7f6e","text":"<p>\u8c03\u8bd5 xv6\uff0c\u81ea\u7136\u662f\u4f7f\u7528 gdb \u4e86\u3002\u4f46\u662f\uff0c\u7528 gdb \u7684\u8fc7\u7a0b\u4e2d\uff0c\u78b0\u5230\u4e86\u4e00\u4e9b\u5751\uff0c\u5bfc\u81f4\u6211\u914d\u4e86\u4e00\u4e0b\u5348\u73af\u5883\u624d\u597d\u3002\u9996\u5148\uff0c\u4e0d\u8981\u4f7f\u7528 <code>gdb-multiarch</code>\uff0c\u611f\u89c9\u95ee\u9898\u5f88\u591a\uff0c\u81ea\u5df1\u8c03\u8bd5\u7684\u65f6\u5019\u78b0\u5230\u4e00\u7cfb\u5217\u83ab\u540d\u5176\u5999\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u6267\u884c <code>ecall</code> \u6307\u4ee4\u540e\u4e0d\u4f1a\u8df3\u8f6c\u5230\u4e2d\u65ad\u5411\u91cf\uff0c\u800c\u662f\u76f4\u63a5\u5230 <code>ecall</code> \u7684\u4e0b\u4e00\u6761\u7269\u7406\u6307\u4ee4\u3002\u6700\u597d\u7528 <code>riscv64-unknown-elf-gdb</code> \u6765\u8fdb\u884c\u8c03\u8bd5\uff0c\u611f\u89c9\u8fd9\u4e2a\u7684\u8868\u73b0\u6bd4\u8f83\u6b63\u5e38\u3002\u4f46\u662f\u5b89\u88c5\u53c8\u6709\u70b9\u9ebb\u70e6\u3002</p> <p>\u4e0b\u8f7d\u89e3\u538b\u5b89\u88c5 gdb \u7684\u6b65\u9aa4\u770b\u4e0b\u9762\u8fd9\u4e2a\u94fe\u63a5\uff1a</p> <p>https://rcore-os.cn/rCore-Tutorial-deploy/docs/pre-lab/gdb.html</p> <p>\u7136\u540e\u5982\u679c\u544a\u8bc9\u4f60\u7f3a GMP\u3001MPFR \u548c MPC \u8fd9\u4e09\u4e2a\u5305\uff0c\u7167\u4e0b\u9762\u7684\u94fe\u63a5\u5b89\u88c5\u8fd9\u4e9b\u5305\uff1a</p> <p>https://blog.csdn.net/weixin_38184741/article/details/107682135</p> <p>\u8fd9\u6837\u5b89\u88c5\u597d\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>riscv64-unknown-elf-gdb</code> \u4e86\u3002\u8c03\u8bd5\u7684\u65b9\u6cd5\u5c31\u662f\u5f00\u4e24\u4e2a\u7a97\u53e3\uff0c\u4e00\u4e2a\u8fd0\u884c <code>make qemu-gdb</code>\uff0c\u4e00\u4e2a\u8fd0\u884c <code>riscv64-unknown-elf-gdb</code>\u3002</p> <p>\u7136\u540e\u4e4b\u524d\u6211\u8fd8\u5927\u8d39\u5468\u7ae0\u5730\u601d\u8003\u5982\u4f55\u8c03\u8bd5\u7528\u6237\u7a0b\u5e8f\uff0c\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u7531\u4e8e xv6 \u7f16\u8bd1\u65f6\u8d34\u5fc3\u5730\u7ed9\u4e0a\u4e86\u53cd\u6c47\u7f16\u7684\u7ed3\u679c\uff0c\u76f4\u63a5\u5728\u53cd\u6c47\u7f16\u7684\u7ed3\u679c\u627e\u5230\u76ee\u6807\u51fd\u6570\u7684\u865a\u62df\u5730\u5740\uff0c\u65ad\u70b9\u6253\u5728\u8fd9\u4e2a\u5730\u5740\u4e0a\u5c31\u884c\u4e86\uff0c\u4f8b\u5982\uff1a<code>b *0xee</code>\u3002\u5f53\u7136\u81ea\u5df1\u7a0d\u5fae\u6ce8\u610f\u4e00\u4e0b\uff0c\u53ef\u80fd\u8fd0\u884c\u4e86\u597d\u51e0\u4e2a\u7a0b\u5e8f\uff0c\u5bf9\u5e94\u540c\u6837\u7684\u865a\u62df\u5730\u5740\uff0c\u6240\u4ee5\u8fd0\u884c\u5230\u65ad\u70b9\u5904\u672a\u5fc5\u662f\u4f60\u4e4b\u524d\u65ad\u7684\u5730\u65b9\uff0c\u800c\u662f\u53e6\u4e00\u4e2a\u7a0b\u5e8f\u3002</p> <p>\u800c\u62ff ls \u51fd\u6570\u4e3e\u4f8b\uff0c\u6211\u4e4b\u524d\u627e\u5230\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\uff1a</p> <p>\u5728\u6253\u5f00\u4ee5\u540e\uff0c\u5982\u679c\u8981\u8c03\u8bd5 ls \u51fd\u6570\uff0c\u9996\u5148 <code>file user/_ls</code> \u52a0\u8f7d elf \u6587\u4ef6\uff0c\u518d <code>b ls</code> \u5373\u53ef\u3002</p> <p>\u6ce8\u610f\uff0c\u67e5\u770b <code>.gdbinit</code> \u6587\u4ef6\uff0c\u53ef\u4ee5\u53d1\u73b0\u9ed8\u8ba4\u52a0\u8f7d <code>kernel/kernel</code> \u8fd9\u4e2a elf \u6587\u4ef6\uff0c\u6240\u4ee5\u8c03\u8bd5\u65f6\uff0c\u5185\u6838\u4e2d\u7684 c \u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\uff1b\u800c\u5982\u679c\u8981\u8c03\u8bd5\u65f6\u67e5\u770b\u7528\u6237\u7a0b\u5e8f\u7684 c \u4ee3\u7801\uff0c\u5c31\u8981\u50cf\u4e0a\u9762\u4e00\u6837\u7528 <code>file</code> \u6307\u4ee4\u52a0\u8f7d\u4e00\u4e0b\uff0c\u5426\u5219\u5c31\u53ea\u80fd\u6c47\u7f16\u7ea7\u522b\u7684\u8c03\u8bd5\u3002</p> <p>\u770b\u770b\u6559\u6388\u7684\u8c03\u8bd5\u5427\uff0c\u6709\u6240\u6536\u83b7\uff1a</p> <p>\u3010\u3010\u64cd\u4f5c\u7cfb\u7edf\u5de5\u7a0b\u3011\u7cbe\u8bd1\u3010MIT \u516c\u5f00\u8bfe MIT6.S081\u3011\u3011</p> <p>\u5173\u4e8e qemu\uff0c <code>&lt;C-a&gt; c</code> \u6253\u5f00 qemu \u7684\u63a7\u5236\u53f0\uff0c\u8f93\u5165 <code>info mem</code> \u53ef\u4ee5\u67e5\u770b\u9875\u8868\u3002</p>"},{"location":"os/osnote/#lab1-utilities","title":"Lab1: Utilities","text":"<p>\u8fd9\u4e2a\u5b9e\u9a8c\u4e3b\u8981\u662f\u8981\u719f\u6089\u4e00\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u7684\u63a5\u53e3. xv6 \u7684\u63a5\u53e3\u662f\u6a21\u4eff unix \u7684\u63a5\u53e3\u7684.</p> <p>\u4e00\u4e9b\u91cd\u8981\u7684\u63a5\u53e3\u6709 fork\uff0cexec\uff0cpipe \u7b49\u7b49\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\u6ce8\u610f\u7ba1\u9053\u673a\u5236\u662f\u963b\u585e\u7684\uff1a\u53ea\u6709\u8bfb\u53d6\u7aef\u8bfb\u53d6\u4e86\u6570\u636e\u4ee5\u540e\uff0c\u5199\u5165\u7aef\u624d\u80fd\u5199\u5165\u65b0\u7684\u6570\u636e\u3002\u8fd9\u662f\u505a prime \u5b9e\u9a8c\u7684\u5173\u952e\u3002</p> <p><code>make qemu</code> \u6253\u5f00 xv6 \u64cd\u4f5c\u7cfb\u7edf</p> <p><code>&lt;C-a&gt; x</code> \u9000\u51fa</p> <p><code>./grade-lab-xxx abc</code> \u5bf9 abc \u8fdb\u884c\u6d4b\u8bd5\u3002\u6ca1\u53c2\u6570\u6279\u6539\u6574\u4e2a\u5b9e\u9a8c</p>"},{"location":"os/osnote/#lab2-syscall","title":"Lab2: Syscall","text":"<p>\u5f88\u7b80\u5355\uff0c\u5c31\u662f GDB \u7684\u4f7f\u7528\u4ee5\u53ca\u4e00\u4e9b\u7cfb\u7edf\u8c03\u7528\u7684\u6dfb\u52a0\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\u77e5\u9053\u4e86 xv6 \u4e2d\u7684\u5185\u5b58\u5206\u914d\uff08kalloc \u548c free\uff09\u662f\u901a\u8fc7\u94fe\u8868\u5b9e\u73b0\u7684\u3002</p> <p>GDB \u6709\u4e9b\u5751\uff0c\u6211\u5728\u5f00\u5934\u89e3\u91ca\u3002</p>"},{"location":"os/osnote/#lab3-pgtbl","title":"Lab3: Pgtbl","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u865a\u62df\u5185\u5b58\u7684\u5b9e\u9a8c\u3002\u7cdf\u7cd5\u7684\u662f\uff0c\u76ee\u524d\u6211\u6ca1\u6709\u4ec0\u4e48\u5934\u7eea\u3002\u4e3b\u8981\u662f\u4e0d\u77e5\u9053\u4ee3\u7801\u7684\u7ed3\u6784\uff0c\u5f97\u4ed4\u7ec6\u770b\u3002</p> <p>\u9996\u5148\u641e\u6e05\u695a\u64cd\u4f5c\u7cfb\u7edf\u7ed9\u8fdb\u7a0b\u5206\u914d\u9875\u7684\u8fc7\u7a0b\u3002\u5728 <code>proc.c</code> \u4e2d\u3002\u6709\u4e09\u9053\u9898\uff0c\u7b2c\u4e00\u9898\u7684\u5de5\u4f5c\u662f\u5728\u8fdb\u7a0b\u7684\u9875\u8868\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u9875\u6620\u5c04\u5230\u865a\u62df\u5730\u5740 <code>USYSCALL</code> \u5bf9\u5e94\u7684\u5185\u5b58\uff0c\u76f4\u63a5\u50a8\u5b58 pid \u7b49\u6570\u636e\uff0c\u8fd9\u6837\u7528\u6237\u7aef\u5c31\u53ef\u4ee5\u4ece\u865a\u62df\u5730\u5740 <code>USYSCALL</code> \u76f4\u63a5\u8bfb\u53d6\u4fe1\u606f\uff0c\u5c31\u53ef\u4ee5\u51cf\u5c11\u7cfb\u7edf\u8c03\u7528\u7684\u6b21\u6570\uff0c\u589e\u52a0\u8fd0\u884c\u6548\u7387\u3002\u8fd9\u9053\u9898\u7684\u4ee3\u7801\u90fd\u662f\u5728\u5185\u6838\u4ee3\u7801\u4e2d\u4fee\u6539\u7684\uff0c\u6240\u4ee5\u5fc5\u987b\u4ed4\u7ec6\u5730\u9605\u8bfb\u5185\u6838\u4ee3\u7801\u624d\u80fd\u505a\u51fa\u6765\u3002\uff08\u505a\u6cd5\u662f\u4eff\u7167 <code>proc.c</code> \u4e2d\u7684\u505a\u6cd5\u5206\u914d\u548c\u91ca\u653e\u4e00\u4e2a\u65b0\u7684\u9875\uff0c\u5982 trapframe\u3002\u4e00\u5f00\u59cb\u5fd8\u8bb0\u4e86\u9875\u7684\u91ca\u653e\u8fc7\u7a0b\uff0c\u800c\u5bfc\u81f4 bug\uff09\u3002</p> <p>\u7b2c\u4e8c\u9053\u9898\u662f\u6253\u5370\u9875\u8868\u3002\u5173\u952e\u662f\u5982\u4f55\u904d\u5386\u6574\u4e2a PTE\uff1f</p> <p>\u9996\u5148\u8981\u77e5\u9053 xv6 \u4f7f\u7528\u7684\u9875\u8868\u7ed3\u6784\u662f riscv \u7684 sv39 \u4e09\u7ea7\u9875\u8868\u3002\u539f\u7406\u548c\u524d\u9762\u5b66\u8fc7\u7684 Sv32 \u662f\u4e00\u6837\u7684\u3002\u8fd9\u91cc\u6211\u4eec\u7528 64 \u4f4d\u6570\u636e\u8868\u793a\u5730\u5740\uff0c\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e09\u7ea7\u9875\u8868\u7684\u8f6c\u6362\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u865a\u62df\u5730\u5740\u90fd\u662f 9 \u4f4d\uff0c\u56e0\u6b64\u6bcf\u4e00\u7ea7\u9875\u8868\u7684\u9875\u8868\u9879\u4e2a\u6570\u4e3a 2 \u7684 9 \u6b21\u65b9 512 \u4e2a\u3002</p> <p>\u5229\u7528 dfs \u7b97\u6cd5\uff0c\u5bf9\u65e0\u6548\u7684 pte \u526a\u679d\uff0c\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u5bf9\u9875\u8868\u9879\u8fdb\u884c\u904d\u5386\u4e86\u3002</p> <p>\u6700\u540e\u4e00\u9898\u663e\u793a hard \u96be\u5ea6\uff0c\u770b\u770b\u4ec0\u4e48\u6765\u5934\u3002\u5176\u5b9e\u4e00\u70b9\u90fd\u4e0d\u96be\u3002\u8fd9\u4e2a\u95ee\u9898\u662f\u6dfb\u52a0\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u76d1\u6d4b\u8bfb\u5199\u8fc7\u7684\u9875\u3002\u6211\u89c9\u5f97\u6700\u96be\u7684\u5730\u65b9\u662f\uff1a\u201c\u5982\u4f55\u5c06\u8bfb\u5199\u8fc7\u7684\u9875\u7684\u9875\u8868\u9879\u7684\u5bf9\u5e94\u4f4d\u8fdb\u884c\u7f6e\u4f4d\u201d\u3002\u8fd9\u662f\u64cd\u4f5c\u7cfb\u7edf\u91cc\u505a\u4e0d\u5230\u7684\uff0c\u53ea\u6709\u5728 qemu \u786c\u4ef6\u4e0a\u624d\u80fd\u76f4\u63a5\u505a\u5230\uff0c\u56e0\u4e3a\u786c\u4ef6\u76f4\u63a5\u5c06\u865a\u62df\u5730\u5740\u8f6c\u5316\u4e3a\u7269\u7406\u5730\u5740\uff0c\u5e76\u4e0d\u7ecf\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u3002\u6700\u540e\u53d1\u73b0\u786c\u4ef6\u5f53\u7136\u662f\u5e2e\u6211\u4eec\u7f6e\u4f4d\u597d\u4e86\uff0c\u5c31\u597d\u50cf ISA \u624b\u518c\u63cf\u8ff0\u7684\u4e00\u6837\u3002\u6240\u4ee5\u8fd9\u4e2a\u7ea0\u7ed3\u4e86\u6211\u4e00\u5929\u7684\u95ee\u9898\u7684\u7b54\u6848\u662f\uff0c\u6211\u4ec0\u4e48\u4e5f\u4e0d\u7528\u505a\u3002</p> <p>\u8fd9\u5012\u662f\u7ed9\u4e86\u6211\u4e00\u4e2a\u7ecf\u9a8c\uff1a\u786c\u4ef6\u7684\u884c\u4e3a\u662f\u548c ISA \u624b\u518c\u63cf\u8ff0\u4e00\u81f4\u7684\u3002</p> <p>\u8fd8\u6709\u5c31\u662f\u4f4d\u8fd0\u7b97\u65f6\u53ef\u80fd\u5bb9\u6613\u72af\u7684\u9519\u4e86\u3002\u6e05\u96f6\u7528\u4e0e\u8fd0\u7b97\uff0c\u7f6e\u4f4d\u7528\u6216\u8fd0\u7b97\u3002</p> <p>\u6700\u540e\u6709\u4e00\u4e2a usertest \u7684\u6d4b\u8bd5\u4f3c\u4e4e\u901a\u4e0d\u8fc7\uff0c\u4f46\u662f\u672c\u6b21\u7684\u4efb\u52a1\u57fa\u672c\u548c\u9875\u8868\u7684\u7ed3\u6784\u7b49\u6ca1\u4ec0\u4e48\u5173\u7cfb\uff0c\u6211\u5c31\u4e0d\u7ba1\u4e86\u3002</p> <p>\u54ce\uff0c\u81ea\u5df1\u597d\u6ca1\u8010\u5fc3\u554a\uff0c\u5931\u53bb\u4e86\u5206\u6790\u7684\u80fd\u529b\u3002\u95ee\u9898\u662f\uff1a\u201cFAILED -- lost some free pages 25902 (out of 32457)\u201d \u90a3\u4e48\u663e\u7136\u662f\u6709\u4e00\u4e9b\u9875\u6ca1\u6709\u91ca\u653e\u4e86\uff0c\u5176\u5b9e\u5c31\u662f\u7b2c\u4e00\u9898\u91cc\u9762\u5b9a\u4e49\u7684\u9875\u8868\u5728\u7ed3\u675f\u6ca1\u6709\u91ca\u653e\u5185\u5b58\uff1a</p> <pre><code>    if(p-&gt;u)\n        kfree((void*)p-&gt;u);\n    p-&gt;u = 0;\n</code></pre> <p>\u53e6\u5916\uff0cPA \u7684\u5b9e\u8df5\u6536\u83b7\u8fd8\u662f\u633a\u5927\u7684\uff0c\u56e0\u4e3a\u60f3\u4e0d\u8d77\u6765\u8fc7\u7a0b\u4e86\u53ef\u4ee5\u770b\u81ea\u5df1\u7684\u4ee3\u7801\u56de\u5fc6\u3002</p>"},{"location":"os/osnote/#lab4-trap","title":"Lab4: Trap","text":"<p>\u7b2c\u4e00\u9898\u6253\u5370\u51fd\u6570\u8c03\u7528\u7684 backtrace\uff0c\u770b\u4e0b\u56fe\u6e05\u6670\uff1a</p> <pre><code>                .\n      +-&gt;          .\n      |   +-----------------+   |\n      |   | return address  |   |\n      |   |   previous fp ------+\n      |   | saved registers |\n      |   | local variables |\n      |   |       ...       | &lt;-+\n      |   +-----------------+   |\n      |   | return address  |   |\n      +------ previous fp   |   |\n          | saved registers |   |\n          | local variables |   |\n      +-&gt; |       ...       |   |\n      |   +-----------------+   |\n      |   | return address  |   |\n      |   |   previous fp ------+\n      |   | saved registers |\n      |   | local variables |\n      |   |       ...       | &lt;-+\n      |   +-----------------+   |\n      |   | return address  |   |\n      +------ previous fp   |   |\n          | saved registers |   |\n          | local variables |   |\n  $fp --&gt; |       ...       |   |\n          +-----------------+   |\n          | return address  |   |\n          |   previous fp ------+\n          | saved registers |\n  $sp --&gt; | local variables |\n          +-----------------+\n</code></pre> <p>\u539f\u7406\u5c31\u662f\u5728\u6ca1\u6709\u53c2\u6570\u5bc4\u5b58\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u6808\u5e27\u5bc4\u5b58\u5668\uff08FP/s0/x8\uff09\u6307\u5411\u7684\u5730\u5740\uff0c\u5176\u52a0 8 \u7684\u5730\u5740\u50a8\u5b58\u8fd4\u56de\u5730\u5740\uff0c\u52a0 16 \u50a8\u5b58\u4e86\u4e0a\u4e00\u4e2a\u6808\u5e27\u7684\u4f4d\u7f6e\u3002\u6211\u4eec\u53ea\u8981\u8bfb\u53d6\u51fa\u51fd\u6570\u8fd4\u56de\u5730\u5740\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u56de\u5fc6\u4e00\u4e0b\u5b66 x86 \u65f6\u7684\u51fd\u6570\u8c03\u7528\uff1a</p> <pre><code>push bp\nmov bp, sp\n</code></pre> <p>\u539f\u7406\u5982\u51fa\u4e00\u8f99\u3002bp \u662f\u5e27\u5bc4\u5b58\u5668\u3002</p> <p>TODO: \u5728 sys_sleep() \u5185\u6838\u51fd\u6570\u4e2d\u8c03\u7528 backtrace\uff0c\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u4e00\u8def\u56de\u6eaf\u5230\u7528\u6237\u7a0b\u5e8f\u5462\uff1f\u56e0\u4e3a\u7167\u7406\u8bf4\uff0c\u7528\u7684\u662f\u4e0d\u540c\u7684\u6808\u3002</p> <pre><code>0x0000000080002198\n0x000000008000207c\n0x0000000080001d72\n0x0000000000000012\n</code></pre> <p>\u524d\u9762\u4e09\u4e2a\u5730\u5740\u662f\u5185\u6838\u51fd\u6570\uff0c\u6700\u540e\u4e00\u4e2a\u5730\u5740\u662f\u7528\u6237\u51fd\u6570\u3002</p> <p>\u601d\u8003\u4e00\u4e0b\u5e94\u8be5\u548c\u6808\u5207\u6362\u65f6\u4fdd\u5b58\u7684\u673a\u5236\u6709\u5173\u7cfb\u3002</p> <p>\u7b2c\u4e8c\u9898\u6dfb\u52a0\u4e00\u4e2a alarm \u7cfb\u7edf\u8c03\u7528\uff0c\u76f8\u5f53\u6709\u96be\u5ea6\u3002\u8981\u5b9e\u73b0\u6bcf\u9694 n \u4e2a\u65f6\u949f\u4e2d\u65ad\uff0c\u6253\u5370\u7528\u6237\u7684 <code>alarm</code> \u8bed\u53e5\u3002\u78b0\u5230\u7684\u56f0\u96be\u662f\uff0c\u9700\u8981\u5728\u5185\u6838\u6001\u4e2d\uff08\u65f6\u949f\u4e2d\u65ad\u65f6\uff09\u8c03\u7528\u7528\u6237\u51fd\u6570\uff0c\u8fd9\u5e94\u8be5\u600e\u4e48\u5b9e\u73b0\uff1f\u9996\u5148\u76f4\u63a5\u4fee\u6539 satp \u7684\u503c\u663e\u7136\u4e0d\u884c\u3002\u56e0\u4e3a\u5c31\u7b97\u5207\u6362\u5230\u7528\u6237\u9875\u8868\uff0c\u5bc4\u5b58\u5668\u7684\u503c\u4e5f\u4e0d\u540c\u3002\u9898\u76ee\u7ed9\u7684\u601d\u8def\u662f\uff0c\u9996\u5148\u5c06\u8be5\u51fd\u6570\u7684\u5730\u5740\u8d4b\u503c\u5230 sepc \u4e2d\uff0c\u8fd9\u6837\u5230\u65f6\u5019\u5c31\u76f4\u63a5\u8fd4\u56de\u5230\u8fd9\u4e2a\u7528\u6237\u51fd\u6570\u3002\u7136\u540e\u5728\u8fd9\u4e2a\u7528\u6237\u51fd\u6570\u4e2d\uff0c\u518d\u4f7f\u7528\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u6062\u590d\u8c03\u7528\u8be5\u51fd\u6570\u524d\u7684\u5185\u6838\u72b6\u6001\u6267\u884c\uff0c\u7136\u540e\u518d\u8fd4\u56de\u5230\u539f\u6765\u7684\u8fc7\u7a0b\u3002</p> <p>\u9898\u76ee\u6307\u5bfc\u5f88\u8be6\u7ec6\uff0c\u6309\u7740\u4e00\u6b65\u6b65\u505a\u5373\u53ef\uff0c\u601d\u8def\u5c31\u8fd9\u4e2a\u601d\u8def\uff0c\u5185\u6838\u4ee3\u7801\u770b\u61c2\u540e\u5b9e\u73b0\u633a\u987a\u5229\u7684\u3002</p>"},{"location":"os/osnote/#lab5-copy-on-write-fork","title":"Lab5: Copy-on-Write Fork","text":"<p>\u4e00\u5f00\u59cb\u7684\u5199\u6cd5\u5f88\u4e71\uff0c\u5e94\u8be5\u8bb0\u5f97\u7528\u51fd\u6570\u5c01\u88c5\u7684\uff0c\u8fd8\u6709\u4e00\u9875\u5185\u5b58\u6cc4\u9732\uff0c\u611f\u89c9\u5f88\u96be\u6392\u67e5\u4e86\uff0c\u8ba1\u5212\u91cd\u65b0\u5199\u4e00\u904d\u4e86\u3002</p> <p>\u53e6\u5916\uff0c\u8981\u5f02\u5e38\u91cd\u89c6\u5f02\u5e38\u60c5\u51b5\u7684\u5904\u7406\u3002</p> <p>\u8fd9\u4e2a\u5b9e\u9a8c\u6709\u96be\u5ea6\uff0c\u505a\u5b8c\u770b\u770b\u8001\u5e08\u662f\u600e\u4e48\u601d\u8003\u7684\uff0c\u4f1a\u5f88\u6709\u6536\u83b7\uff1a\u3010MIT 6.S081 2020 \u64cd\u4f5c\u7cfb\u7edf [\u4e2d\u82f1\u6587\u5b57\u5e55]\u3011</p> <p>\u5b9e\u9645\u4e0a\u5b9e\u73b0\u7684\u5c31\u662f\u4e00\u79cd\u8282\u7701\u5185\u5b58\u7684 fork\uff0c\u5728\u590d\u5236\u65f6\uff0c\u5148\u8ba9\u5b50\u8fdb\u7a0b\u7684 PTE \u6307\u5411\u7236\u8fdb\u7a0b\u7684\u7269\u7406\u5730\u5740\uff0c\u5c06\u7236\u5b50\u53ef\u5199\u7684\u9875\u90fd\u6807\u4e3a\u53ea\u8bfb\u3002\u5728\u9700\u8981\u5bf9\u9875\u8fdb\u884c\u5199\u64cd\u4f5c\u65f6\uff0c\u4f1a\u89e6\u53d1 page fault\uff0c\u8fd9\u65f6\u518d\u5206\u914d\u65b0\u7684\u9875\u9762\u3002\u800c\u539f\u6765\u53ea\u8bfb\u7684\u9875\u9762\uff0c\u5c31\u6c38\u8fdc\u7236\u5b50\u5171\u4eab\u4e86\u3002</p> <p>\u5b9e\u73b0\u7684\u7ec6\u8282\u5df2\u7ecf\u5728\u4f5c\u4e1a\u7f51\u7ad9\u91cc\u6709\u4e86\u3002\u8fd9\u91cc\u4f5c\u4e3a\u590d\u4e60\u548c\u8868\u8fbe\u7684\u7ec3\u4e60\uff0c\u518d\u8bf4\u4e00\u4e0b\u5427\u3002</p> <p>\u9996\u5148\uff0c\u7b2c\u4e00\u6b65\u5728 <code>uvmcopy()</code> \u51fd\u6570\u4e2d\uff0c\u4fee\u6539\u903b\u8f91\uff0c\u539f\u5148\u662f\u5b50\u8fdb\u7a0b\u76f4\u63a5\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u5185\u5bb9\uff0c\u73b0\u5728\u8981\u8ba9\u5b50\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u6307\u5411\u7236\u8fdb\u7a0b\u7684\u7269\u7406\u5730\u5740\u3002\u5e76\u4e14\u7531\u4e8e\u7236\u5b50\u8fdb\u7a0b\u5171\u7528\u4e00\u4efd\u7269\u7406\u5730\u5740\uff0c\u6240\u4ee5\u5e94\u5f53\u5c06\u8fd9\u91cc\u7684 pte \u7684\u5199\u6743\u9650\u6e05\u9664\u3002\u53ef\u4ee5\u5728 pte \u4e2d\u589e\u52a0\u4e00\u4e2a <code>PTE_C</code> \u6807\u5fd7\uff0c\u8868\u793a\u8fd9\u662f\u5171\u7528\u9875\uff0c\u4f1a\u5f88\u65b9\u4fbf\u3002</p> <p>\u7b2c\u4e8c\u6b65\uff0c\u786c\u4ef6\u5982\u679c\u8bd5\u56fe\u5199\u5165\u6ca1\u6709\u8bfb\u6743\u9650\u7684\u9875\u9762\uff0c\u5c31\u4f1a\u4ea7\u751f page fault\u3002\u8fd9\u4e2a\u65f6\u5019\u5c31\u8981\u5224\u65ad\u662f\u8be5\u9875\u9762\u662f\u5171\u4eab\u7684\u9875\u9762\u8fd8\u662f\u53ea\u8bfb\u7684\uff08\u770b <code>PTE_C</code> \u6709\u6ca1\u6709\u8bbe\u7f6e\u662f\u6700\u7b80\u5355\u7684\uff09\u3002\u5982\u679c\u662f\u53ea\u8bfb\u7684\uff0c\u5c31\u629b\u51fa\u5f02\u5e38\u7ec8\u6b62\uff1b\u53cd\u4e4b\uff0c\u5c31\u4e3a\u8fd9\u4e2a\u9875\u9762\u7684\u865a\u62df\u5730\u5740\u5206\u914d\u65b0\u7684\u7269\u7406\u9875\uff0c\u8ba9\u5b83\u6307\u5411\u65b0\u7684\u7269\u7406\u9875\u3002</p> <p>\u7b2c\u4e09\u6b65\uff0c\u4f55\u65f6\u91ca\u653e\u9875\u9762\uff0c\u5f15\u5165\u4e00\u4e2a\u6570\u7ec4\uff0c\u8ba1\u6570\u6709\u591a\u5c11\u4e2a\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u9875\u9762\u4e2d\u3002\u5982\u679c\u9875\u9762\u7684\u6620\u5c04\u4e3a 0\uff0c\u5c31\u53ef\u4ee5\u91ca\u653e\u3002\u6bd4\u5982\u4e0a\u9762\uff0c<code>uvmcopy()</code> \u4e2d\u65b0\u8fdb\u7a0b\u6307\u5411\u9875\u9762\uff0c\u6620\u5c04\u6570\u52a0\u4e00\uff1b<code>trap()</code> \u4e2d\u865a\u62df\u5730\u5740\u6307\u5411\u65b0\u9875\u9762\uff0c\u8001\u9875\u9762\u7684\u6620\u5c04\u6570\u51cf 1\u3002 \u8c03\u7528\u4e00\u6b21 <code>kalloc()</code>\uff0c\u5c06\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u521d\u59cb\u5316\u4e3a 1\u3002 \u4fee\u6539 <code>kfree()</code> \u7684\u903b\u8f91\uff0c\u8c03\u7528\u65f6\uff0c\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u6570\u51cf 1\uff0c\u7136\u540e\u770b\u6620\u5c04\u6570\uff0c\u5982\u679c\u6620\u5c04\u6570\u4e3a 0\uff0c\u6ca1\u6709\u865a\u62df\u5730\u5740\u6307\u5411\u8fd9\u91cc\uff0c\u5c31\u53ef\u4ee5\u91ca\u653e\u8fd9\u9875\u7a7a\u95f4\u3002</p> <p>\u5728\u7b2c\u4e00\u6b65\u548c\u7b2c\u4e8c\u6b65\u4e2d\uff0c\u6dfb\u52a0\u8ba1\u6570\u7684\u529f\u80fd\uff0c\u5982\u7b2c\u4e8c\u6b65\u4e2d\uff0c\u6307\u5411\u65b0\u7684\u7269\u7406\u9875\u540e\uff0c\u76f4\u63a5\u8c03\u7528 <code>kfree()</code> \u5373\u53ef\u3002</p> <p>\u8fd9\u4e9b\u505a\u5b8c\u540e\uff0c\u5c31\u5dee\u4e0d\u591a\u4e86\uff0c\u6709\u4e00\u4e2a <code>copyout()</code> \u51fd\u6570\u4e5f\u8981\u589e\u52a0\u4e00\u4e2a\u7c7b\u4f3c\u7684\u7f3a\u9875\u5f02\u5e38\u5904\u7406\uff0c\u8fd9\u4e2a\u85cf\u7684\u5f88\u9690\u853d\u3002\u5982\u679c\u6ca1\u6709\u901a\u8fc7 <code>cowtest</code> \u7684 <code>filetest</code>\uff0c\u5f80\u4e0a\u627e\u662f <code>pipe()</code> \u7684\u95ee\u9898\uff0c\u7136\u540e <code>pipe()</code> \u8c03\u7528\u4e86 <code>copyout()</code> \u51fd\u6570\u3002</p>"},{"location":"os/src/","title":"xv6 \u6e90\u7801\u9605\u8bfb","text":"<p>xv6 \u6709\u4e24\u4e2a cpu\uff08hart\uff09</p>"},{"location":"os/src/#1","title":"1. \u542f\u52a8\u7b2c\u4e00\u4e2a\u8fdb\u7a0b","text":"<p>\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5982\u4f55\u542f\u52a8 xv6 \u4ee5\u53ca\u5f00\u59cb\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\u5427\u3002\uff08\u8bfe\u7a0b\u6559\u6750\u7684 2.6 \u8282\uff09</p> <p>\u673a\u5668\u542f\u52a8\u540e\uff0cxv6 \u4ece <code>kernel/entry.S</code> \u5f00\u59cb\u8fd0\u884c\u3002\u542f\u52a8\u65f6\u786c\u4ef6\u5206\u9875\u673a\u5236\u672a\u6253\u5f00\uff0c\u7269\u7406\u5730\u5740\u7b49\u4e8e\u865a\u62df\u5730\u5740\u3002qemu \u5c06 xv6 \u52a0\u8f7d\u5230\u5730\u5740 <code>0x80000000</code>,\u7136\u540e<code>_entry</code> \u4e2d\u8bbe\u7f6e\u6808\uff0c \u6808\u7684\u5730\u5740\u5728 <code>start.c</code> \u4e2d\u786e\u5b9a\uff0c\u5927\u5c0f\u4e3a 4096 \u4e58\u4ee5 CPU \u4e2a\u6570\uff0c\u5c06 sp \u7684\u4f4d\u7f6e\u8bbe\u7f6e\u4e3a\u6808\u9876\uff08stack0+4096*id\uff09\u3002\u8bbe\u7f6e\u597d\u6808\u540e\uff0c\u8df3\u8f6c\u5230 <code>start()</code> \u51fd\u6570\u3002</p> <p><code>start()</code> \u51fd\u6570\u7684\u5de5\u4f5c\u9996\u5148\u662f\u5728 machine \u6a21\u5f0f\u4e0b\u8fdb\u884c\u4e00\u4e9b\u5fc5\u8981\u7684\u914d\u7f6e\uff0c\u7136\u540e\u5207\u6362\u5230 supervisor \u6a21\u5f0f\u3002\u8fd9\u4e9b\u914d\u7f6e\u5305\u62ec\uff0c\u5c06 <code>main</code> \u51fd\u6570\u7684\u5730\u5740\u5199\u5230 mepc \u5bc4\u5b58\u5668\u4e2d\uff0c\u5c06 0 \u5199\u5165 satp \u5bc4\u5b58\u5668\u4e2d\u4f7f\u5f97\u5728 supervisor \u6a21\u5f0f\u4e0b\uff0c\u5173\u95ed\u9875\u8868\u5730\u5740\u7684\u8f6c\u6362\u3002\u7136\u540e\u6253\u5f00\u65f6\u949f\u4e2d\u65ad\u3002\u6267\u884c\u5b8c\u8fd9\u4e9b\u4e4b\u540e\uff0c\u4f7f\u7528 <code>mret</code> \u8fdb\u5165 s \u6a21\u5f0f\uff0c\u5e76\u8df3\u8f6c\u5230 <code>main()</code> \u51fd\u6570\u3002</p> <p>\u5728 <code>main()</code> \u51fd\u6570\u4e2d\u8fdb\u884c\u4e00\u7cfb\u5217\u5fc5\u8981\u7684\u521d\u59cb\u5316\u540e\uff0c\u8c03\u7528 <code>user_init()</code>\uff08\u5728<code>proc.c</code>\uff09\u6765\u521b\u5efa\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff08initcode.S\uff09\u3002\u8fd9\u4e2a\u8fdb\u7a0b\u6267\u884c <code>exec</code> \u7cfb\u7edf\u8c03\u7528\uff0c\u6253\u5f00 <code>init</code> \u7a0b\u5e8f\uff0c<code>init</code> \u7a0b\u5e8f(init.c)\u6253\u5f00shell\uff0c\u5c31\u8fd9\u6837\u5b8c\u6210\u4e86\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u542f\u52a8\u4e86\u7cfb\u7edf\u3002</p>"},{"location":"os/src/#2","title":"2. \u521b\u5efa\u65b0\u8fdb\u7a0b","text":"<p>\u5728 <code>proc.c</code> \u4e2d\u3002\u4e3b\u8981\u662f <code>allocproc()</code> \u51fd\u6570\uff0c\u9996\u5148\u7ed9\u65b0\u8fdb\u7a0b\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 <code>pid</code>\uff0c\u4f7f\u7528 <code>allocpid()</code> \u51fd\u6570\uff1b\u518d\u7ed9\u8fdb\u7a0b\u5206\u914d <code>trapframe</code> \uff08PCB\uff09\uff0c\u8fd9\u91cc\u9762\u50a8\u5b58\u8fdb\u7a0b\u4e2d\u65ad\u9700\u8981\u7684\u53d8\u91cf\uff1b\u6700\u540e\u4e3a\u7528\u6237\u8fdb\u7a0b\u5206\u914d\u9875\u8868\uff0c\u7528\u4e8e\u865a\u62df\u5730\u5740\u8f6c\u5316\u4e3a\u7269\u7406\u5730\u5740\u3002<code>vm.c</code> \u4e2d\u7684 <code>mappages</code> \u51fd\u6570\u521b\u5efa\u65b0\u7684 PTE\uff08\u9875\u8868\u9879\uff09\uff0c\u800c\u786c\u4ef6 mmu \u6839\u636e\u8fd9\u4e9b\u9875\u8868\u7269\u7406\u5185\u5b58\u5730\u5740\u8f6c\u5316\u4e3a\u865a\u62df\u5185\u5b58\u5730\u5740\uff08qemu\uff09\u7684\u5de5\u4f5c\u3002</p> <p>\u7cfb\u7edf\u5206\u914d\u7a7a\u95f4\u7528\u7684\u90fd\u662f <code>kalloc.c</code>  \u4e2d\u5b9a\u4e49\u7684 <code>kalloc</code> \u51fd\u6570\uff0c\u4e00\u6b21\u5206\u914d 4096 Byte \u7684\u5185\u5b58\uff0c\u662f\u4e00\u4e2a\u9875\u8868\u7684\u5927\u5c0f\u3002<code>kalloc</code> \u51fd\u6570\u8fd4\u56de\u7684\u662f\u7269\u7406\u5730\u5740\u3002</p>"},{"location":"os/src/#3","title":"3. \u7cfb\u7edf\u8c03\u7528\u7684\u8fc7\u7a0b","text":"<p>xv6 \u5185\u6838\u5730\u5740\u6620\u5c04\uff1a</p> <p></p> <p>\u7528\u6237\u5730\u5740\u6620\u5c04\uff1a</p> <p></p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u7528\u6237\u7684 <code>echo</code> \u6307\u4ee4\u8c03\u7528\u4e86 <code>write</code> \u51fd\u6570\u3002<code>write</code> \u51fd\u6570\u662f\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u5b9a\u4e49\u5728 <code>usys.h</code> \u4e2d\uff08\u7528 perl \u751f\u6210\uff09\u3002\u5b83\u8c03\u7528 <code>ecall</code> \u6307\u4ee4\uff0c\u8fdb\u5165\u5185\u6838\u6001\u3002<code>stvec</code> \u5bc4\u5b58\u5668\u50a8\u5b58\u7684\u5730\u5740\u662f <code>trampoline.s</code> \u4e2d\u7684 <code>uservec</code> \u51fd\u6570\u3002\u50a8\u5b58\u597d\u4e0a\u4e0b\u6587\u540e\uff0c\u8df3\u8f6c\u5230 <code>trap.c</code> \u4e2d\u7684 <code>usertrap</code> \u51fd\u6570\u3002\u8fd9\u91cc\u9762\u6211\u4eec\u8fd0\u884c\u4e00\u4e2a <code>syscall</code> \u51fd\u6570\uff0c\u6839\u636e\u4f20\u5165\u7684\u53c2\u6570\u641c\u7d22\u7cfb\u7edf\u8c03\u7528\uff0c\u6b64\u65f6\u5373 <code>sys_write</code>\u3002\u8c03\u7528\u5b8c\u6bd5\u540e\uff0c\u8c03\u7528 <code>usertrapret</code> \uff0c\u56de\u5230 <code>trampoline.s</code> \u7684 <code>userret</code>\uff0c\u6062\u590d\u4e0a\u4e0b\u6587\u8fd4\u56de\u3002</p> <p>trampoline \u672c\u610f\u662f\u8e66\u5e8a\u3002\u5176\u4ee3\u7801\u5728\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u4e4b\u95f4\u5207\u6362\uff0c\u72b6\u6001\u50cf\u8e66\u5e8a\u4e00\u6837\u8df3\u6765\u8df3\u53bb\uff0c\u6240\u4ee5\u53d6\u8fd9\u4e2a\u540d\u5b57\u3002</p>"},{"location":"os/src/#1_1","title":"\u95ee\u9898 1\uff1a\u9875\u8868\u5207\u6362","text":"<p>\u5185\u6838\u6001\u548c\u7528\u6237\u6001\u6240\u7528\u7684\u9875\u8868\u662f\u4e0d\u540c\u7684\uff0c\u90a3\u4e48\u8be5\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\u3002\u5982 pa \u4e2d\u6240\u5b66\u7684\uff1a\u6211\u4eec\u628a\u521d\u59cb\u4ee3\u7801\u5b58\u50a8\u5728\u6240\u6709\u7528\u6237\u7a0b\u5e8f\u90fd\u53ef\u89c1\u7684\u5730\u65b9\u3002<code>ecall</code> \u6307\u4ee4\u4e0d\u4f1a\u5207\u6362\u9875\u8868\uff0c\u6240\u4ee5\u6211\u4eec\u5728 <code>trampoline.s</code> \u4e2d\uff0c\u4f7f\u7528\u7684\u8fd8\u662f\u7528\u6237\u9875\u8868\u3002</p> <p>\u6211\u4eec\u5728\u521b\u5efa\u7528\u6237\u8fdb\u7a0b\u65f6\uff0c\u5c06\u7528\u6237\u8fdb\u7a0b\u7684 <code>TRAMPOLINE</code> \u5730\u5740\u6620\u5c04\u5230 <code>trampoline.s</code> \u7684\u5730\u5740\u3002</p> <pre><code>mappages(pagetable, va:TRAMPOLINE, PGSIZE, pa:(uint64)trampoline, PTE_R | PTE_X)\n</code></pre> <p><code>_trampoline.S</code> \u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740\u5728\u5185\u6838\u7a0b\u5e8f\u94fe\u63a5\u65f6\u5c31\u5df2\u7ecf\u786e\u5b9a\u4e86\uff1a</p> <pre><code>. = 0x80000000;\n\n.text : {\n(.text .text.)\n. = ALIGN(0x1000);\n_trampoline = .;\n*(trampsec)\n. = ALIGN(0x1000);\nASSERT(. - _trampoline == 0x1000, \"error: trampoline larger than one page\");\nPROVIDE(etext = .);\n}\n</code></pre> <p>\u5bf9\u6bcf\u4e2a\u8fdb\u7a0b\uff0c\u865a\u62df\u5730\u5740\u90fd\u662f TRAMPOLINE\uff08\u7528\u6237\u6700\u9ad8\u5730\u5740\uff09\uff0c\u7269\u7406\u5730\u5740\u5c31\u662f <code>trampoline.S</code> \u8fd9\u6bb5\u4ee3\u7801\u5bf9\u5e94\u7684\u5730\u5740\u3002</p> <p>\u800c\u5185\u6838\u7a0b\u5e8f\uff0c\u5728\u521d\u59cb\u5316\u65f6\uff0c<code>vm.c</code> \u4e2d\u7684 <code>kvmmake</code> \u51fd\u6570\uff0c\u5c06\u5185\u6838\u7684\u6700\u9ad8\u5730\u5740\u6620\u5c04\u5230 <code>trampoline.S</code> \u5bf9\u5e94\u7684\u5730\u5740\uff1a</p> <pre><code>kvmmap(kpgtbl, TRAMPOLINE, (uint64)trampoline, PGSIZE, PTE_R | PTE_X);\n</code></pre> <p>\u9664\u6b64\u4ee5\u5916\uff0c\u5185\u6838\u7a7a\u95f4\u4e00\u822c\u662f\u76f4\u63a5\u6620\u5c04\uff1a\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u76f8\u540c\uff1a</p> <pre><code>kvmmap(kpgtbl, UART0, UART0, PGSIZE, PTE_R | PTE_W);\n</code></pre> <p>\u7528\u6237\u6001\u548c\u5185\u6838\u6001\uff0c<code>trampoline.S</code> \u5bf9\u5e94\u7684\u865a\u62df\u5730\u5740\u4e00\u81f4\uff0c\u8fd9\u6837\u5373\u4f7f\u5207\u6362\u9875\u8868\uff0c<code>trampoline.S</code> \u4e2d\u7684\u4ee3\u7801\u4e5f\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002\u90a3\u4e48\u4e0a\u9762\uff0c<code>trampoline.S</code> \u5728\u7528\u6237\u6001\u7684\u9875\u8868\u4e0a\u4fdd\u5b58\u597d\u4e0a\u4e0b\u6587\u5230\u7528\u6237\u5730\u5740\u7684 <code>trapframe</code> \u4e2d\u540e\uff0c<code>csrw satp, t1</code> \u5c31\u5c06\u9875\u8868\u5207\u6362\u5230\u5185\u6838\u9875\u8868\uff08\u5185\u6838\u9875\u8868\u7684\u5730\u5740\u4e5f\u50a8\u5b58\u5728\u8fdb\u7a0b\u7ed3\u6784\u4f53\u4e2d\uff1a<code>p-&gt;trapframe-&gt;kernel_satp</code>\uff09\uff0c\u8df3\u8f6c\u5230\u5185\u6838\u4ee3\u7801\u3002</p> <p>\uff08\u800c PA \u5b9e\u9a8c\u4e2d\uff0c\u7531\u4e8e\u5185\u6838\u9875\u8868\u5730\u5740\u662f\u6052\u7b49\u6620\u5c04\uff0c\u8fd9\u4e9b\u6620\u5c04\u76f4\u63a5\u590d\u5236\u5230\u7528\u6237\u9875\u8868\u4e2d\uff0c\u56e0\u6b64\u4e0d\u5fc5\u5207\u6362\uff09</p>"},{"location":"os/src/#4","title":"4. \u7f3a\u9875\u5f02\u5e38","text":"<p>page fault \u5bf9\u5e94\u7684\u4ee3\u7801</p> <p>\u7531\u786c\u4ef6\u68c0\u6d4b\uff0c\u82e5\u8bfb\u53d6\u5230\u65e0\u6548\u5730\u5740\uff0cthe <code>scause</code> register indicates the type of the page fault and the <code>stval</code> register contains the address that couldn\u2019t be translated. \u522b\u5fd8\u4e86\u5730\u5740\u7ffb\u8bd1\u7531\u786c\u4ef6\u6267\u884c\uff0c\u6240\u4ee5\u5f02\u5e38\u7531\u786c\u4ef6\u629b\u51fa\uff08\u4e0d\u7ba1\u786c\u4ef6\u8fd8\u662f\u8f6f\u4ef6\u5f02\u5e38\uff0c\u90fd\u5148\u8df3\u8f6c\u5230 epc \u8bbe\u7f6e\u7684\u4e2d\u65ad\u5411\u91cf\uff09\u3002</p>"},{"location":"os/src/#5-exec","title":"5. exec","text":"<p>\u7528\u6237\u7a0b\u5e8f\u6267\u884c <code>exec</code> \u7cfb\u7edf\u8c03\u7528\u540e\u8fdb\u5165 <code>kernel/exec</code> \u4e2d\u7684 <code>exec</code> \u51fd\u6570\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u5b83\u4f1a\u6309\u7167\u6307\u5b9a\u7684\u8def\u5f84\u8bfb\u53d6 ELF \u6587\u4ef6\u3002\u7ed9\u65b0\u8fdb\u7a0b\u5206\u914d\u65b0\u7684\u9875\u8868\u548c\u5185\u5b58\uff08<code>proc_pagetable()</code> \u548c <code>uvmalloc()</code>\uff09\uff0c\u518d\u901a\u8fc7 <code>readi()</code> \u51fd\u6570\u628a\u6587\u4ef6\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\u3002\u7136\u540e\u7528 <code>uvmalloc()</code> \u5206\u914d\u7528\u6237\u6808\u7684\u5185\u5b58\uff0c\u5e76\u5b58\u50a8 <code>argv</code> \u7684\u53c2\u6570\u3002\u8fd9\u4e9b\u51c6\u5907\u597d\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u4ee3\u7801\u66f4\u65b0\u5f53\u524d\u8fdb\u7a0b\u7684\u5185\u5bb9\u4e86\uff0c\u5e76\u91ca\u653e\u65e7\u6709\u7684\u5185\u5bb9\uff1a</p> <pre><code>  // Commit to the user image.\n  oldpagetable = p-&gt;pagetable;\n  p-&gt;pagetable = pagetable;\n  p-&gt;sz = sz;\n  p-&gt;trapframe-&gt;epc = elf.entry;  // initial program counter = main\n  p-&gt;trapframe-&gt;sp = sp; // initial stack pointer\n  proc_freepagetable(oldpagetable, oldsz);\n</code></pre> <p>\u8fd9\u6837\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5c31\u4f1a\u8df3\u8f6c\u5230\u65b0\u7a0b\u5e8f\u7684\u8d77\u59cb\u4f4d\u7f6e <code>elf.entry</code>\u3002</p>"},{"location":"os/src/#6","title":"6. \u591a\u7ebf\u7a0b\u5207\u6362","text":""},{"location":"os/thread/","title":"\u7ebf\u7a0b","text":""},{"location":"os/thread/#0","title":"0. \u7ebf\u7a0b\u4ecb\u7ecd","text":"<p>\u7ebf\u7a0b\u8fd9\u4e2a\u6982\u5ff5\u548c\u8fdb\u7a0b\u5f88\u50cf\uff0c\u90fd\u53ef\u4ee5\u770b\u505a\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u62bd\u8c61\u3002\u5355\u7ebf\u7a0b\u7684\u8fdb\u7a0b\u53ea\u6709\u4e00\u4e2a\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u591a\u7ebf\u7a0b\u7684\u8fdb\u7a0b\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6709\u7a0b\u5e8f\u8ba1\u6570\u5668\u7528\u4e8e\u6267\u884c\u3002\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u5b58\u5728 PCB \u4e2d\uff0c\u7ebf\u7a0b\u7684\u4e0a\u4e0b\u6587\u5b58\u5728 TCB\uff08\u7ebf\u7a0b\u63a7\u5236\u5757\uff09 \u4e2d\u3002\u7ebf\u7a0b\u548c\u8fdb\u7a0b\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c</p> <ol> <li>\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u591a\u7ebf\u7a0b\u5171\u4eab\u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\u3002\u5728\u7ebf\u7a0b\u4e4b\u95f4\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u65f6\uff0c\u5730\u5740\u7a7a\u95f4\u4fdd\u6301\u4e0d\u53d8\uff0c\u4e0d\u9700\u8981\u5207\u6362\u9875\u8868\uff1b\u4f46\u662f\u8fdb\u7a0b\u7684\u5207\u6362\u662f\u9700\u8981\u5207\u6362\u9875\u8868\u7684\u3002</li> <li>\u4f20\u7edf\u7684\u8fdb\u7a0b\u662f\u5355\u7ebf\u7a0b\uff0c\u53ea\u6709\u4e00\u4e2a\u6808\uff0c\u800c\u591a\u7ebf\u7a0b\u7684\u8fdb\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u72ec\u7acb\u8fd0\u884c\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u6808\u3002</li> </ol> <p>\u4ece\u8fd9\u4e2a\u6982\u5ff5\u4e0a\u8bf4\uff0cPA \u4e2d\u5bf9\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u6982\u5ff5\u662f\u6df7\u7528\u7684\u3002\u56e0\u4e3a\u5f88\u660e\u663e PA \u4e2d\u53ea\u7528 PCB \u63a7\u5236\uff0c\u5e76\u4e14 PA \u4e2d\u7684\u4e24\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e0d\u540c\uff0c\u56e0\u6b64\u90fd\u662f\u8fdb\u7a0b\u3002</p>"},{"location":"os/thread/#1-api","title":"1. \u4e24\u4e2a api","text":"<p>\u5173\u4e8e\u7ebf\u7a0b\uff0c\u6700\u5148\u4f1a\u9047\u5230\u4e24\u4e2a api\uff1a\u7ebf\u7a0b\u521b\u5efa\u548c\u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210\u3002</p>"},{"location":"os/thread/#api","title":"\u7ebf\u7a0b\u521b\u5efa api","text":"<pre><code>int pthread_create( pthread_t *thread, \n                    const pthread_attr_t *attr, \n                    void *(*start_routine) (void *), \n                    void *arg);\n</code></pre> <ul> <li><code>thread</code> \u662f\u6307\u5411 <code>pthread_t</code> \u7ed3\u6784\u7c7b\u578b\u7684\u6307\u9488\uff0c\u6211\u4eec\u5229\u7528\u8fd9\u4e2a\u7ed3\u6784\u548c\u8be5\u7ebf\u7a0b\u4ea4\u4e92\u3002</li> <li><code>attr</code> \u8868\u660e\u7ebf\u7a0b\u7684\u5c5e\u6027\uff0c\u9ed8\u8ba4\u4f20\u5165 <code>NULL</code> \u5373\u53ef\u3002</li> <li><code>start_routine</code> \u662f\u4e00\u4e2a\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c06\u5728\u65b0\u7684\u7ebf\u7a0b\u4e2d\u8fd0\u884c\u3002</li> <li><code>arg</code> \u662f\u4f20\u9012\u7ed9\u7ebf\u7a0b\u8981\u6267\u884c\u7684\u51fd\u6570\u7684\u53c2\u6570\u3002</li> </ul> <p>\u5f53\u6211\u4eec\u7528\u4e0a\u9762\u7684 api \u521b\u5efa\u4e86\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5b83\u5c31\u5f00\u59cb\u4e0e\u7a0b\u5e8f\u5176\u5b83\u7684\u7ebf\u7a0b\u5728\u76f8\u540c\u7684\u5730\u5740\u7a7a\u95f4\u5185\u540c\u65f6\u8fd0\u884c\u3002</p>"},{"location":"os/thread/#api_1","title":"\u7b49\u5f85\u7ebf\u7a0b\u5b8c\u6210 api","text":"<pre><code>int pthread_join(  pthread_t thread, \n                    void **retval);\n</code></pre> <ul> <li><code>thread</code> \u662f\u4f60\u60f3\u8981\u7b49\u5f85\u7684\u7ebf\u7a0b\u7684\u6807\u8bc6\u7b26\u3002</li> <li><code>retval</code> \u662f\u4e00\u4e2a\u6307\u5411 <code>void*</code> \u7684\u6307\u9488\uff0c\u5b83\u5c06\u88ab\u8bbe\u7f6e\u4e3a\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c\u3002\u5982\u679c\u4f60\u4e0d\u5173\u5fc3\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c\uff0c\u4f60\u53ef\u4ee5\u4f20\u9012NULL\u3002</li> </ul> <p>\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u6765\u7b49\u5f85\u5b50\u7ebf\u7a0b\u7684\u5b8c\u6210\uff0c\u8d77\u5230\u963b\u585e\u8c03\u7528\u5b83\u7684\u7ebf\u7a0b\uff08\u4e3b\u7ebf\u7a0b\uff09\u7684\u529f\u80fd\u3002\u6ce8\u610f\u53ea\u6709\u8c03\u7528\u8be5\u51fd\u6570\u7684\u7ebf\u7a0b\u4f1a\u88ab\u963b\u585e\uff0c\u5176\u5b83\u7ebf\u7a0b\u4ecd\u7136\u6b63\u5e38\u8fd0\u884c\u3002\u76f4\u5230\u8fd9\u4e2a\u88ab\u8c03\u7528\u7684\u5b50\u7ebf\u7a0b\u8fd0\u884c\u5b8c\u6bd5\uff0c\u4e3b\u7ebf\u7a0b\u624d\u7ee7\u7eed\u8fd0\u884c\u3002</p>"},{"location":"os/thread/#2","title":"2. \u51b2\u7a81","text":"<p>\u6211\u4eec\u6765\u770b\u770b\u4e0b\u9762\u4e00\u4e2a\u7a0b\u5e8f\u3002</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;assert.h&gt;\n\nstatic volatile int counter = 0;\n\nvoid *mythread(void *arg) {\n    printf(\"%s: begin\\n\", (char*)arg);\n    int i;\n    for(i=0;i&lt;1e7;i++){\n        counter++;\n    }    \n    printf(\"%s: done\", (char*)arg);\n    return NULL;\n}\n\nint main(int argc, char *argv[]) {\n    pthread_t p1, p2;\n    printf(\"main:begin(counter=%d)\\n\",counter);\n    pthread_create(&amp;p1, NULL, mythread, \"A\");\n    pthread_create(&amp;p2, NULL, mythread, \"B\");\n\n    pthread_join(p1, NULL);\n    pthread_join(p2, NULL);\n    printf(\"main:end(counter=%d)\\n\",counter);\n    return 0;\n}\n</code></pre> <p>\u8fd0\u884c\u8fd9\u6bb5\u7a0b\u5e8f\uff0c\u4f1a\u53d1\u73b0\u8ba1\u6570\u5668\u7684\u503c\u662f\u4e0d\u540c\u7684\uff0c\u800c\u4e0d\u4f1a\u662f 20000000. \u4e3a\u4ec0\u4e48\uff1f</p> <p>\u5047\u5b9a\u7ed9\u8ba1\u6570\u5668\u52a0\u4e00\u7684\u6c47\u7f16\u4ee3\u7801\u662f\uff1a</p> <p><pre><code>mov 0x8049a1c, %eax\nadd $0x1, %eax\nmov %eax, 0x8049a1c\n</code></pre> \u90a3\u4e48\u53ef\u4ee5\u51fa\u73b0\u4e0b\u9762\u7684\u60c5\u51b5\uff1a</p> <p>\u53d8\u91cf <code>counter</code> \u5728\u5730\u5740 <code>0x8049a1c</code> \u4e2d\u3002\u5047\u8bbe\u7ebf\u7a0b 1 \u8fdb\u5165\u6b64\u4ee3\u7801\u533a\u57df\uff0c\u5c06 <code>counter</code> \u7684\u503c\uff08\u5047\u8bbe\u662f 50\uff09\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668 <code>eax</code> \u4e2d\uff0c\u7136\u540e\u52a0\u4e00\u3002\u4f46\u662f\u5982\u679c\u6b64\u65f6\u65f6\u949f\u4e2d\u65ad\u53d1\u751f\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5207\u6362\u7ebf\u7a0b\u3002\u90a3\u4e48\u7ebf\u7a0b 1 \u7684\u4e0a\u4e0b\u6587\u5c06\u88ab\u4fdd\u5b58\u5230\u5b83\u7684 <code>TCB</code> \u4e2d\u3002\u4e4b\u540e\u7ebf\u7a0b 2 \u5f00\u59cb\u8fd0\u884c\uff0c\u8fdb\u5165\u8fd9\u6bb5\u4ee3\u7801\uff0c\u83b7\u53d6\u8ba1\u6570\u5668\u7684\u503c\u653e\u5165 <code>eax</code> \u4e2d\uff0c\u52a0\u4e00\u5e76\u653e\u56de\u53bb\uff0c\u4f7f <code>counter</code> \u7684\u503c\u53d8\u6210 51\u3002 \u968f\u540e\u53d1\u751f\u53c8\u53d1\u751f\u4e00\u6b21\u4e0a\u4e0b\u6587\u5207\u6362\u5230\u7ebf\u7a0b 1\uff0c\u6267\u884c\u6700\u540e\u4e00\u6b65 <code>mov</code> \u64cd\u4f5c\uff0c\u5c06 <code>counter</code> \u7684\u503c\u53c8\u8bbe\u4e3a 51\u3002\u56e0\u6b64\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u52a0\u4e86\u4e24\u6b21\u4f46\u662f\u53ea\u52a0\u4e00\u7684\u6548\u679c\u3002</p> <p>\u6ce8\u610f\u6709\u591a\u79cd\u53ef\u80fd\u7684\u60c5\u51b5\uff0c\u968f\u4ee3\u7801\u7684\u65f6\u95f4\u6267\u884c\u800c\u5b9a\u3002\u8fd9\u79cd\u4e0d\u786e\u5b9a\u7ed3\u679c\u7684\u884c\u4e3a\u79f0\u4e3a\u7ade\u6001\u6761\u4ef6\uff08race condition\uff09\u3002\u8fd9\u6bb5\u4ee3\u7801\u8bbf\u95ee\u4e86\u5171\u4eab\u53d8\u91cf\uff0c\u88ab\u79f0\u4e3a\u4e34\u754c\u533a\uff08critical section\uff09\u3002\u4ece\u4e0a\u9762\u7684\u8ba8\u8bba\u77e5\u9053\uff0c\u4e34\u754c\u533a\u51b3\u4e0d\u80fd\u7531\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u3002\u8fd9\u6837\u7684\u4ee3\u7801\u53eb\u4e92\u65a5\uff08mutual exclusion\uff09\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u8fdb\u5165\u4e34\u754c\u533a\u800c\u5176\u4ed6\u7ebf\u7a0b\u88ab\u963b\u6b62\u8fdb\u5165\u3002</p> <p>\u4e0a\u9762\u7684\u7ade\u6001\u6761\u4ef6\u662f\u7531\u51e0\u6761\u6307\u4ee4\u4e4b\u95f4\u7684\u4e2d\u65ad\u5bfc\u81f4\u7684\u3002\u8981\u662f\u6211\u4eec\u80fd\u628a\u51e0\u6761\u6307\u4ee4\u5408\u6210\u4e00\u6761\u6307\u4ee4\u76f4\u63a5\u6267\u884c\u5c31\u597d\u4e86\uff01\u8fd9\u5c31\u662f\u201c\u539f\u5b50\u6027\u4ee3\u7801\u201d\uff08atomic code\uff09\u3002\u4e0b\u9762\u7684\u9501\u5c31\u7528\u5230\u4e86\u8fd9\u4e2a\u601d\u60f3\u3002</p>"},{"location":"os/thread/#3","title":"3. \u9501","text":"<p>\u4e3a\u4e86\u505a\u5230\u5b89\u5168\u5730\u5e76\u53d1\u7f16\u7a0b\uff0c\u6211\u4eec\u5f15\u5165\u9501\u8fd9\u4e2a\u6982\u5ff5\u3002\u9501\u653e\u5728\u4e34\u754c\u533a\u7684\u5468\u56f4\uff0c\u4fdd\u8bc1\u4e34\u754c\u533a\u50cf\u5355\u539f\u5b50\u6307\u4ee4\u4e00\u6837\u8fd0\u884c\u3002</p> <p>\u9501\uff08lock\uff09\uff0c\u5728 POSIX \u6807\u51c6\u5e93\u4e2d\u4e5f\u88ab\u79f0\u4e3a\u4e92\u65a5\u91cf\uff08mutex\uff09\uff0c\u4f2a\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>lock_t mutex;\n...\nlock(&amp;mutex);\nbanlance++;\nunlock(&amp;mutex);\n</code></pre> <p>\u9996\u5148\u58f0\u660e\u4e00\u4e2a\u9501\u53d8\u91cf\u3002\u4e00\u4e2a\u7ebf\u7a0b\u8c03\u7528 <code>lock()</code> \u5c1d\u8bd5\u83b7\u5f97\u9501\u3002\u53ea\u6709\u83b7\u5f97\u9501\u7684\u7ebf\u7a0b\u624d\u80fd\u8fdb\u5165\u4e34\u754c\u533a\u3002\u82e5\u8fd9\u4e2a\u9501\u5df2\u7ecf\u88ab\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u6301\u6709\uff0c\u90a3\u4e48\u7ebf\u7a0b\u5c31\u4f1a\u7b49\u5f85\uff0c\u800c\u4e0d\u4f1a\u4ece <code>lock()</code> \u8fd4\u56de\u3002\u9501\u7684\u6301\u6709\u8005\u8c03\u7528 <code>unlock()</code> \u4ee5\u540e\uff0c\u91ca\u653e\u8fd9\u4e2a\u9501\u3002\u6b64\u65f6\u8fd9\u4e2a\u9501\u53ef\u7528\uff0c\u5176\u5b83\u7b49\u5f85\u7ebf\u7a0b\u4e2d\u7684\u5176\u4e2d\u4e00\u4e2a\u4f1a\u63a5\u6536\u9501\u72b6\u6001\u7684\u53d8\u5316\uff0c\u83b7\u5f97\u8fd9\u4e2a\u9501\uff0c\u8fdb\u5165\u4e34\u754c\u533a\u3002\u901a\u8fc7\u4e0a\u9762\u7684\u673a\u5236\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u6b21\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u8fdb\u5165\u4e34\u754c\u533a\u3002</p> <p>\u9501\u8981\u600e\u4e48\u5b9e\u73b0\u5462\uff1f\u9996\u5148\u4ecb\u7ecd\u8bc4\u4ef7\u65b9\u6848\uff1a\u4e92\u65a5\u3001\u516c\u5e73\u548c\u6027\u80fd\u3002\u4e0b\u9762\u4ecb\u7ecd\u5b9e\u73b0\u7684\u65b9\u6848\u3002</p>"},{"location":"os/thread/#31","title":"3.1. \u63a7\u5236\u4e2d\u65ad","text":"<pre><code>void lock() {\n    DisableInterrupts();\n}\n\nvoid unlock() {\n    EnableInterrupts();\n}\n</code></pre> <p>\u5f88\u7b80\u5355\uff0c\u628a\u4e2d\u65ad\u5173\u4e86\u5c31\u6ca1\u4eba\u80fd\u8fdb\u6765\u4e86\u3002\u5f53\u7136\u5173\u4e2d\u65ad\u7f3a\u70b9\u600e\u6837\u5c31\u4e0d\u591a\u8bf4\u4e86\u3002</p>"},{"location":"os/thread/#32","title":"3.2. \u6ca1\u6709\u786c\u4ef6","text":"<p>\u57fa\u4e8e\u4e00\u7cfb\u5217\u539f\u56e0\uff0c\u7cfb\u7edf\u8bbe\u8ba1\u8005\u8ba9\u786c\u4ef6\u652f\u6301\u9501\u3002\u6211\u4eec\u6765\u770b\u4ee3\u7801\uff0c\u6ca1\u6709\u786c\u4ef6\u7684\u652f\u6301\u4f1a\u600e\u6837\u5462\uff1f</p> <pre><code>typedef struct lock_t { int flag; } lock_t;\n\nvoid init(lock_t *mutex) {\n    mutex-&gt;flag = 0;\n}\n\nvoid lock(lock_t *mutex) {\n    while (mutex-&gt;flag == 1) \n        ; // spin wait\n    mutex-&gt;flag = 1;\n}\n\nvoid unlock(lock_t *mutex) {\n    mutex-&gt;flag = 0;\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5f88\u5bb9\u6613\u7406\u89e3\u903b\u8f91\u3002\u8ba9\u6807\u5fd7\u4f4d\u6765\u8868\u793a\u662f\u5426\u4e0a\u9501\uff0c<code>lock()</code> \u4e2d\u5982\u679c\u7ebf\u7a0b\u68c0\u6d4b\u5230\u6807\u5fd7\u4f4d\u662f 1\uff0c\u5c31\u5728\u5faa\u73af\u4e2d\u81ea\u65cb\u7b49\u5f85\uff08\u81ea\u65cb\u7b49\u5f85\uff0cspin wait\uff0c\u5faa\u73af\u4e2d\u68c0\u6d4b\u6807\u5fd7\u7684\u503c\uff09\u3002\u53cd\u4e4b\u5219\u8bbe\u6807\u5fd7\u4f4d\u4e3a1\uff0c\u8fdb\u5165\u4e34\u754c\u533a\u3002<code>unlock</code> \u5219\u5c06\u6807\u5fd7\u4f4d\u6e05\u96f6\u3002\u4f46\u662f\u6b63\u786e\u5417\uff1f</p> <p>\u770b\u4e0b\u9762\u7684\u4f8b\u5b50</p> <pre><code>+--------------------------------------+------------------------------+\n| Thread1                              | Thread2                      |\n+--------------------------------------+------------------------------+\n| call lock()                          |                              |\n| while(flag==1)                       |                              |\n| // now flag is 0,                    |                              |\n| // so the expression is false        |                              |\n| interrupt: switch to Thread2         |                              |\n+--------------------------------------+------------------------------+\n|                                      | call lock()                  |\n|                                      | while(flag==1) // false      |\n|                                      | flag = 1;                    |\n|                                      | interrupt: switch to Thread1 |\n+--------------------------------------+------------------------------+\n| // because the expression is false,  |                              |\n| // so we jump out of the loop.       |                              |\n| flag = 1;                            |                              |\n| return;                              |                              |\n+--------------------------------------+------------------------------+\n</code></pre> <p>\u5982\u8868\u683c\u6240\u793a\uff0c\u53ea\u8981\u4e2d\u65ad\u4f4d\u7f6e\u5408\u9002\uff0c\u4e24\u4e2a\u7ebf\u7a0b\u90fd\u80fd\u591f\u8fdb\u5165\u4e34\u754c\u533a\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u6211\u4eec\u8bbe\u7f6e\u9501\u662f\u4e3a\u4e86\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u8fdb\u5165\u4e34\u754c\u533a\uff0c\u7ebf\u7a0b\u7684\u5207\u6362\u662f\u7531\u4e2d\u65ad\u63a7\u5236\u7684\u3002\u4f46\u662f\u73b0\u5728\u6211\u4eec\u7684\u9501\u4e5f\u53d7\u5230\u4e2d\u65ad\u7684\u63a7\u5236\uff0c\u672c\u8d28\u4e0a\u4e5f\u53ef\u4ee5\u8bf4\u662f\u201c\u4e34\u754c\u533a\u201d\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u5b9e\u73b0\u4e0a\u9762\u63d0\u5230\u7684\u201c\u539f\u5b50\u6027\u201d\u3002</p>"},{"location":"os/thread/#33","title":"3.3. \u81ea\u65cb\u9501","text":"<p>\u6240\u4ee5\u6211\u4eec\u9700\u8981\u786c\u4ef6\u7684\u5e2e\u52a9\u6765\u8bbe\u8ba1\u81ea\u65cb\u9501\uff08\u5728\u5faa\u73af\u4e2d\u5224\u65ad\u5c31\u53eb\u81ea\u65cb\uff09\u3002\u786c\u4ef6\u8bbe\u8ba1\u8005\u7ed9\u6211\u4eec\u8bbe\u8ba1\u7684\u6307\u4ee4\u662f test-and-set\uff08\u6d4b\u8bd5\u5e76\u8bbe\u7f6e\uff09\u3002\u5b83\u7684\u4f2a\u4ee3\u7801\u5927\u6982\u662f\uff1a</p> <pre><code>int TestAndSet(int *old_ptr, int new)\n{\n    int old = *old_ptr;\n    *old_ptr = new;\n    return old;\n}\n</code></pre> <p>\u5b83\u8fd4\u56de <code>old_ptr</code> \u6307\u5411\u7684\u65e7\u503c\uff08\u6d4b\u8bd5\uff09\u540c\u65f6\u66f4\u65b0\u4e3a <code>new</code> \u7684\u65b0\u503c\uff08\u8bbe\u7f6e\uff09\u3002\u589e\u52a0\u8fd9\u6761\u6307\u4ee4\u6211\u4eec\u5c31\u53ef\u4ee5\u8bbe\u8ba1\u4e00\u4e2a\u81ea\u65cb\u9501\uff08spin lock\uff09\u4e86\u3002</p> <pre><code>typedef struct lock_t { int flag; } lock_t;\n\nvoid init(lock_t *mutex) {\n    mutex-&gt;flag = 0;\n}\n\nvoid lock(lock_t *mutex) {\n    while (TestAndSet(&amp;mutex-&gt;flag, 1) == 1) \n        ; // spin wait\n}\n\nvoid unlock(lock_t *mutex) {\n    mutex-&gt;flag = 0;\n}\n</code></pre> <p>\u903b\u8f91\u548c\u4e0a\u4e00\u8282\u7684\u4ee3\u7801\u57fa\u672c\u662f\u4e00\u6837\u7684\u3002\u552f\u4e00\u7684\u4e0d\u540c\u662f\uff0c\u4e0a\u4e00\u8282\u4e2d\u51fa\u73b0\u7684\u95ee\u9898\u4ee3\u7801</p> <pre><code>while (mutex-&gt;flag == 1) \n        ; // spin wait\n    mutex-&gt;flag = 1;\n</code></pre> <p>\u56e0\u4e3a\u6709\u786c\u4ef6\u7684\u5e2e\u52a9\uff0c\u76f4\u63a5\u53d8\u6210\u4e86\u4e00\u6761\u6307\u4ee4\uff1a</p> <pre><code>while (TestAndSet(&amp;mutex-&gt;flag, 1) == 1) \n        ; // spin wait\n</code></pre> <p>\u628a\u5224\u65ad\u548c\u8d4b\u503c\u7684\u8fc7\u7a0b\u5408\u5728\u4e86\u4e00\u8d77\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4fdd\u6301\u4e92\u65a5\u6027\u4e86\u3002\u56e0\u4e3a\u95ee\u9898\u51fa\u5728\u5728\u6307\u4ee4\u4e4b\u95f4\u51fa\u73b0\u4e86\u4e2d\u65ad\uff0c\u73b0\u5728\u6211\u4eec\u628a\u51e0\u6761\u6307\u4ee4\u5408\u5728\u4e00\u8d77\u6210\u4e3a\u4e00\u6761\u539f\u5b50\u6307\u4ee4\u4e00\u6b21\u6027\u6267\u884c\uff0c\u5c31\u53ef\u4ee5\u89c4\u907f\u4e2d\u65ad\u7684\u95ee\u9898\u3002</p> <p>\u81ea\u65cb\u9501\u603b\u7b97\u662f\u6b63\u786e\u7684\u4e86\uff0c\u4f46\u662f\u5b83\u4e0d\u516c\u5e73\uff0c\u4f1a\u5bfc\u81f4\u997f\u6b7b\uff0c\u56e0\u4e3a\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u80fd\u6c38\u8fdc\u5360\u7528\u7740\u4e34\u754c\u533a\u3002</p>"},{"location":"os/thread/#34-compare-and-swap","title":"3.4. compare-and-swap","text":"<p>\u524d\u9762\u6211\u4eec\u4f7f\u7528\u4e86 <code>test-and-set</code> \u6307\u4ee4\u6765\u5b9e\u73b0\u81ea\u65cb\u9501\uff0c\u800c\u6709\u4e9b\u7cfb\u7edf\u63d0\u4f9b\u7684\u786c\u4ef6\u6307\u4ee4\u662f <code>compare-and-swap</code>\u3002\u5b83\u7684\u4f2a\u4ee3\u7801\u5927\u81f4\u662f\uff1a</p> <pre><code>int CompareAndSwap(int *ptr, int expected, int new) {\n    int actual = *ptr;\n    if (actual == expected)\n        *ptr = new;\n    return actual;\n}\n</code></pre> <p>\u53ef\u4ee5\u628a\u5b83\u770b\u6210\u662f <code>test-and-set</code> \u6307\u4ee4\u7684\u6539\u826f\u7248\u3002\u8981\u5b9e\u73b0\u81ea\u65cb\u9501\uff0c\u53ea\u8981\u5c06 <code>lock()</code> \u51fd\u6570\u4f5c\u4e0b\u9762\u66ff\u6362\u5373\u53ef\uff1a</p> <pre><code>void lock(lock_t *mutex) {\n    while (CompareAndSwap(&amp;mutex-&gt;flag, 0, 1) == 1) \n        ; // spin wait\n}\n</code></pre>"},{"location":"os/thread/#35","title":"3.5. \u81ea\u65cb\u592a\u591a","text":"<p>\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u80fd\u5728\u7b49\u5f85\u9501\u7684\u65f6\u5019\u4e00\u76f4\u81ea\u65cb\uff0c\u8fd9\u6837\u6548\u7387\u5c31\u4f1a\u975e\u5e38\u4f4e\u4e0b\u3002\u90a3\u4e48\u8be5\u600e\u4e48\u64cd\u4f5c\uff1f</p> <p>\u6700\u7b80\u5355\u7684\u601d\u8def\u662f\uff0c\u82e5\u53d1\u73b0\u9501\u88ab\u5360\u7528\uff0c\u5c31\u76f4\u63a5\u8ba9\u51fa CPU \u7ed9\u5176\u4ed6\u7ebf\u7a0b\u3002\u8fd9\u5bf9\u4e24\u7ebf\u7a0b\u5f88\u6709\u7528\uff0c\u4f46\u662f\u5982\u679c\u7ebf\u7a0b\u66f4\u591a\uff0c\u5c31\u4f1a\u6709\u5f88\u591a\u7ebf\u7a0b\u6765\u6267\u884c\u68c0\u6d4b\u2014\u2014\u8ba9\u51fa\uff0c\u8fd9\u4ecd\u7136\u6548\u7387\u4f4e\u4e0b\u3002\u6211\u4eec\u5fc5\u987b\u51b3\u5b9a\u9501\u91ca\u653e\u65f6\uff0c\u8c01\u80fd\u62a2\u5230\u9501\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u961f\u5217\u6765\u4fdd\u5b58\u7b49\u5f85\u9501\u7684\u7ebf\u7a0b\u3002\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>typedef struct lock_t {\n    int flag;\n    int guard;\n    queue_t *q;\n} lock_t;\n\nvoid lock_init (lock_t *m) {\n    m-&gt;flag = 0;\n    m-&gt;guard = 0;\n    queue_init(m-&gt;q);\n}\n\nvoid lock(lock_t *m) {\n    while(TestAndSet(&amp;m-&gt;guard, 1)==1);\n    if(m-&gt;flag == 0) { // \u6301\u6709\u9501\n        m-&gt;flag = 1;\n        m-&gt;guard = 0;\n    } else { // \u672a\u6301\u6709\uff0c\u8ba9\u51fa\u9501\n        queue_add(m-&gt;q, gettid());\n        m-&gt;guard = 0;\n        park();\n    }\n}\n\nvoid unlock(lock_t *m) {\n    while(TestAndSet(&amp;m-&gt;guard, 1)==1);\n    if(queue_empty(m-&gt;q)) m-&gt;flag = 0;\n    else unpark(queue_remove(m-&gt;q));\n    m-&gt;guard = 0;\n}\n</code></pre> <p>\u6ce8\u91ca\uff0c\u6211\u4eec\u4e0a\u9762\u662f\u5229\u7528\u4e86 Solaris \u7684\u652f\u6301\uff0c<code>park()</code> \u80fd\u591f\u8ba9\u8c03\u7528\u7ebf\u7a0b\u4f11\u7720\uff0c<code>unpark(ID)</code> \u5219\u5524\u9192\u7ebf\u7a0b ID\u3002</p> <p>guard \u8d77\u5230\u81ea\u65cb\u9501\u7684\u4f5c\u7528\u3002\u5728 lock \u51fd\u6570\u4e2d\uff0c\u5982\u679c\u7ebf\u7a0b\u4e0d\u80fd\u83b7\u53d6\u9501\uff0c\u5219\u5c06\u81ea\u8eab\u52a0\u5165\u961f\u5217\uff0c\u5c06 guard \u8bbe\u7f6e\u6210 0\uff0c\u8ba9\u51fa CPU\u3002unlock \u5219\u5524\u9192\u6700\u65e9\u52a0\u5165\u961f\u5217\u7684\u7ebf\u7a0b\uff0c\u522b\u8ba9\u5b83\u7b49\u5f85\u592a\u4e45\u3002</p>"},{"location":"os/thread/#4","title":"4. \u6761\u4ef6\u53d8\u91cf","text":""},{"location":"os/thread/#41","title":"4.1 \u5b9a\u4e49","text":"<p>\u9700\u6c42\u662f\uff1a\u6211\u4eec\u5e0c\u671b\u6211\u4eec\u7684\u7ebf\u7a0b\u7b49\u5f85\u67d0\u4e2a\u6761\u4ef6\u53d8\u6210\u771f\u65f6\uff0c\u518d\u7ee7\u7eed\u8fd0\u884c\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5f15\u5165\u6761\u4ef6\u53d8\u91cf\uff0c\u6761\u4ef6\u53d8\u91cf\u662f\u4e00\u4e2a\u663e\u5f0f\u961f\u5217\uff0c\u67d0\u4e2a\u201c\u6761\u4ef6\u201d\u4e0d\u6ee1\u8db3\u65f6\uff0c\u7ebf\u7a0b\u53ef\u4ee5\u5c06\u81ea\u5df1\u52a0\u5165\u961f\u5217\uff0c\u7b49\u5f85\u8fd9\u4e2a\u6761\u4ef6\u3002\u5176\u4ed6\u7ebf\u7a0b\u82e5\u662f\u6539\u53d8\u4e86\u201c\u6761\u4ef6\u201d\uff0c\u5c31\u53ef\u4ee5\u5524\u9192\u8fd9\u4e2a\u6761\u4ef6\u961f\u5217\u4e0a\u7684\u7ebf\u7a0b\u3002</p> <p>\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u4f8b\u5b50\uff0c\u7236\u7ebf\u7a0b\u7b49\u5f85\u5b50\u7ebf\u7a0b\u8fd0\u884c\u5b8c\uff0c\u518d\u7ee7\u7eed\u8fd0\u884c\u3002</p> <pre><code>#include &lt;pthread.h&gt;\n#include &lt;stdio.h&gt;\n\nint done = 0;\npthread_mutex_t m = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t c = PTHREAD_COND_INITIALIZER;\n\nvoid thr_exit()\n{\n    pthread_mutex_lock(&amp;m);\n    done = 1;\n    pthread_cond_signal(&amp;c);\n    pthread_mutex_unlock(&amp;m);\n}\n\nvoid *child(void *arg) \n{\n    printf(\"child\\n\");\n    thr_exit();\n    return NULL;\n}\n\nvoid thr_join()\n{\n    pthread_mutex_lock(&amp;m);\n    while (done==0) {\n        pthread_cond_wait(&amp;c, &amp;m);\n    }\n    pthread_mutex_unlock(&amp;m);\n}\n\nint main()\n{\n    printf(\"parent begin\\n\");\n    pthread_t p;\n    pthread_create(&amp;p, NULL, child, NULL);\n    thr_join();\n    printf(\"parent end\\n\");\n    return 0;\n}\n</code></pre> <p>\u6761\u4ef6\u53d8\u91cf\u6709\u4e24\u79cd\u76f8\u5173\u64cd\u4f5c\uff1await() \u548c signal()\u3002\u7ebf\u7a0b\u8981\u7761\u7720\u7684\u65f6\u5019\uff0c\u8c03\u7528 wait()\u3002\u60f3\u5524\u9192\u67d0\u4e2a\u6761\u4ef6\u53d8\u91cf\u4e0a\u7684\u7761\u7720\u7ebf\u7a0b\u65f6\uff0c\u8c03\u7528 signal()\u3002</p> <p>wait() \u7684\u5176\u4e2d\u4e00\u4e2a\u53c2\u6570\u662f\u9501\uff08\u4e92\u65a5\u91cf\uff09\uff0c\u5b83\u5047\u5b9a wait() \u53c2\u6570\u8c03\u7528\u65f6\uff0c\u8fd9\u4e2a\u4e92\u65a5\u91cf\u662f\u5df2\u4e0a\u9501\u7684\u72b6\u6001\u3002wait() \u7684\u804c\u8d23\u662f\u91ca\u653e\u9501\uff0c\u5e76\u8ba9\u8c03\u7528\u7ebf\u7a0b\u4f11\u7720\u3002\u4e00\u76f4\u5230\u7ebf\u7a0b\u5524\u9192\u65f6\uff08\u53e6\u5916\u67d0\u4e00\u4e2a\u7ebf\u7a0b\u53d1\u4fe1\u53f7\uff09\uff0c\u5b83\u518d\u83b7\u53d6\u9501\uff0c\u8fd4\u56de\u8c03\u7528\u8005\u3002</p> <p>\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e24\u79cd\u60c5\u51b5\uff1a\u82e5\u7236\u7ebf\u7a0b\u5148\u8fd0\u884c\u7684\u8bdd\uff0c\u5b83\u5c31\u76f4\u63a5\u8c03\u7528 <code>thr_join()</code> \u51fd\u6570\u7b49\u5f85\u5b50\u7ebf\u7a0b\u3002\u5b83\u5148\u83b7\u53d6\u9501\uff0c\u7136\u540e\u8c03\u7528 <code>wait()</code> \u51fd\u6570\uff0c\u8ba9\u81ea\u5df1\u4f11\u7720\u3002\u5b50\u7ebf\u7a0b\u5f00\u59cb\u8fd0\u884c\uff0c\u5e76\u8fd0\u884c\u5b8c\u6bd5\u540e\uff0c\u8c03\u7528 <code>signal</code> \u4e14\u8bbe\u7f6e\u72b6\u6001\u53d8\u91cf <code>done</code> \u4e3a 1\u3002\u6700\u540e <code>wait()</code> \u5524\u9192\u7236\u7ebf\u7a0b\u7ee7\u7eed\u8fd0\u884c\uff0c\u91ca\u653e\u9501\uff0c\u7ed3\u675f\u3002</p> <p>\u82e5\u5b50\u7ebf\u7a0b\u5148\u8fd0\u884c\uff0c\u5176\u8bbe\u7f6e\u72b6\u6001\u53d8\u91cf\u4e3a <code>done</code> \u4e3a 1\uff0c \u8c03\u7528 <code>signal</code> \u51fd\u6570\u5524\u9192\u5176\u4ed6\u7ebf\u7a0b\uff08\u5f53\u7136\u8fd9\u91cc\u6ca1\u6709\uff09\uff0c\u5c31\u7ed3\u675f\u4e86\u3002\u7236\u7ebf\u7a0b\u8c03\u7528 <code>thr_join</code>\uff0c\u53d1\u73b0 <code>done</code> \u4e3a 1\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\u4e86\u3002</p> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u770b\u770b\uff0c\u771f\u7684\u6709\u5fc5\u8981\u5982\u6b64\u590d\u6742\u5417\uff1f\u53ef\u4ee5\u7701\u6389\u67d0\u4e9b\u90e8\u5206\u5417\uff1f\u5982\u679c\u820d\u5f03 <code>done</code> \u4f1a\u600e\u6837\u3002\u4ee3\u7801\u53d8\u6210\u4e0b\u9762\u7684\u90e8\u5206\uff1a</p> <pre><code>void thr_exit()\n{\n    pthread_mutex_lock(&amp;m);\n    pthread_cond_signal(&amp;c);\n    pthread_mutex_unlock(&amp;m);\n}\n\nvoid thr_join()\n{\n    pthread_mutex_lock(&amp;m);\n    pthread_cond_wait(&amp;c, &amp;m);\n    pthread_mutex_unlock(&amp;m);\n}\n</code></pre> <p>\u5982\u679c\u5b50\u7ebf\u7a0b\u5148\u8fd0\u884c\u7684\u8bdd\uff0c\u7236\u7ebf\u7a0b\u5c31\u4f1a\u5361\u5728 <code>wait()</code> \u8fd9\u91cc\uff0c\u518d\u4e5f\u6ca1\u6709\u7ebf\u7a0b\u5524\u9192\u5b83\u4e86\u3002\u6240\u4ee5\uff0c\u52a0\u4e0a\u4e00\u4e2a\u53d8\u91cf <code>done</code> \u662f\u6709\u5fc5\u8981\u7684\u3002</p> <p>\u90a3\u4e48\u5982\u679c\u820d\u5f03\u9501\u4f1a\u600e\u6837\uff1f</p> <pre><code>void thr_exit()\n{\n    done = 1;\n    pthread_cond_signal(&amp;c);  \n}\n\nvoid thr_join()\n{\n    while (done==0) {\n        pthread_cond_wait(&amp;c);\n    }\n}  \n</code></pre> <p>\u6ca1\u6709\u9501\uff0c\u610f\u5473\u7740 <code>done</code> \u7684\u503c\u53ef\u80fd\u968f\u65f6\u4f1a\u53d8\u5316\uff0c\u8003\u8651\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u7236\u7ebf\u7a0b\u521a\u521a\u68c0\u67e5\u5b8c <code>done</code> \u7684\u503c\uff0c\u7136\u540e\u4e2d\u65ad\u5230\u5b50\u7ebf\u7a0b\uff0c\u5b50\u7ebf\u7a0b\u4fee\u6539\u4e86 <code>done</code> \u7684\u503c\uff0c\u53d1\u51fa\u4fe1\u53f7\uff0c\u8fd0\u884c\u5b8c\u4e86\uff0c\u7136\u540e\u56de\u5230\u7236\u7ebf\u7a0b\u5c31\u6c38\u8fdc\u5361\u5728 <code>wait</code> \u4e0a\u4e86\u3002</p> <p>\u56e0\u6b64\u6709\u4e00\u4e2a\u5c0f\u63d0\u793a\uff1a\u53d1\u4fe1\u53f7\u65f6\u5fc5\u987b\u5f97\u6301\u6709\u9501\uff0c\u5e76\u4e14 <code>wait</code> \u51fd\u6570\u7684\u53c2\u6570\u5f3a\u5236\u8981\u6c42\u4f60\u8fd9\u4e48\u505a\uff0c\u53c2\u6570\u7684\u8f93\u5165\u662f\u5df2\u7ecf\u6301\u6709\u7684\u9501\u3002</p>"},{"location":"os/thread/#42-","title":"4.2 \u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u95ee\u9898","text":"<p>\u9996\u5148\u4ecb\u7ecd\u4e00\u4e0b\u80cc\u666f\uff1a\u751f\u4ea7\u8005\u5c06\u751f\u6210\u7684\u6570\u636e\u9879\u653e\u5165\u7f13\u51b2\u533a\uff1b\u6d88\u8d39\u8005\u4ece\u7f13\u51b2\u533a\u53d6\u8d70\u6570\u636e\u9879\uff0c\u4ee5\u67d0\u79cd\u65b9\u5f0f\u6d88\u8d39\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5e38\u89c1\u7684\u7ba1\u9053\uff0c\u5c31\u662f\u8fd9\u6837\uff1a<code>grep foo file.txt | wc -l</code>\u3002</p> <pre><code>int buffer;\nint count = 0;\n\nvoid put(int value) {\n    assert(count == 0);\n    count = 1;\n    buffer = value;\n}\n\nint get() {\n    assert(count == 1);\n    count = 0;\n    return buffer;\n}\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u770b\u770b\u6700\u521d\u7684\u4e00\u9879\u751f\u4ea7\u8005\u4e0e\u6d88\u8d39\u8005\u65b9\u6848\uff1a</p> <pre><code>void *producer(void *arg) {\n    int i;\n    int loops = (int) arg;\n    for(i = 0; i &lt; loops; i++) {\n        put(i);\n    }\n}\n\nvoid *consumer(void *arg) {\n    int i;\n    while(1) {\n        int tmp = get();\n        printf(\"%d\\n\", tmp);\n    }\n}\n</code></pre> <p>\u95ee\u9898\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u4e0d\u52a0\u9650\u5236\u5730\u5c31\u8bbf\u95ee\u7f13\u51b2\u533a\u4e86\u3002</p> <p>\u4e0b\u9762\u7b2c\u4e8c\u7248\uff0c\u5c31\u52a0\u5165\u6761\u4ef6\u53d8\u91cf\uff0c\u6765\u8fdb\u884c\u9650\u5236\u3002</p> <pre><code>cond_t cond;\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n    int i;\n    for (i = 0; i &lt; loop; i++) {\n        pthread_mutex_lock(&amp;mutex);\n        if (count == 1)\n            pthread_cond_wait(&amp;cond, &amp;mutex);\n        put(i);\n        pthread_cond_signal(&amp;cond);\n        pthread_mutex_unlock(&amp;mutex);\n    }\n}\n\nvoid *consumer(void *arg) {\n    int i;\n    for (i = 0; i &lt; loops; i++) {\n        pthread_mutex_lock(&amp;mutex);\n        if (count == 0)\n            pthread_cond_wait(&amp;cond, &amp;mutex);\n        int tmp = get();\n        pthread_cond_signal(&amp;cond);\n        pthread_mutex_unlock(&amp;mutex);\n        printf(\"%d\\n\", tmp);\n    }\n}\n</code></pre> <p>\u8fd9\u4e2a\u5bf9\u4e00\u4e2a\u751f\u4ea7\u8005\u548c\u4e00\u4e2a\u6d88\u8d39\u8005\u6709\u7528\uff0c\u4f46\u662f\u5982\u679c\u662f\u4e00\u4e2a\u751f\u4ea7\u8005\u548c\u591a\u4e2a\u6d88\u8d39\u8005\uff0c\u5c31\u4f1a\u51fa\u95ee\u9898\u3002\u6211\u4eec\u6765\u8ba8\u8bba\u4e00\u4e0b\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u6d88\u8d39\u8005 Tc1 \u5148\u8fd0\u884c\uff0c\u5b83\u83b7\u5f97\u9501\uff0c\u68c0\u67e5\u7f13\u51b2\u533a\uff0c\u7136\u540e\u7b49\u5f85\uff08\u7b49\u5f85\u65f6\u4f1a\u91ca\u653e\u9501\uff09\u3002\u7136\u540e\u751f\u4ea7\u8005 Tp \u8fd0\u884c\uff0c\u83b7\u5f97\u9501\uff0c\u586b\u5145\u7f13\u51b2\u533a\uff0c\u91ca\u653e\u4fe1\u53f7\u3002\u539f\u672c\u63a5\u4e0b\u6765\uff0c\u5c31\u662f Tc1 \u63a5\u6536\u4fe1\u53f7\uff0c\u6267\u884c\u5373\u53ef\u3002\u4f46\u662f\u53ef\u4ee5\u51fa\u73b0\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\u5728 Tc1 \u6267\u884c\u524d\uff0c\u53e6\u4e00\u4e2a Tc2 \u62a2\u5148\u6267\u884c\uff0c\u8fd9\u65f6\u5019\uff0c\u7f13\u51b2\u533a\u662f\u6ee1\u7684\uff0c\u4e8e\u662f\u5c31\u4f1a\u8df3\u8fc7 <code>wait()</code>\uff0c\u76f4\u63a5\u8fdb\u884c\u6d88\u8d39\uff0c\u5c06\u7f13\u51b2\u533a\u4e2d\u7684\u5185\u5bb9\u6325\u970d\u4e00\u7a7a\u3002\u7ed3\u679c\u5230 Tc1 \u8fd0\u884c\u65f6\uff0c\u7f13\u51b2\u533a\u8fd8\u662f\u7a7a\u7684\uff0c\u89e6\u53d1 <code>get()</code> \u51fd\u6570\u4e2d\u7684 <code>assert()</code> \u8bed\u53e5\u5bfc\u81f4\u5f02\u5e38\u3002</p> <p>\u7136\u540e\u4fee\u6539\u7684\u7b2c\u4e09\u7248\uff1a\u8bb0\u4f4f\u4e00\u4e2a\u89c4\u5219\uff0c\u5bf9\u6761\u4ef6\u53d8\u91cf\u7684\u68c0\u67e5\uff0c\u603b\u662f\u4f7f\u7528 <code>while</code> \u8bed\u53e5\u6765\u4ee3\u66ff <code>if</code></p> <pre><code>cond_t cond;\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n    int i;\n    for (i = 0; i &lt; loop; i++) {\n        pthread_mutex_lock(&amp;mutex);\n        while (count == 1)\n            pthread_cond_wait(&amp;cond, &amp;mutex);\n        put(i);\n        pthread_cond_signal(&amp;cond);\n        pthread_mutex_unlock(&amp;mutex);\n    }\n}\n\nvoid *consumer(void *arg) {\n    int i;\n    for (i = 0; i &lt; loops; i++) {\n        pthread_mutex_lock(&amp;mutex);\n        while (count == 0)\n            pthread_cond_wait(&amp;cond, &amp;mutex);\n        int tmp = get();\n        pthread_cond_signal(&amp;cond);\n        pthread_mutex_unlock(&amp;mutex);\n        printf(\"%d\\n\", tmp);\n    }\n}\n</code></pre> <p>\u53ea\u662f\u8fd9\u4e48\u5c0f\u7684\u4e00\u4e2a\u53d8\u5316\uff0c\u5c31\u89e3\u51b3\u4e86\u4e0a\u9762\u7684\u95ee\u9898\u3002\u5f53 Tc1 \u88ab\u5524\u9192\u65f6\uff0c\u4e0d\u662f\u76f4\u63a5 <code>get</code> \u6d88\u8d39\uff0c\u800c\u662f\u5728 <code>while</code> \u5faa\u73af\u4e2d\uff0c\u518d\u68c0\u6d4b\u4e00\u904d <code>count</code> \u7684\u503c\uff0c\u5982\u679c\u7f13\u51b2\u961f\u5217\u4e3a\u7a7a\uff0c\u5c31\u7ee7\u7eed\u7b49\u5f85\u3002</p> <p>\u53ef\u60dc\uff0c\u8fd9\u4e2a\u4ee3\u7801\u4ecd\u7136\u6709\u95ee\u9898\u3002\u8003\u8651\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u5047\u8bbe\u751f\u4ea7\u8005 Tp \u5148\u8fd0\u884c\uff0c\u653e\u5165\u4e86\u4e00\u4e2a\u503c\uff0c\u7136\u540e\u4f11\u7720\uff1b\u7136\u540e\u6d88\u8d39\u8005 Tc1 \u8fd0\u884c\uff0c\u6d88\u8017\u6389\u4e00\u4e2a\u503c\u3002\u5b83\u53d1\u9001\u4fe1\u53f7\uff0c\u53ef\u4ee5\u5524\u9192\u7b49\u5f85\u961f\u5217\u4e2d\u7684 Tc2 \u548c Tp\u3002\u5982\u679c\u5524\u9192\u7684\u662f Tp\uff0c\u8fd8\u597d\uff1b\u5982\u679c\u5524\u9192\u7684\u662f Tc1\uff0c\u5c31\u7cdf\u4e86\u3002Tc1 \u53d1\u73b0\u961f\u5217\u672a\u7a7a\uff0c\u5c31\u4f1a\u53bb\u7761\u7720\uff0c\u4ed6\u5e76\u6ca1\u6709\u53d1\u4fe1\u53f7\u3002\u8fd9\u4f1a\u5bfc\u81f4\u4e09\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u4f11\u7720\uff0c\u4e8e\u662f\u6b7b\u673a\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u4e0b\u4e00\u6b65\u7684\u4fee\u6539\u65b9\u5f0f\u662f\uff1a\u589e\u52a0\u6761\u4ef6\u53d8\u91cf\uff0c\u8ba9\u751f\u4ea7\u8005\u53ea\u80fd\u5524\u9192\u6d88\u8d39\u8005\uff0c\u6d88\u8d39\u8005\u53ea\u80fd\u5524\u9192\u751f\u4ea7\u8005\u3002</p> <p>\u7b2c\u56db\u7248\u4ee3\u7801\uff1a</p> <pre><code>cond_t empty, fill;\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n    int i;\n    for (i = 0; i &lt; loop; i++) {\n        pthread_mutex_lock(&amp;mutex);\n        while (count == 1)\n            pthread_cond_wait(&amp;empty, &amp;mutex);\n        put(i);\n        pthread_cond_signal(&amp;fill);\n        pthread_mutex_unlock(&amp;mutex);\n    }\n}\n\nvoid *consumer(void *arg) {\n    int i;\n    for (i = 0; i &lt; loops; i++) {\n        pthread_mutex_lock(&amp;mutex);\n        while (count == 0)\n            pthread_cond_wait(&amp;fill, &amp;mutex);\n        int tmp = get();\n        pthread_cond_signal(&amp;empty);\n        pthread_mutex_unlock(&amp;mutex);\n        printf(\"%d\\n\", tmp);\n    }\n}\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u624d\u662f\u5b8c\u5168\u6b63\u786e\u7684\u4ee3\u7801\u4e86\u3002\u6240\u4ee5\u8981\u5199\u51fa\u597d\u7684\u5e76\u53d1\u4ee3\u7801\uff0c\u8fd8\u662f\u6709\u4e9b\u96be\u5ea6\u3002</p>"},{"location":"os/thread/#5","title":"5. \u4fe1\u53f7\u91cf","text":"<p>\u4fe1\u53f7\u91cf\u662f\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u4fe1\u53f7\u91cf\u7684\u521d\u59cb\u503c\u51b3\u5b9a\u4e86\u5176\u4e0d\u540c\u884c\u4e3a\uff0c\u56e0\u6b64\u9996\u5148\u6211\u4eec\u8981\u521d\u59cb\u5316\u3002</p> <pre><code>#include &lt;semaphore.h&gt;\nsem_t s;\nsem_init(&amp;s, 0, 1);\n</code></pre> <p>\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8868\u793a\u4fe1\u53f7\u91cf\u5728\u540c\u4e00\u8fdb\u7a0b\u4e2d\u88ab\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\uff0c\u4e00\u822c\u8bbe\u4e3a 0\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570\u8bbe\u521d\u503c\u4e3a 1\u3002</p> <p>\u4e0b\u9762\u662f\u5bf9\u4fe1\u53f7\u91cf\u64cd\u4f5c\u7684\u4e24\u4e2a\u51fd\u6570\u3002</p> <pre><code>int sem_wait(sem_t *s);\n// \u5c06\u4fe1\u53f7\u91cf\u7684\u503c\u51cf 1\uff0c\u82e5\u51cf\u540e\u503c\u4e3a\u8d1f\u6570\uff0c\u5219\u5f53\u524d\u7ebf\u7a0b\u8fdb\u5165\u7b49\u5f85\nint sem_post(sem_t *s);\n// \u5c06\u4fe1\u53f7\u91cf\u7684\u503c\u52a0 1\uff0c\u82e5\u6709\u7b49\u5f85\u7684\u7ebf\u7a0b\uff0c\u5524\u9192\u5176\u4e2d\u4e00\u4e2a\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u7528\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\u9501\uff1a</p> <pre><code>sem_t m;\nsem_init(&amp;m, 0, 1);\n\nsem_wait(&amp;m);\n// do somthing\nsem_post(&amp;m);\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u7528\u4fe1\u53f7\u91cf\u5b9e\u73b0\u6761\u4ef6\u53d8\u91cf\uff1a</p> <pre><code>sem_t s;\nvoid *\nchild(void* arg) {\n    printf(\"child\");\n    sem_post(&amp;s);\n    return NULL;\n}\n\n\nint main() {\n    sem_init(&amp;s, 0, 0);\n    printf(\"parent begin\\n\");\n    pthread_t c;\n    pthread_create(&amp;c, NULL, child, NULL);\n    sem_wait(&amp;s);\n    printf(\"parent end\\n\");\n    return 0;\n}\n</code></pre> <p>\u6ce8\u610f\uff0c\u5b9e\u73b0\u9501\u65f6\uff0c\u5e94\u5f53\u521d\u59cb\u5316\u4fe1\u53f7\u91cf\u4e3a 1\uff0c\u6761\u4ef6\u53d8\u91cf\u5219\u662f 0\uff0c\u601d\u8003\u4e00\u4e0b\u5373\u53ef\u3002</p>"},{"location":"signal/DFT/","title":"DFT","text":""},{"location":"signal/DFT/#1","title":"1.  \u9891\u57df\u91c7\u6837\u548c\u65f6\u57df\u6df7\u53e0","text":"<p>\u5bf9\u4e8e \\(x\\left\\lbrack n\\right\\rbrack =a^n u\\left\\lbrack n\\right\\rbrack ,\\;\\;\\;0&lt;a&lt;1\\) </p> \\[ X\\left(\\omega \\right)=\\frac{1}{1-ae^{-j\\omega } }  \\] <p>\\(X\\left(\\omega \\right)\\) \u7684\u9891\u57df\u5982\u4e0b\u56fe</p> <pre><code>a=0.8;\nomega = pi*(0:0.01:2);\nX = 1./(1-a*exp(-1i*omega));\nplot(omega/pi,abs(X))\nxlabel(\"freqs/(w/\\pi)\")\nylabel(\"maginitude\")\n</code></pre> <p></p> <p>\u91c7\u6837N\u4e2a\u70b9 \\(X\\left(\\frac{2\\pi k}{N}\\right),k=0,1,\\ldotp \\ldotp \\ldotp ,N-1\\) ,\u91cd\u5efa\u5f97\u5230\u7684\u5e8f\u5217\u4e3a</p> \\[ x_p [n]=\\sum_{l=-\\infty }^{\\infty } x[n-lN]=\\frac{a^n }{1-a^N }  \\] \\[ \\;\\;\\;\\;\\;\\;\\;\\;0\\le n\\le N-1  \\] <p>\u5f88\u663e\u7136\uff0cN\u8d8a\u5927\uff0c\u6df7\u53e0\u7684\u5f71\u54cd\u5c31\u8d8a\u5c0f</p> <pre><code>%\u6bd4\u8f83\u91cd\u5efa\u548c\u539f\u6765\u7684\u65f6\u57df\nclf\nN=0:1:100;\nx = power(a,N);\nhold on\nplot(N,x)\nn1=0:1:4;\nxp1=power(a,n1)./(1-power(a,5));\nplot(n1,xp1);\nxlim([0 100]);\nn2=0:1:50;\nxp2= power(a,n2)./(1-power(a,50));\nplot(n2,xp2);\nxlim([0 100]);\nhold off\n</code></pre> <p></p> <pre><code>%\u53ef\u4ee5\u770b\u523050\u4e2a\u70b9\u65f6\u5df2\u7ecf\u57fa\u672c\u4e0e\u539f\u51fd\u6570\u91cd\u5408\u4e86\n\n%\u518d\u91cd\u5efa\u9891\u8c31\nXP1 = fft(xp1);\nXP2 = fft(xp2);\nstem(abs(XP1))\n</code></pre> <p></p> <pre><code>stem(abs(XP2))\n</code></pre> <p></p> <p><pre><code>%\u53ef\u4ee5\u770b\u5230\u57fa\u672c\u4e0a\u91cd\u5efa\u4e86\n</code></pre> </p>"},{"location":"signal/DFT/#2-dft","title":"2. DFT","text":"<p>\u4e0b\u9762\u6ce8\u610f\u5b9a\u4e49\uff0cL\u662f\u4fe1\u53f7\u7684\u91c7\u6837\u70b9\u6570\uff0cN\u662f\u505aDFT\u7684\u70b9\u6570\uff0cN&gt;=L</p> <pre><code>%\u8003\u8651\u4e0b\u9762\u7684DTFT\uff08\u548c\u6ed1\u52a8\u5e73\u5747\u6ee4\u6ce2\u5668\u662f\u4e00\u6837\u7684\uff09\nL=10;\nx = ones(1,L);\nw = 0:0.01:10;\nX = sin(w*L/2)./sin(w/2).*exp(-1i*w*(L-1)/2);\nplot(w/pi,(abs(X)));\nxlim([0,2]);\n</code></pre> <p></p> <pre><code>plot(w/pi, angle(X));\nxlim([0,2]);\n</code></pre> <p></p> <pre><code>%N=10\nN=0:9;\nX1 = fft(x,10);\nstem(N,abs(X1))\n</code></pre> <p></p> <pre><code>stem(N,angle(X1))\n</code></pre> <p></p> <pre><code>%N=50\nN=0:49;\nX2 = fft(x,50);\nstem(N,abs(X2))\n</code></pre> <p></p> <pre><code>stem(N,angle(X2))\n</code></pre> <p></p> <pre><code>%N=200\nN=0:200-1;\nX3 = fft(x,200);\nstem(N,abs(X3))\n</code></pre> <p></p> <pre><code>stem(N,angle(X3))\n</code></pre> <p></p> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u77e5\u9053\u4e86DFT\u957f\u5ea6\u548c\u88650\u4f1a\u53d1\u751f\u4ec0\u4e48\u4e86\u5417\uff1f</p> <p>\u9996\u5148\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6709\u9650\u957fL\u7684\u5e8f\u5217x[n]\u6765\u8bf4\uff0cL\u70b9DFT\u662f\u548c\u65f6\u57df\u552f\u4e00\u5bf9\u5e94\u7684\uff0c\u8fd9\u6ca1\u6709\u9519\u3002</p> <pre><code>y = ifft(X1)\n</code></pre> <pre><code>y = 1x10    \n     1     1     1     1     1     1     1     1     1     1\n</code></pre> <p>\u4f46\u662f\u70b9\u6570\u592a\u5c11\u7684\u65f6\u5019\uff0c\u9891\u57df\u4e0a\u4fe1\u606f\u592a\u5c11\u4e86\uff0c\u4ec0\u4e48\u90fd\u770b\u4e0d\u51fa\u6765\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u8981\u589e\u52a0DFT\u7684\u957f\u5ea6N\uff0c\u4e5f\u5c31\u662f\u8865\u96f6\u3002\u8865\u96f6\u7684\u8fc7\u7a0b\u4e2d\u76f8\u5f53\u4e8e\u63d2\u503c\uff0c\u589e\u52a0\u4e86\u5206\u8fa8\u7387 \\(\\omega =\\frac{2\\pi }{N}\\) \uff08\u6570\u503c\u8d8a\u5c0f\u8868\u793a\u5206\u8fa8\u7387\u8d8a\u5927\uff09\u6211\u4eec\u5f97\u5230\u4e86\u66f4\u591a\u7684\u9891\u57df\u7684\u4fe1\u606f\u3002\u6362\u53e5\u8bdd\u8bf4\uff0cDFT\u7684\u70b9\u6570N\u5c31\u662f\u5728DTFT\u9891\u57df \\(\\left\\lbrack 0,2\\pi \\right\\rbrack\\) \u4e0a\u91c7\u6837\u7684\u70b9\u6570\u3002</p> <p>\u6ce8\u610f\uff1a\u6b64\u5904\u7684\u5206\u8fa8\u7387\uff08resolution\uff09\u7528\u4e8e\u63cf\u8ff0\u9891\u57df\u91c7\u6837\u7684\u95f4\u9694\uff0c\u5b9e\u9645\u4e0a\u63cf\u8ff0\u7684\u662f\u6e05\u6670\u5ea6\uff0c\u548c\u540e\u9762\u7a97\u51fd\u6570\u7684\u5206\u8fa8\u80fd\u529b\u662f\u4e0d\u540c\u7684\u3002</p>"},{"location":"signal/DFT/#dft","title":"DFT\u8fdb\u884c\u9891\u57df\u5206\u6790","text":"<p>\u6211\u4eec\u91c7\u6837\u5f97\u5230\u7684\u4fe1\u53f7\u7684\u957f\u5ea6\u6c38\u8fdc\u662f\u6709\u9650\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u81ea\u89c9\u7684\u52a0\u4e0a\u4e86\u77e9\u5f62\u7a97\uff0c\u7a97\u4f1a\u4f7f\u529f\u7387\u6cc4\u9732\u3002</p> <p>\u6211\u4eec\u62ff\u6700\u7b80\u5355\u7684\u4f59\u5f26\u4fe1\u53f7\u8fdb\u884c\u4e3e\u4f8b\uff08proakis\u7684\u4f8b\u5b50\uff09</p> <pre><code>omega0 = 0.2*pi;\nomega1 = 0.22*pi;\nomega2 = 0.6*pi;\nn = 0:1:24;\nx = cos(omega0*n)+cos(omega1*n)+cos(omega2*n);\nX1 = fft(x,2048);\nn = 0:1:49;\nx = cos(omega0*n)+cos(omega1*n)+cos(omega2*n);\nX2 = fft(x,2048);\nn = 0:1:1999;\nx = cos(omega0*n)+cos(omega1*n)+cos(omega2*n);\nX3 = fft(x,2048);\nplot(abs(X1));\n</code></pre> <p></p> <pre><code>plot(abs(X2));\n</code></pre> <p></p> <pre><code>plot(abs(X3));\n</code></pre> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u622a\u53d6 \\(x\\left\\lbrack n\\right\\rbrack\\) \u768425\u4e2a\u548c50\u4e2a\u70b9\u505afft\u90fd\u4f1a\u5403\u63890.22pi\u7684\u90e8\u5206\uff0c\u53ea\u6709200\u4e2a\u70b9\u7684\u65f6\u5019\u624d\u80fd\u591f\u5206\u8fa8\u51fa\u6765\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u6765\u770b\u4e00\u4e0b\u77e9\u5f62\u7a97\u7684fourier transform\uff08\u5c31\u662f\u590d\u5236\u4e86\u5f00\u59cb\u7684\u6ed1\u52a8\u5e73\u5747\u6ee4\u6ce2\u5668\uff09</p> <pre><code>L=10;\nx = ones(1,L);\nw = 0:0.01:10;\nX = sin(w*L/2)./sin(w/2).*exp(-1i*w*(L-1)/2);\nplot(w/pi,(abs(X)));\nxlim([0,2]) %0--2\\pi figure\n</code></pre> <p></p> <p>\u4e3b\u74e3\u7684\u7b2c\u4e00\u4e2a\u96f6\u70b9\u662f \\(\\frac{2\\pi }{L}\\) ,\u8fd9\u91ccL=10\uff0c\u6240\u4ee5\u96f6\u70b9\u662f0.2\u03c0\u3002</p> <p>\u53ea\u6709\u5f53 \\(|\\omega_1 -\\omega_2 |&gt;\\frac{2\\pi }{L}\\) \u7684\u65f6\u5019\u624d\u80fd\u5206\u8fa8\u51fa\u6765\u3002\uff08\u753b\u56fe\u770b\uff09\uff08\u8fd9\u4e25\u8c28\u5417\uff09</p> <p>\u6240\u4ee5\u91c7\u6837L\u4e2a\u70b9\uff0c \\(\\frac{2\\pi }{L}\\) \u5c31\u662f\u5206\u8fa8\u7387\u3002</p> <p>\u6216\u8005\u8bf4\uff0c\u4e3b\u74e3\u7684\u5bbd\u5ea6\u8868\u5f81\u4e86\u5206\u8fa8\u7387\u3002\u5bbd\u5ea6\u8d8a\u7a84\uff0c\u5206\u8fa8\u7387\u8d8a\u9ad8\uff0c\u80fd\u5206\u8fa8\u5dee\u8ddd\u66f4\u5c0f\u7684\u9891\u7387\u3002</p> <p>\u62ff\u4e66\u672c\u91cc\u7684\u7ed3\u8bba\u6765\u8bf4\uff1a\u5206\u8fa8\u7387\u53d7\u4e3b\u74e3\uff08main lobe\uff09\u5bbd\u5ea6\u7684\u5f71\u54cd\uff0c\u6cc4\u9732\u7684\u7a0b\u5ea6\u53d6\u51b3\u4e8e\u4e3b\u74e3\u548c\u65c1\u74e3\u7684\u76f8\u5bf9\u5e45\u5ea6\u3002</p> <p>The resolution is influenced primarily by the width of the main lobe of W(ej\u03c9), whereas the degree of leakage depends on the relative amplitude of the main lobe to the side lobes of W(ej\u03c9). </p> <p>\u4f46\u662f\u4e0a\u9762\u7684\u4f8b\u5b50\u600e\u4e48\u770b\u51fa\u6cc4\u9732\uff1f\u6b63\u5f26\u6ce2\u539f\u6765\u53ea\u6709\u4e00\u4e2a\u9891\u7387\uff0c\u52a0\u7a97\u540e\u589e\u52a0\u4e86\u5f88\u591a\u9891\u7387\u7684\u5206\u91cf\u3002\u65c1\u74e3\u7684\u5e45\u5ea6\u8d8a\u5927\uff0c\u81ea\u7136\u8bf4\u660e\u6cc4\u9732\u7684\u8d8a\u591a\u54af\u3002</p> <p>\u77e9\u5f62\u6ce2\u7684\u5206\u8fa8\u7387\u6700\u597d\uff0c\u4f46\u4e0e\u6b64\u540c\u65f6\uff0c\u5b83\u6cc4\u9732\u7684\u4e5f\u662f\u6700\u591a\u7684\u3002</p> <p>\uff08\u8fd9\u91cc\u4e5f\u5f3a\u8c03\u4e00\u904d\uff0c\u548cpadding zero\u8bf4\u7684\u5206\u8fa8\u7387\u4e0d\u662f\u540c\u4e00\u4e2a\u5206\u8fa8\u7387\uff09</p>"},{"location":"signal/DFT/#_1","title":"\u6c49\u5b81\u7a97","text":"<p>\u524d\u9762\u770b\u5230\u77e9\u5f62\u7a97\u6cc4\u9732\u7684\u9891\u7387\u5230\u65c1\u74e3\u4e0a\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u6c49\u5b81\u7a97\u6765\u964d\u4f4e\u65c1\u74e3\uff08\u4ee3\u4ef7\u662f\u589e\u52a0\u4e3b\u74e3\u7684\u5bbd\u5ea6\uff09</p> \\[ w\\left\\lbrack n\\right\\rbrack =0\\ldotp 5-0\\ldotp 5\\cos \\frac{2\\pi }{L-1}n,\\;\\;\\;0\\le n\\le L-1  \\] <p>\u9891\u7387\u7279\u6027\u5982\u4e0b\u56fe</p> <pre><code>%L=10\nn=0:1:10;\nw=0.5-0.5*cos(2*pi*n/(9));\nstem(w)\ntitle(\"time domain\")\n</code></pre> <p></p> <pre><code>W=fftshift(fft(w,1000));\nomega = 0:2*pi/1000:2*pi-2*pi/1000;\nplot(omega/pi, abs(W));\ntitle(\"freqency domain\")\n</code></pre> <p></p>"},{"location":"signal/DFT/#_2","title":"\u5706\u5468\u5377\u79ef","text":"<p>\u82e5\u5e8f\u52171\u7684\u957f\u5ea6\u662fL\uff0c\u5e8f\u52172\u7684\u957f\u5ea6\u662fP\uff0c\u53ea\u6709\u7ed3\u679c\u5e8f\u5217\u7684\u957f\u5ea6\u662fL+P-1\u65f6\uff0c\u5b83\u624d\u4f1a\u548c\u7ebf\u6027\u5377\u79ef\u7684\u7ed3\u679c\u4e00\u81f4\u3002\u5373\u505a\u5706\u5468\u5377\u79ef\u524d\u8981\u8865\u96f6\u5230\u5408\u9002\u7684\u957f\u5ea6\uff08L+P-1\uff09\uff0c\u5426\u5219\u5c31\u4f1a\u6df7\u53e0\u3002</p> <p>\u4e3e\u4f8b\uff1a</p> <pre><code>a=[1 1 1 1];\nb=[1 2 2 3];\nc=conv(a,b);\nc\n</code></pre> <pre><code>c = 1x7    \n     1     3     5     8     7     5     3\n</code></pre> <pre><code>%4 points circular conv\nA=fft(a,4);\nB=fft(a,4);\nc1=ifft(A.*B);\nc1\n</code></pre> <pre><code>c1 = 1x4    \n     4     4     4     4\n</code></pre> <pre><code>%7 points circular conv\nA=fft(a,7);\nB=fft(b,7);\nc2=ifft(A.*B);\nc2\n</code></pre> <pre><code>c2 = 1x7    \n1.0000    3.0000    5.0000    8.0000    7.0000    5.0000    3.0000\n</code></pre> <p>4\u70b9\u5706\u5468\u5377\u79ef\u53d1\u751f\u4e86\u6df7\u53e0\uff0c7\u70b9\u7684\u662f\u548c\u7ebf\u6027\u5377\u79ef\u7b54\u6848\u4e00\u81f4\u3002</p> <p>\u770b\u4e86\u4e0a\u9762\u4e5f\u53ef\u4ee5\u77e5\u9053\uff0cpadding-zero\u53ea\u4f1a\u5728\u6570\u503c\u4e0a\u5f71\u54cdDFT\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u4e0d\u4f1a\u5f71\u54cd\u5377\u79ef\uff08\u6ee4\u6ce2\uff09\u7684\u7ed3\u679c\u3002</p>"},{"location":"signal/DFT/#_3","title":"\u957f\u6570\u636e\u6ee4\u6ce2","text":"<p>\u6570\u636e\u5f88\u957f\u65f6\uff0c\u5e38\u5e38\u8981\u5206\u5757\u6ee4\u6ce2\u3002\u8fd9\u91cc\u5c31\u884d\u751f\u51fa\u4e24\u79cd\u65b9\u6cd5\uff1aoverlap-add\u548coverlap-save\u3002</p>"},{"location":"signal/DFT/#overlap-save","title":"overlap-save","text":"<pre><code>h = [1 2 3];\nx = [1 2 2 1];\n%L+M-1=6\n%8p\nH = fft(h,8);\nX = fft(x,8);\ny = ifft(H.*X);\ny\n</code></pre> <pre><code>y = 1x8    \n1.0000    4.0000    9.0000   11.0000    8.0000    3.0000         0   -0.0000\n</code></pre> <pre><code>%6p\nH = fft(h,6);\nX = fft(x,6);\ny = ifft(H.*X);\ny\n</code></pre> <pre><code>y = 1x6    \n1.0000    4.0000    9.0000   11.0000    8.0000    3.0000\n</code></pre> <pre><code>%4p\nH = fft(h,4);\nX = fft(x,4);\ny = ifft(H.*X);\ny\n</code></pre> <pre><code>y = 1x4    \n     9     7     9    11\n</code></pre> <p>8p\u548c6p\u7684\u7ed3\u679c\u662f\u5b8c\u5168\u4e00\u81f4\u7684\uff0c\u8bf4\u660e\u8865\u96f6\u540efft\u53ef\u4ee5\u7528\u4e8e\u7ebf\u6027\u6ee4\u6ce2\u3002</p> <p>\u81f3\u4e8e4\u70b9fft\u5219\u51fa\u73b0\u4e86\u6df7\u53e0\uff1ax[4]\u53e0\u52a0\u5230x[0]\u4e0a\uff0cx[5]\u53e0\u52a0\u5230x[1]\u4e0a\u3002\u800c\u540e\u9762\u662f\u6b63\u786e\u7684\u3002</p> <p>\u5373\uff1a\u82e5\u8f93\u5165\u6570\u636e\u5757\u7684\u5927\u5c0f\u4e3aN\uff0c\u505aN\u70b9DFT\uff0c\u4e0eFIR\u957f\u5ea6\u4e3aM\u8fdb\u884c\u6ee4\u6ce2\uff0c\u90a3\u4e48\u8f93\u51fa\u7684\u524d\u9762M-1\u4e2a\u70b9\u4f1a\u51fa\u73b0\u6df7\u53e0\uff0c\u540e\u9762\u90fd\u6b63\u786e\u3002</p> <p>\uff08\u66f4\u52a0\u5e7f\u4e49\u7684\u662f\u505aN1\u70b9DFT\uff0c\u5219\u6709N+M-1-N1\u4e2a\u70b9\u51fa\u73b0\u6df7\u53e0\uff09</p> <p>\u6240\u4ee5overlap-save\u7684\u539f\u7406\u5c31\u662f\u5bf9N\u4e2a\u70b9\u505aDFT\uff0c\u820d\u5f03\u524d\u9762M-1\u4e2a\u70b9\uff0c\u4fdd\u7559\u540e\u9762\u7684L\u4e2a\u70b9\u3002\u5bf9\u6bcf\u4e00\u6bb5\u90fd\u8fd9\u6837\u3002</p>"},{"location":"signal/DFT/#overlap-add","title":"overlap-add","text":"<p>\u8f93\u5165padding\u51e0\u4e2a0\uff0c\u8f93\u51fa\u672b\u5c3e\u5c31\u6709\u51e0\u4e2a0</p> <pre><code>conv([1,2,0,0,0],[1,1,1])\n</code></pre> <pre><code>ans = 1x7    \n     1     3     3     2     0     0     0\n</code></pre> <p>\u5148padding 0\uff0c\u5230L+M-1\uff0c\u5f97\u5230\u7684\u8f93\u51fay\u4e5f\u662fL+M-1\uff0c\u6bcf\u4e00\u6bb5\u524d\u9762M-1\u4e2a\u70b9\u548c\u524d\u4e00\u6bb5\u540e\u9762M-1\u4e2a\u70b9\u76f8\u52a0\u5373\u53ef\u3002</p> <p>\u6559\u6750\u7684\u56fe\u5df2\u7ecf\u5f88\u5f62\u8c61\u3002</p>"},{"location":"signal/DFT/#ch10","title":"ch10","text":"<p>\u7b2c\u5341\u7ae0\u4e3b\u8981\u8bb2\u7a97\u51fd\u6570\uff0c\u548c\u524d\u9762\u7c7b\u4f3c\uff0c\u4f46\u662f\u66f4\u52a0\u8be6\u7ec6</p> <p>\u6ce8\u610f\uff1a\u6211\u4eec\u8003\u8651\u7684\u90fd\u662f\u7a97\u51fd\u6570\u5bf9\u65e0\u9650\u957f\u4fe1\u53f7\u5904\u7406\u540e\u9020\u6210\u7684\u5f71\u54cd\u3002</p>"},{"location":"signal/DFT/#example103","title":"example10.3","text":"<p>\u52a0\u7a97\u5bf9fourier\u5206\u6790\u7684\u5f71\u54cd</p> <p>\u91c7\u6837\u7387\u662f10kHz\uff0c\u77e9\u5f62\u7a97\u957f\u5ea6\u4e3a64\uff1b</p> <p>\u77e9\u5f62\u7a97\u5f62\u72b6\uff1a</p> <pre><code>w = ones(1,64);\nW = fftshift(fft(w,1024)); \n%fftshift\u4ee5\u539f\u70b9\u4e3a\u4e2d\u5fc3\u4e86\u5c31\nw = -pi:2*pi/1024:pi-2*pi/1024;\nplot(w,abs(W));\nxlim([-pi,pi])\n</code></pre> <p></p> <pre><code>fs = 10e3;\n%x[n] = x(nT) = x(n/fs)\nn=0:63;\nomega1 = 2/6*pi*fs;\nomega2 = 2/3*pi*fs;\ny = cos(omega1*n/fs) + 0.75*cos(omega2*n/fs);\nY = fftshift(fft(y,1024)); \n%\u77e9\u5f62\u7a97\u53ea\u670963\u4e2a\u70b9\uff0c\u8865\u5927\u91cf0\u53ef\u4ee5\u589e\u52a0\u66f4\u591a\u7ec6\u8282\u3002\nw = -pi:2*pi/1024:pi-2*pi/1024;\nplot(w,abs(Y))\nxlim([-pi,pi])\n</code></pre> <p></p> <pre><code>omega1 = 2/14*pi*fs;\nomega2 = 4/15*pi*fs;\ny = cos(omega1*n/fs) + 0.75*cos(omega2*n/fs);\nY = fftshift(fft(y,1024)); \nw = -pi:2*pi/1024:pi-2*pi/1024;\nplot(w,abs(Y))\nxlim([-pi,pi])\n</code></pre> <p></p> <pre><code>omega1 = 2/12*pi*fs;\nomega2 = 2/14*pi*fs;\ny = cos(omega1*n/fs) + 0.75*cos(omega2*n/fs);\nY = fftshift(fft(y,1024)); \nw = -pi:2*pi/1024:pi-2*pi/1024;\nplot(w,abs(Y))\nxlim([-pi,pi])\n</code></pre> <p></p> <p>\u4e0a\u56fe\u4e2d\u6b64\u65f6\u9891\u7387\u6cc4\u9732\u6700\u4e3a\u660e\u663e\uff0c\u4e24\u4e2a\u5cf0\u7684\u5cf0\u503c\u90fd\u53d7\u5230\u5bf9\u65b9\u7684\u5f71\u54cd\uff0c\u8fdc\u8fdc\u5c0f\u4e8e32\u548c24\u4e86\uff0c\u53ea\u662f\u52c9\u5f3a\u53ef\u4ee5\u5206\u8fa8</p> <pre><code>omega1 = 2/15*pi*fs;\nomega2 = 2/14*pi*fs;\ny = cos(omega1*n/fs) + 0.75*cos(omega2*n/fs);\nY = fftshift(fft(y,1024)); \nw = -pi:2*pi/1024:pi-2*pi/1024;\nplot(w,abs(Y))\nxlim([-pi,pi])\n</code></pre> <p></p> <p>\u957f\u5ea6L\u662f64\u6240\u4ee5\u5206\u8fa8\u7387\u662f2pi/64. 2pi/15-2pi/14&lt;&lt;2pi/64\u4e86\u6240\u4ee5\u5f53\u7136\u4e0d\u80fd\u5206\u8fa8\u3002</p>"},{"location":"signal/DFT/#kaiser-window","title":"kaiser window","text":"<p>\u4e66\u672c\u540e\u9762\u7684\u4f8b\u5b50\u4f1a\u7528\u5230\u5f88\u591akaiser\u7a97\u3002</p> <p>\u5f97\u76ca\u4e8eMATLAB\u51fd\u6570\u6211\u4eec\u76f4\u63a5\u8c03\u7528\u5373\u53ef\u3002</p> <pre><code>w = kaiser(20,3); \n%200points and beta=3 kaiser window.\nW = mag2db(abs(fft(w,4096)));\nf = 0:2/4096:2-2/4096;\nplot(f,W)\nxlim([0,1])\nxlabel(\"normed freq *\\pi rad/sample\")\ntitle(\"freq domain\")\n</code></pre> <p></p> <pre><code>plot(w)\ntitle(\"time domain\")\n</code></pre> <p></p> <p>\u7ed8\u5236\u4e0d\u540c\u7684Kaiser\u7a97\uff0c\u6211\u4eec\u53ef\u4ee5\u6bd4\u8f83\u4e00\u4e0b\u7a97\u51fd\u6570\u7684\u6027\u8d28\uff1a</p> <p>\u4e3b\u74e3\u5bbd\u5ea6\u548c\u7a97\u7684\u957f\u5ea6\u6210\u53cd\u6bd4\uff0c\u76f8\u5bf9\u65c1\u74e3\u9ad8\u5ea6\u548c\u7a97\u7684\u957f\u5ea6\u5173\u7cfb\u4e0d\u5927\u3002</p>"},{"location":"signal/DFT/#10678","title":"\u4f8b10.6,7,8","text":"<p>\u7528Kaiser\u7a97\u5bf9\u6b63\u5f26\u4fe1\u53f7DFT\u5206\u6790</p> <pre><code>omega1 = 2*pi/14;\nomega2 = 4*pi/15;\n%L=64, beta=5.48\nw = kaiser(64,5.48);\nn=0:63;\nx = cos(omega1*n)+0.75*cos(omega2*n);\nv = w' .* x;\nX = fftshift(fft(x,1024));\nV = fftshift(fft(v,1024));\nf = -pi:2*pi/1024:pi-2*pi/1024;\nplot(f,abs(X))\ntitle(\"64 points square window\")\n</code></pre> <p></p> <pre><code>plot(f,abs(V))\ntitle(\"64 points kaiser window\")\n</code></pre> <p></p> <pre><code>n1=0:31;\nw1 = kaiser(32,5.48);\nx1 = cos(omega1*n1)+0.75*cos(omega2*n1);\nv1 = w1' .* x1;\nV1 = fftshift(fft(v1,1024));\nf1 = -pi:2*pi/1024:pi-2*pi/1024;\nplot(f1,abs(V1))\ntitle(\"32 points kaiser window\")\n</code></pre> <p></p> <p>\u770b\u4e0a\u97623\u5f20\u56fe\u7247\uff0c\u4f60\u5c31\u77e5\u9053\u4e3a\u4ec0\u4e48\u8bf4\u8865\u96f6\u4e0d\u80fd\u63d0\u9ad8\u5206\u8fa8\u7387\u4e86\uff08PS\uff0c\u8fd9\u4e2a\u5206\u8fa8\u7387\u662f\u6307the ability to resolve close frequencies, \u5206\u8fa8\u4e0d\u540c\u9891\u7387\u7684\u80fd\u529b\uff09\u3002\u8865\u96f6\u589e\u52a0\u7684\u80fd\u529b\u662f\u9891\u57df\u4e0a\u7684\u6e05\u6670\u5ea6\uff0c\u5373\u5728\u5df2\u7ecf\u6709\u7684DTFT\u4e0a\u91c7\u6837\u66f4\u591a\u7684\u6837\u672c\u3002\u800cDTFT\u7684\u5f62\u72b6\uff08\u5373\u5206\u8fa8\u4e0d\u540c\u9891\u7387\u80fd\u529b\u7684\u672c\u8d28\uff09\u662f\u7531\u4fe1\u53f7\u548c\u7a97\u51fd\u6570\u7684\u957f\u5ea6\u548c\u5f62\u72b6\u51b3\u5b9a\u7684\u3002</p> <p>\u6211\u4eec\u7528\u7a97\u51fd\u6570\u662f\u622a\u53d6\u65e0\u9650\u957f\u7684\u4fe1\u53f7\uff0c\u624d\u6709\u8fd9\u79cd\u771f\u4e0d\u771f\u5b9e\u7684\u95ee\u9898\uff1b\u6709\u9650\u957f\u7684\u4fe1\u53f7\u672c\u8eab\u5982\u6b64\uff0c\u5c31\u6ca1\u6709\u8fd9\u79cd\u95ee\u9898\u4e86\u3002</p> <p>\u7a97\u51fd\u6570\u7684\u957f\u5ea6\u5f62\u72b6\u548c\u5206\u8fa8\u80fd\u529b\u7684\u5173\u7cfb:</p> <p>\u826f\u597d\u7684\u5f62\u72b6\u53ef\u4ee5\u51cf\u5c11\u76f8\u5bf9\u65c1\u74e3\u9ad8\u5ea6\uff0c\u51cf\u5c11\u9891\u7387\u6cc4\u9732\u3002</p> <p>\u800c\u7a97\u51fd\u6570\u7684\u957f\u5ea6\u8d8a\u957f\uff0c\u4e3b\u74e3\u5bbd\u5ea6\u5c31\u8d8a\u5c0f\uff0c\u5206\u8fa8\u80fd\u529b\u8d8a\u5f3a\u3002\u53cd\u8fc7\u6765\uff0c\u7a97\u51fd\u6570\u8d8a\u77ed\uff0c\u6570\u636eDFT\u5c31\u8d8a\u5bb9\u6613\u53cd\u6620\u51fa\u7a97\u51fd\u6570\u7684\u9891\u8c31\uff0c\u79bb\u6211\u4eec\u60f3\u8981\u7684\u5c31\u8d8a\u8fdc\u3002</p> <p>\u4e0b\u9762\u770b\u4e00\u4e0b\u8fd9\u9053\u9898\uff1a</p>"},{"location":"signal/DFT/#proakis-e741","title":"proakis e7.4.1","text":"<pre><code>%\u6a21\u62df\u4fe1\u53f7e^(-t)\u7684\u9891\u8c31\nomega = -20:0.1:20;\nX = 1./(1+1i*2*pi*omega);\nplot(omega, abs(X));\ntitle(\"original freq\")\n</code></pre> <pre><code>%\u7a97\u662f100 points\u65f6\u7684\u9891\u57df\nn=0:1:99;\nx=power(0.95,n);\nX1=fftshift(fft(x, 200));\nplot(abs(X1))\ntitle(\"100 points window\")\n</code></pre> <pre><code>%\u7a97\u662f20 points\u65f6\u7684\u9891\u57df\nn=0:1:19;\nx=power(0.95,n);\nX2=fftshift(fft(x,200));\nplot(abs(X2));\ntitle(\"20 points window\")\n</code></pre> <pre><code>N = fftshift(fft(ones(1,20),200));\nplot(abs(N))\ntitle(\"20 points square window function\")\n</code></pre> <pre><code>%\u5728\u53ea\u670920\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u5bbd\u9891\u8c31\u77e9\u5f62\u7a97\u51fd\u6570\u7684\u6548\u679c\u5c31\u663e\u73b0\u51fa\u6765\u4e86\u3002\n%\u6bd4\u5982\u4e3b\u5cf0\u548c\u65c1\u74e3\uff0c\u4fe1\u53f7\u4e5f\u6cc4\u9732\u4e0d\u5c11\n% \u4fe1\u53f7\u70b9\u6570\u8d8a\u5c11 \u7a97\u51fd\u6570\u5c31\u8d8a\u660e\u663e\u3002\n%\u8fd9\u9053\u9898\u4e5f\u53ef\u4ee5\u8bf4\u660eDFT\u8865\u96f6\u7eaf\u7cb9\u662f\u4e3a\u4e86\u589e\u52a0\u6e05\u6670\u5ea6\uff0c\n% \u548c\u771f\u5b9e\u60c5\u51b5\u6ca1\u6709\u534a\u6bdb\u94b1\u5173\u7cfb\nN1 = fftshift(fft(ones(1,1000),2048));\nplot(abs(N1))\nxlim([0,2000])\ntitle(\"1000 points square window function\")\n</code></pre> <pre><code>%1000\u4e2a\u70b9\u65f6\uff0c\u4fe1\u53f7\u80fd\u91cf\u5df2\u7ecf\u5f88\u96c6\u4e2d\u4e86\uff0c\u8fd1\u4f3c\u4e8e\u51b2\u6fc0\u51fd\u6570\u3002\n%\u65f6\u57df\u4e58\u79ef\u7b49\u4e8e\u9891\u57df\u5377\u79ef\u3002\u800c\u51fd\u6570\u4e0e\u51b2\u6fc0\u51fd\u6570\u5377\u79ef\u7b49\u4e8e\u51fd\u6570\u672c\u8eab\u3002\n%\u6240\u4ee5\u7a97\u8d8a\u957f\uff0c\u8d8a\u80fd\u53cd\u5e94\u4fe1\u53f7\u771f\u5b9e\u60c5\u51b5\n</code></pre>"},{"location":"signal/ch6_ss/","title":"LTI \u7cfb\u7edf\u9891\u57df\u5206\u6790","text":""},{"location":"signal/ch6_ss/#_1","title":"\u76f8\u4f4d","text":"<p>\u6211\u4eec\u8003\u8651\u9891\u7387\u54cd\u5e94\u4e3a \\(H\\left(e^{j\\omega \\;} \\right)=e^{-j\\omega t_0 }\\) </p> <p>\u5b83\u7684\u589e\u76ca\u4e0d\u5fc5\u8bf4, \u662f\u5355\u4f4d\u589e\u76ca. \u540c\u65f6\u5b83\u6709\u7740\u7ebf\u6027\u76f8\u4f4d, \u5373</p> \\[   |H\\left(j\\omega \\right)=1|,\\angle H\\left(j\\omega \\right)=\\omega t_0  \\] <p>\u6211\u4eec\u5f53\u7136\u77e5\u9053, \u8fd9\u79cd\u9891\u7387\u54cd\u5e94\u4ea7\u751f\u7684\u8f93\u51fa\u5c31\u662f\u8f93\u5165\u7684\u65f6\u95f4\u79fb\u4f4d, \u5373</p> \\[   y\\left(t\\right)=x\\left(t-t_0 \\right)  \\] <p>\u5bf9\u79bb\u6563\u4fe1\u53f7\u6765\u8bf4, \u5f53\u79fb\u4f4d\u7684 \\(n_0\\) \u662f\u6574\u6570\u65f6, \\(y\\left\\lbrack n\\right\\rbrack =x\\left\\lbrack n-n_0 \\right\\rbrack\\) . \u5426\u5219\u5c31\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\u4e86, \u53ef\u89c1  dsp \u4e2d problem4.7, \u662f\u5305\u7edc\u7684\u65f6\u95f4\u79fb\u4f4d,  \u4e00\u4e2a sinc \u51fd\u6570.</p> <p>\u6709\u4e9b\u7cfb\u7edf\u867d\u7136\u6709\u7740\u5355\u4f4d\u589e\u76ca, \u4f46\u662f\u662f\u975e\u7ebf\u6027\u76f8\u4f4d, \u6b64\u65f6\u4fe1\u53f7\u5c31\u4f1a\u4ea7\u751f\u5f88\u5927\u7684\u53d8\u5316. \u5f53\u7136, \u5bf9\u8fd9\u79cd\u6709\u5355\u4f4d\u589e\u76ca\u7684\u7cfb\u7edf, \u6211\u4eec\u79f0\u4e4b\u4e3a\u5168\u901a\u7cfb\u7edf. \u5b83\u7684\u5e45\u9891\u7279\u6027\u5b8c\u5168\u7531\u76f8\u4f4d\u7279\u6027\u51b3\u5b9a.</p>"},{"location":"signal/ch6_ss/#_2","title":"\u7fa4\u65f6\u5ef6","text":"<p>\u524d\u9762\u8bf4\u5230, \u5bf9\u4e8e\u7ebf\u6027\u76f8\u4f4d\u7cfb\u7edf\u6765\u8bf4, \u76f8\u4f4d\u7279\u6027\u7684\u659c\u7387\u5c31\u662f\u65f6\u79fb\u7684\u5927\u5c0f. \u90a3\u4e48\u5bf9\u4e8e\u975e\u7ebf\u6027\u76f8\u4f4d\u7cfb\u7edf\u6765\u8bf4, \u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u4f3c\u7684\u7fa4\u65f6\u5ef6, \u7b49\u4e8e\u90a3\u4e2a\u9891\u7387\u4e0a\u76f8\u4f4d\u7279\u6027\u659c\u7387\u7684\u8d1f\u6570, \u8868\u793a\u4e0d\u540c\u9891\u7387\u7684\u76f8\u4f4d\u7684\u65f6\u95f4\u79fb\u4f4d.</p> \\[   \\tau \\left(\\omega \\right)=-\\frac{\\mathrm{d}}{\\mathrm{d}\\omega }\\left\\lbrace \\angle H\\left(j\\omega \\right)\\right\\rbrace  \\]"},{"location":"signal/ch6_ss/#example-61","title":"example 6.1","text":"<p>\u8003\u8651\u4e0b\u9762\u7684\u9891\u7387\u54cd\u5e94 \\(H\\left(j\\omega \\right)\\) </p> \\[   H\\left(j\\omega \\right)=\\prod_{i=1}^3 H_i \\left(j\\omega \\right)  \\] <p>\u5176\u4e2d</p> \\[   H_{i\\;} \\left(j\\omega \\right)=\\frac{1+{\\left(j\\frac{\\omega }{\\omega_i }\\right)}^2 -2j\\xi_i \\left(\\frac{\\omega }{\\omega_i }\\right)}{1+{\\left(j\\frac{\\omega }{\\omega_i }\\right)}^2 +2j\\xi_i \\left(\\frac{\\omega }{\\omega_i }\\right)}  \\] \\[   \\left\\lbrace \\begin{array}{lll} \\omega_1 =315\\;{\\mathrm{r}\\mathrm{a}\\mathrm{d}}/{\\mathrm{s}}, &amp; \\xi_1 =0\\ldotp 066\\\\ \\omega_2 =943\\;{\\mathrm{r}\\mathrm{a}\\mathrm{d}}/{\\mathrm{s}}, &amp; \\xi_2 =0\\ldotp 033\\\\ \\omega_3 =1888\\;{\\mathrm{r}\\mathrm{a}\\mathrm{d}}/{\\mathrm{s}}, &amp; \\xi_3 =0\\ldotp 058 \\end{array}\\right.  \\] <p>\u5b9e\u9645\u4e0a\u4e0a\u9762\u7684\u4e09\u4e2a\u89d2\u901f\u5ea6\u5206\u522b\u5bf9\u4e8e 50 Hz, 150 Hz, 300 Hz \u7684\u9891\u7387.</p> <p>\u5b83\u662f\u4e00\u4e2a\u5168\u901a\u7cfb\u7edf, \u6211\u4eec\u4e0d\u59a8\u770b\u4e00\u4e0b\u5b83\u7684\u76f8\u4f4d\u7279\u6027. </p> <pre><code>w1 = 315; w2 = 943; w3 = 1888;\nxi1 = 0.066; xi2 = 0.033; xi3 = 0.058;\nw = 0:0.01:3000;\nH1 = (1+(1j*w/w1).^2-2*1j*xi1*(w/w1))./((1+(1j*w/w1).^2+2*1j*xi1*(w/w1)));\nH2 = (1+(1j*w/w2).^2-2*1j*xi2*(w/w2))./((1+(1j*w/w2).^2+2*1j*xi2*(w/w2)));\nH3 = (1+(1j*w/w3).^2-2*1j*xi3*(w/w3))./((1+(1j*w/w3).^2+2*1j*xi3*(w/w3)));\nH = H1.*H2.*H3;\nangle_H = angle(H);\nplot(w./(2*pi), angle_H);\nxlim([0,400]);\nxlabel(\"frequency/Hz\")\nylabel(\"phase(rad/s)\")\n</code></pre> <p></p> <p>\u53ef\u4ee5\u7528 unwrap \u51fd\u6570\u5e73\u79fb \\(2k\\pi\\) \u4e2a\u76f8\u4f4d\u4f7f\u5f97\u76f8\u4f4d\u8fde\u7eed:</p> <pre><code>u_angle_H = unwrap(angle_H);\nplot(w./(2*pi), u_angle_H);\nxlim([0,400]);\nxlabel(\"frequency/Hz\")\nylabel(\"phase(rad/s)\")\n</code></pre> <p></p> <p>\u6c42\u7fa4\u65f6\u5ef6:</p> <pre><code>tau = [-diff(unwrap(angle_H)), 0];\nplot(w./(2*pi), tau);\nxlim([0,400]);\nxlabel(\"frequency/Hz\")\nylabel(\"group delay/s\")\n</code></pre> <p></p> <p>\u8f93\u5165\u4e2d\u7684\u4e0d\u540c\u9891\u7387\u88ab\u5ef6\u65f6\u4e86\u4e0d\u540c\u7684\u91cf, \u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u5f25\u6563 (dispersion) . \u8fd9\u4e2a\u4f8b\u5b50\u4e2d, \u7fa4\u65f6\u5ef6\u5728 50 Hz \u5904\u6700\u5927, \u6240\u4ee5\u5355\u4f4d\u51b2\u6fc0\u54cd\u5e94\u7684\u540e\u9762\u90e8\u5206\u4f1a\u5728\u63a5\u8fd1 50 Hz \u7684\u8f83\u4f4e\u9891\u7387\u4e0a\u632f\u8361:</p> <pre><code>h = ifft(H);\n% ps \u540e\u9762\u57fa\u672c\u4e0a\u90fd\u662f0, \u6ca1\u6709\u5fc5\u8981\u753b\u4e86, \u53ea\u622a\u53d6\u524d\u9762\u90e8\u5206\u5373\u53ef.\n% ifft \u53d8\u6362\u56de\u53bb\u540e, \u600e\u4e48\u786e\u5b9a\u65f6\u95f4? \nh1 = h(1:100);\nplot(real(h1)); \n</code></pre> <p></p>"},{"location":"signal/ch6_ss/#_3","title":"\u5bf9\u6570\u6a21\u548c\u76f8\u4f4d\u56fe","text":"<p>\u5728\u5bf9\u6570\u6807\u5c3a\u4e0a, \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u963b\u5e26\u7684\u6a21\u7279\u6027\u7ec6\u8282.</p> <p>\u4f2f\u5fb7\u56fe:  \\(20\\log_{10} |H\\left(j\\omega \\right)|\\) \u548c \\(\\angle H\\left(j\\omega \\right)\\) \u5bf9\u4e8e \\(\\log_{10\\;} \\left(\\omega \\right)\\) \u7684\u56fe\u79f0\u4e3a Bode \u56fe.</p> <p>matlab \u53ef\u4ee5\u5f88\u8f7b\u677e\u5730\u753b\u51fa\u4f2f\u5fb7\u56fe:</p> <pre>\nbode(sys1,sys2,...,sysN)\n</pre> <p>\u4e3e\u4e2a\u4f8b\u5b50:</p> \\[  H\\left(j\\omega \\right)=\\frac{100\\left(1+j\\omega \\right)}{\\left(10+j\\omega \\right)\\left(100+j\\omega \\right)}  \\] <p>\u5c06\u4e4b\u5199\u6210\u591a\u4e2a\u7cfb\u7edf\u76f8\u4e58\u7684\u5f62\u5f0f, \u5f88\u5bb9\u6613\u8bc1\u660e\u6700\u540e\u7684\u4f2f\u5fb7\u56fe\u662f\u5404\u4e2a\u4f2f\u5fb7\u56fe\u7684\u76f8\u52a0.</p> \\[  H\\left(j\\omega \\right)=\\left(\\frac{1}{10}\\right)\\left(\\frac{1}{1+j\\frac{\\omega }{10}}\\right)\\left(\\frac{1}{1+j\\frac{\\omega }{100}}\\right)\\left(1+j\\omega \\right)  \\] <pre><code>H1 = tf([0.1,], [0.1, 1]);\nH2 = tf([1,], [0.01, 1]);\nH3 = tf([1,1], [1,]);\nH = H1*H2*H3\n</code></pre> <pre><code>H =\n\n       0.1 s + 0.1\n  ----------------------\n  0.001 s^2 + 0.11 s + 1\n\n\u8fde\u7eed\u65f6\u95f4\u4f20\u9012\u51fd\u6570\u3002\n\u6a21\u578b\u5c5e\u6027\n</code></pre> <pre><code>bode(H)\n</code></pre> <p></p>"},{"location":"signal/ch6_ss/#_4","title":"\u4e8c\u9636\u7535\u8def","text":"<p>\u518d\u4e3e\u4e00\u4e2a\u4e8c\u9636\u7535\u8def\u7684\u4f8b\u5b50:</p> \\[  H\\left(j\\omega \\right)=\\frac{1}{{\\left(j\\frac{\\omega }{\\omega_n }\\right)}^2 +2\\xi \\left(j\\frac{\\omega }{\\omega_n }\\right)+1}  \\] <p>\u4e0b\u9762\u53d6 \\(\\omega =200\\pi \\;{\\mathrm{s}}^{-1} ,\\xi =0\\ldotp 1,0\\ldotp 2,0\\ldotp 4,0\\ldotp 7,1,1\\ldotp 5\\) \u505a\u4f2f\u5fb7\u56fe</p> <pre><code>w1 = 200;\nxi1 = 0.1; xi2 = 0.2; xi3 = 0.4; xi4 = 0.7; xi5 = 1; xi6 = 1.5;\nH1 = tf(1, [1,2*xi1,1]);\nH2 = tf(1, [1,2*xi2,1]);\nH3 = tf(1, [1,2*xi3,1]);\nH4 = tf(1, [1,2*xi4,1]);\nH5 = tf(1, [1,2*xi5,1]);\nH6 = tf(1, [1,2*xi6,1]);\n\nbode(H1,H2,H3,H4,H5,H6);\nlegend(\"\\xi_1 = 0.1\",\"\\xi_2 = 0.2\",\"\\xi_3 = 0.4\",\"\\xi_4 = 0.7\",\"\\xi_5 = 1\", \"\\xi_6 = 1.5\")\n</code></pre> <p></p> <p>\u7528 freqresp \u51fd\u6570\u53ef\u4ee5\u5f97\u5230 tf \u51fd\u6570\u7684\u9891\u7387\u54cd\u5e94.</p> <pre><code>% \u8bbe\u7f6e\u9891\u7387\u8303\u56f4\nfrequencies = logspace(-3, 1, 1000);  % \u751f\u6210\u5bf9\u6570\u5747\u5300\u5206\u5e03\u7684\u9891\u7387\u70b9 10^-3\u523010^1\n\n% \u8ba1\u7b97\u9891\u7387\u54cd\u5e94\nresp1 = freqresp(H1, frequencies);\nresp2 = freqresp(H2, frequencies);\nresp3 = freqresp(H3, frequencies);\nresp4 = freqresp(H4, frequencies);\nresp5 = freqresp(H5, frequencies);\nresp6 = freqresp(H6, frequencies);\n% \u7ed8\u5236\u9891\u7387\u54cd\u5e94\u66f2\u7ebf\nfigure;\nhold on;\n%squeeze\u5220\u9664\u957f\u5ea6\u662f1\u7684\u7ef4\u5ea6\nsemilogx(frequencies, abs(squeeze(resp1))); \nsemilogx(frequencies, abs(squeeze(resp2))); \nsemilogx(frequencies, abs(squeeze(resp3))); \nsemilogx(frequencies, abs(squeeze(resp4))); \nsemilogx(frequencies, abs(squeeze(resp5))); \nsemilogx(frequencies, abs(squeeze(resp6))); \ngrid on;\nxlabel('Frequency');\nylabel('Magnitude');\ntitle('Frequency Response');\nlegend(\"\\xi_1 = 0.1\",\"\\xi_2 = 0.2\",\"\\xi_3 = 0.4\",\"\\xi_4 = 0.7\",\"\\xi_5 = 1\", \"\\xi_6 = 1.5\")\nxlim([0,4])\nhold off\n</code></pre> <p></p>"},{"location":"signal/onesidez/","title":"z \u53d8\u6362","text":"<p>\u672a\u6765\u5982\u679c\u9700\u8981\u4ece matlab \u7684 mlx \u6587\u4ef6\u5bfc\u51fa markdown \u6587\u4ef6\u7684\u8bdd\uff0c\u7528\u4e0b\u9762\u7684\u6307\u4ee4\u5373\u53ef\u3002<code>EmbedImages</code> \u9009\u9879\u5173\u95ed\u53ef\u4ee5\u8ba9\u6211\u4eec\u4ee5\u8d85\u94fe\u63a5\u7684\u5f62\u5f0f\u63d2\u5165\u56fe\u7247\u3002\u66f4\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c<code>doc export</code> \u5373\u53ef\u3002</p> <pre><code>mdfile = export(\"myscript.mlx\",Format=\"markdown\",EmbedImages=false)\n</code></pre>"},{"location":"signal/onesidez/#z_1","title":"z \u53d8\u6362\u7684\u8ba8\u8bba","text":"<p>z \u53d8\u6362\u7684\u5b9a\u4e49\u662f</p> \\[ X(z) = \\sum_{n=-\\infty}^{\\infty}x[n]z^{-n} \\] <p>\u6211\u4eec\u5148\u4e0d\u5fc5\u8003\u8651\u592a\u591a\u8fd9\u4e2a\u5f0f\u5b50\u7684\u610f\u4e49\uff0c\u53ea\u662f\u4ece\u6570\u5b66\u7684\u89d2\u5ea6\u628a\u5b83\u770b\u6210\u4e00\u79cd\u5bf9\u4fe1\u53f7\u7684\u66ff\u4ee3\u8868\u793a\uff0c\u5bf9\u6bcf\u4e00\u4e2a n \u4e58\u4ee5\u4e00\u4e2a\u5e42\u6307\u6570\u7cfb\u6570\u540e\u518d\u8fdb\u884c\u53e0\u52a0\u3002\u8fd9\u79cd\u770b\u6cd5\u867d\u7136\u7b80\u5355\uff0c\u4f46\u662f\u662f\u5341\u5206\u6709\u7528\u7684\u3002\u5bf9\u4e8e\u4e00\u79cd\u7ed9\u5b9a\u7684 z \u53d8\u6362\uff0c\\(z^{-n}\\) \u7684\u7cfb\u6570\u662f\u4fe1\u53f7\u5728\u65f6\u95f4 n \u7684\u503c\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u4fe1\u53f7\uff0c\u5b83\u53ef\u4ee5\u8ddf\u4e00\u4e2a z \u53d8\u6362\u53ca\u5176\u6536\u655b\u57df\u4e00\u4e00\u5bf9\u5e94\u3002</p> <p>\u7136\u540e\u6211\u4eec\u5c31\u6765\u770b\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u5728\u975e\u5f1b\u8c6b\u6761\u4ef6\u4e0b\uff0c\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528\u53cc\u8fb9 z \u53d8\u6362\u6765\u6c42\u89e3\u5dee\u5206\u65b9\u7a0b\u5462\uff1f</p> <p>\u5c31\u62ff\u8fd9\u6837\u7684\u4e00\u4e2a\u5f88\u591a\u6559\u79d1\u4e66\u91cc\u90fd\u6709\u7684\u5dee\u5206\u65b9\u7a0b\u4e3a\u4f8b\u5b50\uff08\u5982\u5965\u672c\u54c8\u59c6\u300a\u79bb\u6563\u65f6\u95f4\u4fe1\u53f7\u5904\u7406\u300be3.23\uff09\uff1a</p> \\[ y[n]-ay[n-1]=x[n], x[n]=Au[n], y[-1] \\neq 0 \\] <p>\u6ce8\u610f\u5f1b\u8c6b\u6761\u4ef6\uff0c\u5373 IAR(initial at rest) \u7684\u610f\u601d\u662f\u5f53\u8f93\u5165 \\(x[n]=0\\) \u65f6\uff0c\u8f93\u51fa \\(y[n]=0\\)\u3002\u800c\u8fd9\u91cc\u6709\u521d\u59cb\u8f93\u51fa\uff0c\u662f\u4e0d\u6ee1\u8db3\u7684\u3002\u8fd9\u4f1a\u5bfc\u81f4\u4ec0\u4e48\u540e\u679c\u5462\uff1f\u76f4\u89c2\u7684\u540e\u679c\u5c31\u662f\uff0c\u4e0a\u9762\u8fd9\u4e2a\u5dee\u5206\u65b9\u7a0b\u7684\u7b49\u53f7\u53ea\u6709\u5728 \\(n \\geq 0\\) \u65f6\u624d\u6210\u7acb\uff0c\u800c\u82e5\u6ca1\u6709 \\(y[-1]\\neq 0\\) \u8fd9\u4e2a\u6761\u4ef6\u5219\u5bf9 \\((-\\infty,+\\infty)\\) \u90fd\u6210\u7acb\u3002</p> <p>\u597d\uff0c\u6211\u4eec\u89e3\u8fd9\u4e2a\u65b9\u7a0b\uff0c\u6709\u7684\u65f6\u5019\u60f3\u4e5f\u4e0d\u60f3\u5c31\u5957\u516c\u5f0f\u4e86\uff0c\u5bf9\u4e24\u8fb9\u505a z \u53d8\u6362\uff0c\u5f97\u5230</p> \\[ Y(z)-az^{-1}Y(z) = X(z) \\] <p>\u4e0a\u9762\u8fd9\u4e00\u6b65\u7684\u95ee\u9898\u51fa\u5728\u54ea\u91cc\u5462\uff1f\u628a\u5177\u4f53\u7684\u8fc7\u7a0b\u5c55\u5f00\u662f\uff1a</p> \\[ \\sum_{n=-\\infty}^{\\infty}y[n]z^{-n}-a\\sum_{n=-\\infty}^{\\infty}y[n-1]z^{-n}=\\sum_{n=-\\infty}^{\\infty}x[n]z^{-n} \\] <p>\u60f3\u4e00\u60f3\uff0c\u8fd9\u4e2a\u7b49\u5f0f\u6210\u7acb\u5417\uff1f\u662f\u4e0d\u6210\u7acb\u7684\uff01\u56e0\u4e3a\u5f53 \\(n\\leq-1\\) \u65f6\uff0c\u5dee\u5206\u65b9\u7a0b\u7684\u7b49\u53f7\u5c31\u4e0d\u6210\u7acb\u4e86\u3002\u6bd4\u5982\u8bf4\uff0c\\(y[-2]-ay[-3]=x[-2]\\) \u5c31\u4e0d\u6210\u7acb\u3002z \u53d8\u6362\u672c\u8d28\u4e0a\u662f\u5bf9\u6bcf\u4e00\u4e2a n \u4e58\u4ee5\u4e00\u4e2a\u5e42\u6307\u6570\u7cfb\u6570\u540e\u518d\u8fdb\u884c\u53e0\u52a0\u3002\u800c\u539f\u672c\u5355\u4e2a\u5f0f\u5b50\u7684\u7b49\u53f7\u5c31\u4e0d\u6210\u7acb\uff0c\u5bf9\u5f0f\u5b50\u8fdb\u884c\u53e0\u52a0\u4ee5\u540e\uff0c\u7b49\u53f7\u5f53\u7136\u5c31\u4e0d\u6210\u7acb\u4e86\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u6539\u8fdb\u4e00\u4e0b\u4fe1\u53f7\u7684\u8868\u793a\u65b9\u5f0f\uff0c\u5373\u91c7\u7528\u5355\u8fb9 z \u53d8\u6362\u3002\u5355\u8fb9 z \u53d8\u6362\u7684\u516c\u5f0f\u662f\uff1a</p> \\[ X(z) = \\sum_{n=0}^{\\infty}x[n]z^{-n} \\] <p>\u8fd9\u6b21\u6211\u4eec\u7528\u5355\u8fb9 z \u53d8\u6362\u6765\u8fdb\u884c\u5e26\u5165\uff1a</p> \\[ \\sum_{n=0}^{\\infty}y[n]z^{-n}-a\\sum_{n=0}^{\\infty}y[n-1]z^{-n}=\\sum_{n=0}^{\\infty}x[n]z^{-n} \\] <p>\u8fd9\u6b21\u7b49\u53f7\u5c31\u90fd\u6210\u7acb\u4e86\u3002\u7b80\u5316\u4e3a\uff1a</p> \\[ Y(z) - az^{-1}Y(z) - ay[-1] = X(z) \\] <p>\u540e\u9762\u662f\u5e38\u89c4\u7684\u505a\u6cd5\u5c31\u4e0d\u591a\u8bf4\u4e86\u3002\u524d\u9762\u8bf4\u5230 z \u53d8\u6362\u548c\u4fe1\u53f7\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb\uff0c\u6240\u4ee5\u8fd9\u91cc\u6c42\u89e3\u4e0b\u53bb\u5f97\u5230 \\(Y(z)\\) \u7684\u8868\u8fbe\u5f0f\u4ee5\u540e\u81ea\u7136\u5c31\u4f1a\u5f97\u5230 \\(y[n]\\) \u7684\u8868\u8fbe\u5f0f\uff0c\u5bf9\u5355\u8fb9 z \u53d8\u6362\u4e5f\u4e00\u6837\u3002</p> <p>\u6700\u540e\u5f97\u5230\u89e3\u7684\u8868\u8fbe\u5f0f\u662f\uff1a</p> \\[ y[n]=a^{n+1}y[-1]+\\sum_{k=0}^{n}a^kx[n-k] \\] <p>\u7b80\u5355\u5206\u6790\u4e00\u4e0b\uff0c\u7531\u4e8e\u521d\u59cb\u6761\u4ef6\u7684\u5b58\u5728\uff0c\u8fd9\u4e2a\u7ebf\u6027\u5e38\u7cfb\u6570\u5dee\u5206\u65b9\u7a0b\u7684\u89e3\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff0c\\(y_{zi}[n]=a^{n+1}y[-1]\\) \u662f\u7cfb\u7edf\u7684\u96f6\u8f93\u5165\u54cd\u5e94\uff0c\u53ea\u548c\u521d\u59cb\u6761\u4ef6\u6709\u5173\uff0c\u5e76\u4e14\u8870\u51cf\u3002\\(y_{zs}[n]=\\sum_{k=0}^{n}a^kx[n-k]\\) \u662f\u96f6\u72b6\u6001\u54cd\u5e94\uff0c\u5b83\u662f\u7ebf\u6027\u7684\u8f93\u51fa\u3002\u5728\u5f1b\u8c6b\u6761\u4ef6\u4e0b\uff0c\u7cfb\u7edf\u7684\u8f93\u51fa\u5c06\u53ea\u5305\u542b\u540e\u4e00\u90e8\u5206 \\(y_{zs}[n]\\)\uff0c\u6b64\u65f6\u7cfb\u7edf\u5c31\u662f\u7ebf\u6027\u65f6\u4e0d\u53d8\u7684 IIR \u7cfb\u7edf\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5f1b\u8c6b\u6761\u4ef6\u4e0b\uff0c\u7ebf\u6027\u5e38\u7cfb\u6570\u5dee\u5206\u65b9\u7a0b\u63cf\u7ed8\u7684\u7cfb\u7edf\u90fd\u662f\u7ebf\u6027\u65f6\u4e0d\u53d8\u7684\u3002</p> <p>\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c\u4e24\u672c\u6559\u6750\u8bf4\u7684\u4e0d\u7b26\u5408\uff0c\u5728\u6709\u521d\u59cb\u6761\u4ef6\u4e0b\uff0c\u7cfb\u7edf\u662f\u5426\u662f LTI \u7684\u5462\uff1f</p> <p>\u6211\u7684\u5206\u6790\u662f\u5bf9\u7684\uff0c\u5728\u6709\u521d\u59cb\u6761\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0c\u7cfb\u7edf\u662f\u975e\u7ebf\u6027\u800c\u4e14\u65f6\u53d8\u7684\u3002\u6211\u4eec\u8981\u8bc1\u660e\u4e00\u4e2a\u5185\u5bb9\u4e0d\u7b80\u5355\uff0c\u4f46\u662f\u5426\u5b9a\u5374\u5f88\u5bb9\u6613\uff0c\u56e0\u4e3a\u4e3e\u51fa\u4e00\u4e2a\u53cd\u4f8b\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5c31\u8fd9\u4e2a\u95ee\u9898\u6765\u8bf4\uff0c\u5f53\u6211\u8f93\u5165\u4e3a \\(\\delta[n]\\) \u65f6\uff0c\\(y_1[0]=ay[-1]\\)\uff0c\u5f53\u8f93\u5165\u4e3a \\(\\delta[n-1]\\) \u65f6\uff0c\\(y_2[1]=1+a^2y[-1]\\neq y_1[0]\\)\uff0c\u6240\u4ee5\u662f\u65f6\u53d8\u7684\u3002</p> <p>\u5f53\u6211\u8f93\u5165\u662f\u4efb\u610f \\(x[n]\\) \u65f6\uff0c\\(n = -1\\) \u65f6\u8f93\u51fa \\(y[-1]\\)\uff1b\u8f93\u5165\u662f \\(2x[n]\\) \u65f6\uff0c\u8f93\u51fa\u4ecd\u7136\u662f \\(y[-1]\\)\uff0c\u5e76\u672a\u6269\u5927\u5230\u539f\u6765\u4e24\u500d\uff0c\u6240\u4ee5\u663e\u7136\u662f\u975e\u7ebf\u6027\u7684\u3002</p> <p>\u603b\u7ed3\u800c\u8a00\uff0c\u53cc\u8fb9\u53d8\u6362\u5fc5\u987b\u57fa\u4e8e IAR \u6761\u4ef6\uff08\u5bf9\u5085\u91cc\u53f6\u3001\u62c9\u666e\u62c9\u65af\u53d8\u6362\u4e5f\u662f\u5982\u6b64\uff09\u3002\u4f46\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u867d\u7136\u8f93\u5165\u5f80\u5f80\u662f\u53ea\u6709\u6709\u9650\u65f6\u95f4\uff0c\u4f46\u5728\u8fd9\u4e4b\u524d\uff0c\u4e0d\u53ef\u80fd\u4fdd\u8bc1\u8f93\u51fa\u90fd\u662f 0\uff0c\u56e0\u6b64\u6709\u521d\u59cb\u6761\u4ef6\u7684\u5dee\u5206\u65b9\u7a0b\u66f4\u52a0\u5e38\u89c1\uff0c\u6240\u4ee5\u5355\u8fb9 z \u53d8\u6362\u7684\u5e94\u7528\u66f4\u52a0\u5e7f\u6cdb\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u628a\u5355\u8fb9 z \u53d8\u6362\u770b\u6210\u5dee\u5206\u65b9\u7a0b\u7684\u4e00\u79cd\u666e\u904d\u89e3\u51b3\u624b\u6bb5\u3002</p> <p>\u53e6\u5916\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5728 IAR \u6761\u4ef6\u4e0b\uff0c\u53cc\u8fb9 z \u53d8\u6362\u548c\u5355\u8fb9 z \u53d8\u6362\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u5426\u5219\uff0c\u5c31\u4e0d\u80fd\u4f7f\u7528\u53cc\u8fb9 z \u53d8\u6362\u3002\u4ece\u8868\u9762\u4e0a\u770b\uff0c\u5355\u8fb9 z \u53d8\u6362\u7684\u65f6\u79fb\u6027\u8d28\u4e5f\u662f\u8003\u8651\u4e86\u521d\u59cb\u6761\u4ef6\uff0c\u8fd9\u662f\u53cc\u8fb9 z \u53d8\u6362\u6240\u6ca1\u6709\u7684\u3002</p> <p>matlab \u7684 filter \u51fd\u6570\u53ef\u4ee5\u6dfb\u52a0\u521d\u503c\uff1a</p> <p>\u5bf9\u4e8e\u4e0b\u9762\u8fd9\u4e2a\u65b9\u7a0b:</p> \\[ y[n]+1.5y[n-1]+0.5y[n-2]=x[n]-x[n-1], y[-1]=2, y[-2]=1 \\] <pre><code>num = [1 -1 0];\nden = [1 1.5 .5];\nn = 0:20;\nx = ones(1,length(n));\n%zi = [-a1*y[-1] - a2*y[-2], -a2*y[-1]]\nzi = [-1.5*2-0.5*1,-0.5*2]; %zi\u5c31\u662fy[n]\u521d\u503c\u5411\u91cf\ny = filter(num,den,x,zi);\n</code></pre>"},{"location":"signal/onesidez/#_1","title":"\u6c42\u89e3\u6590\u6ce2\u90a3\u5951\u6570\u5217","text":"<p>\u7528 z \u53d8\u6362\u53ef\u4ee5\u8f7b\u677e\u6c42\u89e3\u51fa\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u901a\u9879\u516c\u5f0f\u3002\u5df2\u77e5\u5176\u9012\u63a8\u5f0f\u662f\uff1a</p> \\[ y[n+2]=y[n+1]+y[n], y[0]=y[1]=1 \\] <p>\u505a\u5355\u8fb9 z \u53d8\u6362\u548c\u65f6\u79fb\u6027\u8d28\uff0c\u53ef\u5f97</p> \\[ Y(z) = \\frac{1}{1-z^{-1}-z^{-2}} \\] <p>\u8bbe \\(a_1=\\frac{1+\\sqrt{5}}{2}, a_2=\\frac{1-\\sqrt{5}}{2}\\)</p> <p>\u5bb9\u6613\u5f97\u5230 \\(Y(z)\\) \u7684\u5206\u89e3\u5f0f\u53ef\u4ee5\u88ab\u8868\u4e3a\uff0c</p> \\[ Y(z)=\\frac{a_1a_2}{a_2-a_1}(\\frac{a_1}{1-a_1z^{-1}}-\\frac{a_2}{1-a_2z^{-1}}) \\] <p>\u505a z \u9006\u53d8\u6362\u5f97\u5230</p> \\[ y[n]=\\frac{a_1a_2}{a_2-a_1}(a_1^{n+1}-a_2^{n+1}) \\] <p>\u4e5f\u5c31\u662f\uff1a</p> \\[ y[n]=\\frac{1}{\\sqrt{5}}((\\frac{1+\\sqrt{5}}{2})^{n+1}-(\\frac{1-\\sqrt{5}}{2})^{n+1}),n\\geq0 \\]"},{"location":"signal/onesidez/#_2","title":"\u751f\u6210\u51fd\u6570","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1a https://zhuanlan.zhihu.com/p/63003976</p> <p>\u751f\u6210\u51fd\u6570\uff08\u6bcd\u51fd\u6570\uff09\u662f\u7ec4\u5408\u6570\u5b66\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u5de5\u5177\uff0c\u5b83\u7684\u5f62\u5f0f\u548c\u5355\u8fb9 z \u53d8\u6362\u662f\u4e00\u6837\u7684\u3002\u6570\u5b66\u4e0a\u7684\u5b9a\u4e49\uff0c\u5c31\u662f\u5bf9\u4e00\u4e2a\u5e8f\u5217 \\(a_n\\)\uff0c\u5b83\u7684\u751f\u6210\u51fd\u6570\u5b9a\u4e49\u4e3a </p> \\[ G(x)=\\sum_{n=0}^{\\infty}a_nx^n \\] <p>\u6211\u4eec\u4ecd\u7528\u548c z \u53d8\u6362\u7c7b\u4f3c\u7684\u7406\u89e3\uff0c\u4e0d\u8003\u8651\u522b\u7684\uff0c\u53ea\u8003\u8651\u5b83\u662f\u4e00\u79cd\u5bf9\u5e8f\u5217\u8868\u793a\u7684\u7b80\u5316\u3002</p>"},{"location":"signal/pca/","title":"PCA","text":"<p>\u5c06 PCA \u65b9\u6cd5\u653e\u5728\u4fe1\u53f7\u5904\u7406\u91cc\u9762\uff0c\u662f\u60f3\u8bf4\uff0c\u4fe1\u53f7\u5904\u7406\u548c\u6570\u636e\u5904\u7406\u672c\u8d28\u662f\u76f8\u901a\u7684\uff0c\u4e5f\u7b97\u662f\u67d0\u79cd\u590d\u4e60\u3002</p> <p>\u7edf\u4e00\u8bf4\u660e\uff0c\u4e0b\u9762\u6d89\u53ca\u7684\u6570\u636e\u5411\u91cf\u5747\u4e3a\u5217\u5411\u91cf\u3002</p>"},{"location":"signal/pca/#svd","title":"SVD \u5206\u89e3","text":"<p>\u9996\u5148\u8bb2\u89e3\u4e00\u4e0b SVD \u5206\u89e3\uff1a\u5bf9\u67d0\u4e00\u4e2a\u77e9\u9635 \\(A\\) \u4e3a \\(m * n\\) \u7684\u5b9e\u77e9\u9635\uff0c\u90a3\u4e48\u4ed6\u7684\u5947\u5f02\u503c\u5206\u89e3\u5b58\u5728\uff1a</p> \\[ A  = USV^T \\] <p>\u5176\u4e2d \\(U\\) \u662f \\(m * m\\) \u6b63\u4ea4\u77e9\u9635\uff0c\\(V\\) \u662f \\(n * n\\) \u6b63\u4ea4\u77e9\u9635\uff0c\\(S\\) \u662f \\(m*n\\) \u77e9\u5f62\u5bf9\u89d2\u77e9\u9635\uff0c\u5176\u5bf9\u89d2\u7ebf\u5143\u7d20\u975e\u8d1f\u4e14\u6309\u964d\u5e8f\u6392\u5217\u3002</p> <p>\u6ce8\u610f\uff0c\u82e5 \\(A\\) \u7684 rank \u662f \\(k\\)\uff0c\u90a3\u4e48 \\(U\\) \u7684\u524d \\(k\\) \u4e2a\u5217\u5411\u91cf\u6784\u6210 \\(A\\) \u7684\u5217\u7a7a\u95f4\u7684\u6807\u51c6\u6b63\u4ea4\u57fa\u3002\\(V\\) \u7684\u524d \\(k\\) \u4e2a\u5217\u5411\u91cf\u6784\u6210 \\(A\\) \u7684\u884c\u7a7a\u95f4\u7684\u6807\u51c6\u6b63\u4ea4\u57fa\uff0c\u540e \\(n-k\\) \u4e2a\u5411\u91cf\u6784\u6210 \\(A\\) \u7684\u96f6\u7a7a\u95f4\u7684\u6807\u51c6\u6b63\u4ea4\u57fa\u3002</p> <p>\u5947\u5f02\u503c\u5206\u89e3\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u7684\u5355\u5411\u91cf\u5206\u89e3\u5f0f\uff1a</p> \\[ A = USV^T = \\sum_{i=1}^{r}\\sigma_i u_i v_i^T \\] <p>\u7531\u5355\u5411\u91cf\u5206\u89e3\u5f0f\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u7406\u89e3\u7d27\u5947\u5f02\u503c\u5206\u89e3\u3002\u5982\u679c\u4e22\u6389\u540e\u9762\u67d0\u4e9b\u4e0d\u91cd\u8981\u7684\u9879\uff0c\u5c31\u6210\u4e86\u622a\u65ad\u5947\u5f02\u503c\u5206\u89e3\uff0c\u7528\u4e8e\u77e9\u9635\u8fd1\u4f3c\u3002</p>"},{"location":"signal/pca/#pca_1","title":"PCA","text":"<p>\u8fd9\u4e2a\u535a\u5ba2\u7684\u89e3\u91ca\u76f8\u5f53\u4e0d\u9519\uff1ahttps://alberthg.github.io/2018/12/05/%E4%B8%BB%E6%88%90%E5%88%86%E5%88%86%E6%9E%90-PCA/\u3002\u53ef\u4ee5\u770b\u770b\u3002</p> <p>\u4e3b\u6210\u5206\u5206\u6790\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u5bf9\u6570\u636e\u8fdb\u884c\u7ebf\u6027\u53d8\u6362\u3002\u9996\u5148\u6709\u8fd9\u6837\u7684\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u5411\u91cf \\(\\mathbf{x}=(x_1,x_2,\\dots,x_m)^T\\)\u3002\u7136\u540e\u8fdb\u884c\u7ebf\u6027\u53d8\u6362\u540e\uff0c\u8981\u6c42\uff0c\u5bf9\u7b2c \\(i\\) \u4e2a\u65b0\u5750\u6807 \\(y_i=\\alpha_{1i} x_1 + \\alpha_{2i} x_2 + \\dots + \\alpha_{mi} x_m\\)\uff0c\\(y_i\\) \u662f\u65b9\u5dee\u7b2c \\(i\\) \u5927\u7684\u5750\u6807\uff0c\u79f0\u4f5c \\(x\\) \u7684\u7b2c \\(i\\) \u4e2a\u4e3b\u6210\u5206\u3002\u4e0d\u59a8\u5c06\u7b2c \\(i\\) \u4e2a\u5750\u6807\u6240\u9700\u7ebf\u6027\u53d8\u6362\u7684\u5411\u91cf\u8bb0\u4f5c \\(\\mathbf{\\alpha}_i = [\\alpha_{1i}, \\alpha_{2i}, \\dots, \\alpha_{mi}]^T\\)\u3002\u90a3\u4e48\u6570\u636e\u53d8\u6362\u77e9\u9635 \\(\\mathbf{A} = [\\mathbf{\\alpha}_1, \\mathbf{\\alpha}_2, \\dots, \\mathbf{\\alpha}_m]\\)\u3002\u53d8\u6362\u540e\u7684\u5411\u91cf \\(\\mathbf{y}\\) \u5c31\u662f\uff1a</p> \\[ \\mathbf{y} = \\mathbf{A}^T\\mathbf{x} \\] <p>\u5173\u952e\u8981\u6c42 \\(A\\) \u7684\u5404\u4e2a\u5411\u91cf\u3002\u6570\u5b66\u8bfe\u4e0a\u5b66\u8fc7\uff0c\u7b2c k \u4e2a\u5411\u91cf\uff0c\\(\\alpha_k\\)\uff0c\u53ea\u9700\u8981\u5bf9 x \u7684\u534f\u65b9\u5dee\u77e9\u9635 \\(\\Sigma\\)\uff08\u5927\u5c0f\\(m*m\\)\uff09 \u8fdb\u884c\u7279\u5f81\u503c\u5206\u89e3\uff0c\u5f97\u5230\u7b2c k \u4e2a\u7279\u5f81\u503c\u5bf9\u5e94\u7684\u7279\u5f81\u5411\u91cf\u5373\u53ef\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\\(A\\) \u7684 m \u4e2a\u5411\u91cf\u5c31\u662f \\(\\Sigma\\) \u7684 m \u4e2a\u7279\u5f81\u5411\u91cf\u3002</p> <p>\u7136\u540e\u5bf9 \\(y\\) \u7684\u503c\uff0c\u4e22\u5f03\u6389\u4e00\u4e9b\u7ef4\u5ea6\uff0c\u5c31\u8fbe\u5230\u4e86\u964d\u7ef4\u7684\u6548\u679c\u3002</p> <p>\u4e0a\u9762\u8bf4\u7684\u662f\u968f\u673a\u53d8\u91cf\u3002\u5b9e\u9645\u64cd\u4f5c\u65f6\uff0c\u90fd\u662f\u7ed9\u4f60\u6837\u672c\u77e9\u9635\u3002\u90a3\u53ea\u9700\u8981</p> \\[ \\mathbf{Y} = \\mathbf{A}^T\\mathbf{X} \\] <p>\u5373\u53ef\u3002</p> <p>matlab \u4e2d\uff0cPCA \u7684\u51fd\u6570\u539f\u578b\u662f\uff1a</p> <pre><code>[coeff, score, latent, tsquared, explained, mu] = pca(X)\n</code></pre> <p>\u5176\u4e2d\uff0c<code>coeff</code> \u5c31\u662f\u4e0a\u9762\u7684\u77e9\u9635 A\uff0c\u5305\u542b\u4e86\u6837\u672c\u77e9\u9635 X \u7684\u534f\u65b9\u5dee\u77e9\u9635\u7684\u5404\u4e2a\u7279\u5f81\u5411\u91cf\u3002<code>score</code> \u5c31\u662f\u662f\u6570\u636e\u6295\u5f71\u5230\u4e3b\u6210\u5206\u7a7a\u95f4\u4e4b\u540e\u7684\u5750\u6807\uff0c\u5373\u6bcf\u4e2a\u6837\u672c\u5728\u65b0\u5750\u6807\u7cfb\uff08\u4e3b\u6210\u5206\u5750\u6807\u7cfb\uff09\u4e2d\u7684\u8868\u793a\uff0c\u5176\u77e9\u9635\u5927\u5c0f\u5e94\u8be5\u4e0e X \u76f8\u540c\uff08\u5b9e\u9645\u4e0a\u5c31\u662f Y\uff09\u3002<code>latent</code> \u662f\u4e00\u4e2a\u5217\u5411\u91cf\uff0c\u50a8\u5b58\u534f\u65b9\u5dee\u77e9\u9635\u7684\u7279\u5f81\u503c\uff0c\u5b9e\u9645\u4e0a\u8868\u793a\u6bcf\u4e2a\u4e3b\u6210\u5206\u7684\u65b9\u5dee\u5927\u5c0f\uff0c\u610f\u4e49\u5c31\u662f\u8d21\u732e\u5ea6\u3002</p> <p>\u7136\u540e\uff0c\u7531\u4e8e A \u662f\u6b63\u4ea4\u77e9\u9635\uff0c\u6240\u4ee5\u6709 \\(A^TA=1\\) \u7684\u6027\u8d28\uff0c\u8fd9\u4e2a\u6027\u8d28\u8ba9\u6211\u4eec\u4ece Y \u4e2d\u91cd\u6784 X \u975e\u5e38\u7b80\u5355\uff1a\\(X = AY\\)\u3002\u6240\u4ee5\u5982\u679c\u6211\u4eec\u8981\u53ea\u53d6\u524d\u51e0\u4e2a\u4e3b\u5206\u91cf\u5bf9\u6570\u636e\u8fdb\u884c\u964d\u566a\u64cd\u4f5c\uff0c\u53ea\u9700\u5bf9 A \u548c Y \u8fdb\u884c\u622a\u65ad\u5373\u53ef\uff0c\u53ea\u53d6\u524d\u51e0\u4e2a\u5217\u5411\u91cf\uff0c\u5373 \\(X_{r} = A_tY_t\\)\u3002</p> <p>\u7528 Matlab \u8fdb\u884c PCA \u6ee4\u6ce2\u7684\u4ee3\u7801\u5f88\u7b80\u5355\u3002\u5047\u5982 <code>x</code> \u662f\u4e00\u4e2a\u968f\u673a\u4fe1\u53f7\u7684\u6837\u672c\u77e9\u9635, <code>reducedData</code> \u5c31\u662f\u6ee4\u6ce2\u540e\u7684\u6837\u672c\u77e9\u9635\u3002</p> <pre><code>[coeff, score, latent, tsquared, explained, mu] = pca(x);\n\n% \u9009\u62e9\u4e3b\u8981\u6210\u5206\uff08\u4f8b\u5982\uff0c\u9009\u62e9\u524d2\u4e2a\u4e3b\u8981\u6210\u5206\uff09\nnumComponents = 2;\nreducedData = score(:, 1:numComponents) * coeff(:, 1:numComponents)' + mu;\nplot(n, reducedData(:,3));\ntitle(\"use PCAtools\")\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u67e5\u770b\u5404\u4e2a\u4e3b\u6210\u5206\u5206\u91cf\u7684\u5927\u5c0f\uff1a</p> <pre><code>stem(latent/sum(latent));\ntitle(\"\u5404\u5206\u91cf\")\n</code></pre> <p>\u63d2\u5165\u56fe\u7247\u7684\u610f\u4e49\u4e0d\u5927\uff0c\u61d2\u7684\u63d2\u4e86\u3002</p>"},{"location":"signal/stft/","title":"\u77ed\u65f6\u5085\u91cc\u53f6\u53d8\u6362","text":"<p>\u5148\u6765\u770b\u4e00\u4e0bstft\u77ed\u65f6\u5085\u91cc\u53f6\u53d8\u6362</p> <pre><code>clc;clear;close all;\nfs = 10e6;\nn=10000;\nf1=10e3;f2=50e3;f3=80e3;f4=100e3;\nt=(0:n-1)'/fs;\nsig1=cos(2*pi*f1*t);\nsig2=cos(2*pi*f2*t);\nsig3=cos(2*pi*f3*t);\nsig4=cos(2*pi*f4*t);\nsig=[sig1;sig2;sig3;sig4];\nt1 = (0:4*n-1)'/fs;\n%time domain\nplot(t1,sig)\n</code></pre> <p></p> <pre><code>s = spectrogram(sig,256);\nt = linspace(0, 4*n/fs, size(s,1));\nf = linspace(0, fs/2, size(s,2));\nimagesc(t,f,20*log10(abs(s)));\nxlabel(\"samples\");\n%sample\u662f\u65f6\u95f4\uff0c\u6bcf\u4e2a\u91c7\u6837\u70b9\u5bf9\u5e94\u7684\u9891\u7387\u5927\u5c0f\u3002\u4e8c\u7ef4\u51fd\u6570\u3002\nylabel(\"freqency\");\ncolorbar;\n</code></pre> <p></p> <pre><code>%\u53ef\u4ee5\u4fee\u6539\u4e00\u4e0b\u5f97\u5230\u66f4\u597d\u7684\u56fe\u7247\nwindow = 2048;\nnoverlap = window/2;\nf_len = window/2+1;\nf=linspace(0,150e3, f_len);\n[s,f,t]=spectrogram(sig,window,noverlap,f,fs);\nimagesc(t, f, 20*log10((abs(s))));xlabel('Samples'); ylabel('Freqency');\ncolorbar;\n</code></pre> <p></p> <pre><code>%\u529f\u7387\u8c31\n[s, f, t, p] = spectrogram(sig, window, 256, f, fs);\nfigure;\nimagesc(t, f, p);xlabel('Samples'); ylabel('Freqency');\ncolorbar;\n</code></pre> <p></p> <p>example10.9</p> <pre><code>alpha_0 = 15*pi*1e-6;\nn=0:20000;\nx = cos(alpha_0*n.^2);\nplot(n,x);\nxlim([0,20000]);\ntitle(\"time domain\");\n</code></pre> <p></p> <pre><code>%\u6574\u4e2a\u9891\u7387\u57df\nX = fftshift(fft(x, 20000));\nplot((abs(X)));\ntitle(\"frenqency domain\");\n</code></pre> <p></p> <pre><code>%\u8868\u793a\u8fd9401\u4e2a\u70b9\u5305\u542b\u7684\u9891\u7387\uff08\u57fa\u672c\u4e0d\u53d8\uff0c\u4e0d\u6d89\u53ca\u5176\u4ed6\u90e8\u5206\uff09\nwindow1 = hamming(401);\nx_piece1 = x(5000:5000+400).*window1';\nX_piece1 = fftshift(fft(x_piece1, 4096));\nomega = -1:2*1/4096:1-2*1/4096;\nplot(omega, abs(X_piece1));\n</code></pre> <p></p> <pre><code>x_piece2 = x(15000:15000+400).*window1';\nX_piece2 = fftshift(fft(x_piece2, 4096));\nomega = -1:2*1/4096:1-2*1/4096;\nplot(omega, abs(X_piece2));\n</code></pre> <p></p> <p>example10.10 \u8c31\u56fe</p> <p>\u4e0b\u9762\u624b\u5199\u4e00\u4e2astft\u505a\u6210\u7684\u8c31\u56fe</p> <pre><code>n1=0:20000;\nn2=20001:25000;\nn3=25001:30000;\nalpha_0 = 15*pi*1e-6;\ny1 = cos(alpha_0*n1.^2);\ny2 = cos(0.2*pi*n2);\ny3 = cos(0.2*pi*n3)+cos(0.23*pi*n3);\nn=[n1,n2,n3];\ny=[y1,y2,y3];\n\n%401points window stft\nL=401;\nh_win = hamming(L);\nnfft=1024;\nres = zeros(nfft/2,length(n));\nfor i=0:n(end)-L\n    y_piece = y(1+i:i+L).*h_win';\n    Y_piece = fft(y_piece,nfft);\n    Y_piece_half = Y_piece(1:nfft/2);\n    res(:,i+1) = Y_piece_half';\nend\nf =  0:1/512:1-1/512;\nimagesc(n,f,abs(res));\n</code></pre> <p></p> <pre><code>%101points window stft\nL=101;\nh_win = hamming(L);\nnfft=1024;\nres = zeros(nfft/2,length(n));\nfor i=0:n(end)-L\n    y_piece = y(1+i:i+L).*h_win';\n    Y_piece = fft(y_piece,nfft);\n    Y_piece_half = Y_piece(1:nfft/2);\n    res(:,i+1) = Y_piece_half';\nend\nf =  0:1/512:1-1/512;\nimagesc(n,f,abs(res));\n</code></pre> <p></p> <pre><code>%matlab\u81ea\u5e26\u7684\u51fd\u6570\n% s = spectrogram(y, window1);\n% s = spectrogram(x,window,noverlap,nfft)\n%noverlap\u662f\u91cd\u53e0\u7684\u6837\u672c\u6570\uff0c\u9ed8\u8ba4\u662ffloor(ns/4.5)\n%nfft\u662ffft\u70b9\u6570\u3002\n% imagesc(abs(s))\n</code></pre> <p>\u770b\u4e0a\u9762\u7a97\u957f100\u4e2a\u70b9\u548c400\u4e2a\u70b9\u7684\u7ed3\u679c\uff0c\u600e\u4e48\u5206\u6790\uff1f</p> <p>\u6bcf\u4e00\u4e2a\u7ad6\u76f4\u65b9\u5411\u4e0a\u7684\u5207\u7247\uff0c\u90fd\u5bf9\u5e94\u7740\u4e00\u6b21dtft\u3002\u6211\u8fd9\u91cc1024\u4e2a\u70b9fft\u53ea\u53d60\u5230pi\u7684\u7ed3\u679c\uff08\u53cd\u6b63\u5bf9\u79f0\uff09</p> <p>\u7ad6\u76f4\u65b9\u5411\u4e0a\u4eae\u7ebf\u7684\u7c97\u7ec6\u662f\u6709\u4ec0\u4e48\u51b3\u5b9a\u7684\u5462\uff1f\u6211\u4eec\u5df2\u7ecf\u5b66\u8fc7\u4e86\u5c31\u662f\u7531\u7a97\u7684\u4e3b\u74e3\u957f\u5ea6\u51b3\u5b9a\u7684\u3002\u800c\u7a97\u7684\u4e3b\u74e3\u957f\u5ea6\uff0c\u53c8\u662f\u76f4\u63a5\u7531\u7a97\u957f\u51b3\u5b9a\u7684\uff1a\u5bf9\u4e8ehamming\u7a97\uff0c\u6709 \\(\\Delta_{\\textrm{ml}} =8\\frac{\\pi }{M}\\) \uff0cM\u5c31\u662f\u7a97\u957f\u3002</p> <p>\u7a97\u957f\u4e3a401\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u4e3b\u74e3\u5f88\u77ed\uff0c\u4eae\u7ebf\u5f88\u7ec6\uff0c\u4f46\u662f\u572820000\u4e2a\u70b9\u7684\u7a81\u53d8\u8fd9\u91cc\uff0c\u7531\u4e8e\u7a97\u6bd4\u8f83\u957f\uff0c\u6240\u4ee5\u7a81\u53d8\u4f1a\u6a21\u7cca\u4e00\u70b9\u3002</p> <p>\u7a97\u957f\u4e3a101\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u5c31\u53cd\u8fc7\u6765\uff0c\u5bf9\u5e94\u66f4\u957f\u7684\u4e3b\u74e3\uff0c\u66f4\u7c97\u7684\u4eae\u7ebf\uff0c\u4f46\u662f\u5bf9\u4fe1\u53f7\u7279\u6027\u7684\u53d8\u5316\u63cf\u8ff0\u66f4\u6e05\u6670\u3002</p> <p>\u7a97\u957f\u548c\u9891\u7387\u5206\u8fa8\u7387\u6210\u6b63\u6bd4\uff0c\u548c\u65f6\u95f4\u5206\u8fa8\u7387\u6210\u53cd\u6bd4\u3002</p>"},{"location":"tools/cmake/","title":"cmake","text":"<p>cmake \u7684\u5b98\u65b9\u6559\u7a0b\u5c45\u7136\u5168\u662f\u7ec3\u4e60\uff0c\u592a\u641e\u4e86\u3002</p>"},{"location":"tools/cmake/#step1","title":"Step1","text":""},{"location":"tools/cmake/#exercise-1-building-a-basic-project","title":"Exercise 1 - Building a Basic Project","text":"<p>The most basic CMake project is an executable built from a single source code file. For simple projects like this, a CMakeLists.txt file with three commands is all that is required.</p> <p>Any project's top most CMakeLists.txt must start by specifying a minimum CMake version using the <code>cmake_minimum_required()</code> command. This establishes policy settings and ensures that the following CMake functions are run with a compatible version of CMake.</p> <p>To start a project, we use the <code>project()</code> command to set the project name. This call is required with every project and should be called soon after <code>cmake_minimum_required()</code>. As we will see later, this command can also be used to specify other project level information such as the language or version number.</p> <p>Finally, the <code>add_executable()</code> command tells CMake to create an executable using the specified source code files.</p> <p>\u6240\u4ee5\uff0c\u4e00\u4efd\u6700\u7b80\u5355\u7684 Cmakelist.txt \u5c31\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>cmake_minimum_required(VERSION 3.10)\n\nproject(Tutorial)\n\nadd_executable(Tutorial tutorial.cxx)\n</code></pre> <p>\u5728 windows \u7cfb\u7edf\u4e0a\u603b\u662f\u8981\u5904\u7406\u8def\u5f84\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u6211\u63a8\u8350\u5728 linux \u7cfb\u7edf\u4e0a\u8fd0\u884c\u3002</p> <p>\u5728 build \u6587\u4ef6\u5939\u4e0b\u8fd0\u884c <code>cmake ../source</code>\uff0c\u5c31\u53ef\u4ee5\u751f\u6210\u4e00\u4e2a Makefile \u6587\u4ef6\u3002</p> <p>\u7136\u540e\u8fd0\u884c <code>cmake --build .</code> \u6216\u8005 <code>make</code>\uff0c\u5c31\u53ef\u4ee5\u7f16\u8bd1\u94fe\u63a5\uff0c\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u4e4b\u540e\u5982\u679c\u66f4\u65b0\u4e86 Cmakelist\uff0c<code>cmake --build .</code>\u5373\u53ef</p>"},{"location":"tools/cmake/#exercise-2-specifying-the-c-standard","title":"Exercise 2 - Specifying the C++ Standard","text":"<p>CMake \u7684\u7279\u6b8a\u53d8\u91cf\u90fd\u662f\u4ee5 <code>CMAKE_</code> \u6253\u5934\u7684\u3002\u8fd9\u4e2a\u7ec3\u4e60\u4e2d\u6211\u4eec\u8981\u7528\u7684\u53d8\u91cf\u662f <code>CMAKE_CXX_STANDARD</code> \u548c <code>CMAKE_CXX_STANDARD_REQUIRED</code>\u3002</p> <p>\u7528 <code>set()</code> \u53ef\u4ee5\u6307\u5b9a\u53d8\u91cf\u7684\u503c\u3002</p> <p>\u6211\u4eec\u6307\u5b9a C++ \u6807\u51c6\u4e3a C++11\uff1a</p> <pre><code>cmake_minimum_required(VERSION 3.10)\n\nproject(Tutorial)\n\nset(CMAKE_CXX_STANDARD 11)\nset(CMAKE_CXX_STANDARD_REQUIRED True)\n\nadd_executable(Tutorial tutorial.cxx)\n</code></pre>"},{"location":"tools/cmake/#exercise-3-adding-a-version-number-and-configured-header-file","title":"Exercise 3 - Adding a Version Number and Configured Header File","text":"<pre><code>project(Tutorial VERSION 1.0)\n</code></pre> <p>\u5c31\u53ef\u4ee5\u6307\u5b9a target \u7684\u53d8\u91cf VERSION.</p> <pre><code>configure_file(TutorialConfig.h.in TutorialConfig.h)\n</code></pre> <p>\u5229\u7528 <code>configure_file(input output)</code> \u6307\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0 cmake \u548c\u6e90\u4ee3\u7801\u6587\u4ef6\u7684\u8054\u52a8\u3002</p> <p>output path is to the output file or directory. A relative path is treated with respect to the value of CMAKE_CURRENT_BINARY_DIR. \u5373\u8f93\u51fa\u7684\u5934\u6587\u4ef6\u662f\u5728 build \u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u8f93\u5165 TutorialConfig.h.in \u7c7b\u4f3c\u8fd9\u6837\uff0ccmake \u4e2d\u7684\u53d8\u91cf\u5f62\u5982 <code>@var@</code>\u3002 <pre><code>#define Tutorial_VERSION_MAJOR @Tutorial_VERSION_MAJOR@\n#define Tutorial_VERSION_MINOR @Tutorial_VERSION_MINOR@\n</code></pre></p> <p>\u8f93\u51fa\u7684 .h \u6587\u4ef6\u5c31\u662f <pre><code>#define Tutorial_VERSION_MAJOR 1\n#define Tutorial_VERSION_MINOR 0\n</code></pre></p> <p>\u6700\u540e\u6dfb\u52a0\u5934\u6587\u4ef6\u8def\u5f84\u2014\u2014\u4e0d\u7136\u9ed8\u8ba4\u5728\u6e90\u4ee3\u7801\u8def\u5f84\u627e\uff0c\u627e\u4e0d\u5230\u6211\u4eec\u65b0\u751f\u6210\u7684 .h \u6587\u4ef6\u3002</p> <pre><code>target_include_directories(Tutorial PUBLIC \"${PROJECT_BINARY_DIR}\")\n</code></pre> <p>\u6574\u4e2a Cmakelist \u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>cmake_minimum_required(VERSION 3.10)\nproject(Tutorial VERSION 1.0)\nset(CMAKE_CXX_STANDARD 11)\nset(CMAKE_CXX_STANDARD_REQUIRED True)\nconfigure_file(TutorialConfig.h.in TutorialConfig.h)\nadd_executable(Tutorial tutorial.cxx)\ntarget_include_directories(Tutorial PUBLIC \"${PROJECT_BINARY_DIR}\")\n</code></pre>"},{"location":"tools/cmake/#step2","title":"Step2","text":"<p>\u5b66\u4e00\u4e0b\u66f4\u5927\u4e9b\u9879\u76ee\u7684\u7ec4\u7ec7\u3002</p> <p>\u9996\u5148\uff0c\u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u6709\u591a\u4e2a\u5b50\u76ee\u5f55\uff0c\u90a3\u4e48\u7528 <code>add_subdirectory</code> \u5c31\u53ef\u4ee5\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u5305\u542b\u53e6\u4e00\u4e2a\u76ee\u5f55\u7684 Cmakelist\u3002\u4e0d\u540c\u7684\u5b50\u76ee\u5f55\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>add_library()</code> \u6784\u5efa\u9759\u6001\u5e93\uff1a</p> <pre><code>add_library(MathFunctions MathFunctions.cxx)\n</code></pre> <p>\u6ce8\u610f\uff0ctarget \u662f <code>add_executable</code> \u6216\u8005 <code>add_library</code> \u751f\u6210\u7684\u7ed3\u679c\u540d\u5b57\u3002</p> <p>\u7136\u540e\u7528 <code>target_link_libraries()</code> \u8fdb\u884c\u5e93\u7684\u94fe\u63a5\uff0c\u5c06\u5e93\u94fe\u63a5\u5230 target \u4e0a\uff1a</p> <pre><code>target_link_libraries(Tutorial PUBLIC MathFunctions)\n</code></pre> <p>\u66f4\u65b0\u5934\u6587\u4ef6\u641c\u7d22\u8def\u5f84\uff1a <pre><code>target_include_directories(Tutorial PUBLIC\n                           \"${PROJECT_BINARY_DIR}\"\n                           \"${PROJECT_SOURCE_DIR}/MathFunctions\"\n                           )\n</code></pre></p> <p>\u7136\u540e\u770b\u770b\u4e0b\u9762\u7684\u8bed\u53e5\uff1a</p> <pre><code>if(USE_MYMATH)\ntarget_compile_definitions(MathFunctions PUBLIC USE_MYMATH)\nendif()\n</code></pre> <p>\u9996\u5148\u6ce8\u610f\u4e00\u4e0b if \u8bed\u53e5\u7684\u5199\u6cd5\uff0c\u7136\u540e <code>target_compile_definitions()</code> \u7528\u4e8e\u5728\u6e90\u4ee3\u7801\u4e2d\u6dfb\u52a0\u5b8f\u5b9a\u4e49\u3002</p>"},{"location":"tools/cmake/#_1","title":"\u4f8b\u5b50","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u4f8b\u5b50\u3002\u6211\u4eec\u7684\u9879\u76ee\u7ed3\u6784\u662f\u8fd9\u6837\uff1a</p> <pre><code>project_root/\n\u251c\u2500\u2500 CMakeLists.txt\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 CMakeLists.txt\n\u2502   \u2514\u2500\u2500 main.cpp\n\u2514\u2500\u2500 lib/\n    \u251c\u2500\u2500 CMakeLists.txt\n    \u2514\u2500\u2500 mylib.cpp\n</code></pre> <p><code>project_root/CMakeLists.txt</code> \u6587\u4ef6\u5185\u5bb9\uff1a <pre><code>cmake_minimum_required(VERSION 3.10)\nproject(MyProject)\n\n# \u6dfb\u52a0\u5b50\u76ee\u5f55\nadd_subdirectory(src)\nadd_subdirectory(lib)\n</code></pre></p> <p><code>project_root/src/CMakeLists.txt</code> \u6587\u4ef6\u5185\u5bb9\uff1a <pre><code>add_executable(MyExecutable main.cpp)\n\n# \u94fe\u63a5\u5e93\ntarget_link_libraries(MyExecutable MyLibrary)\n</code></pre></p> <p><code>project_root/lib/CMakeLists.txt</code> \u6587\u4ef6\u5185\u5bb9\uff1a <pre><code>add_library(MyLibrary mylib.cpp)\n</code></pre></p> <p>\u8fd9\u6837\uff1a\u53ef\u4ee5\u5c06\u9879\u76ee\u5206\u6210\u591a\u4e2a\u5b50\u76ee\u5f55\uff0c\u6bcf\u4e2a\u5b50\u76ee\u5f55\u90fd\u6709\u81ea\u5df1\u7684\u6784\u5efa\u89c4\u5219\u548c\u4f9d\u8d56\u5173\u7cfb\u3002</p>"},{"location":"tools/git/","title":"git","text":""},{"location":"tools/make/","title":"GNU Make","text":"<p>\u6628\u5929\u8c03\u6574\u4e86\u5b57\u4f53\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u641c\u7d22\u6846\u7684\u5b57\u4f53\u4e0d\u4f1a\u6539\u53d8\uff0c\u7136\u540e\u53c8\u8d39\u4e86\u5f88\u5927\u7684\u529f\u592b\u52a0\u4e86\u4e00\u4e2a css \u6837\u5f0f\uff0c\u6539\u4e86\u641c\u7d22\u6846\u7684\u5b57\u4f53\u548c\u5176\u4f59\u90e8\u5206\u7684\u5b57\u4f53\u76f8\u4e00\u81f4\u3002\u4e3b\u8981\u662f\u56e0\u4e3a\u5bf9\u524d\u7aef\u7684\u90e8\u5206\u6211\u8fd8\u5f88\u4e0d\u719f\u6089\uff0c\u90fd\u662f\u6478\u9ed1\u64cd\u4f5c\u3002\u5df4\u522b\u5854\u91cc\u7684\u6218\u58eb\u90fd\u559c\u6b22\u97f3\u4e50\uff0c\u6ca1\u6709\u4eba\u4e0d\u559c\u6b22\u7f8e\u3002\u96be\u5f97\u6709\u673a\u4f1a\u505a\u6210\u4e00\u4e2a\u7f51\u7ad9\uff0c\u60f3\u505a\u7684\u597d\u770b\u4e00\u70b9\u3002</p> <p>\u8bf4\u56de make\u3002\u4ec0\u4e48\u662f make\uff1f\u7b80\u5355\u7684\u8bf4\uff0cmake \u7528\u6765\u6784\u5efa C \u8bed\u8a00\u7684\u9879\u76ee\u3002\u9996\u5148\u4f60\u8981\u4e0b\u8f7d make\u3002\u5728\u9879\u76ee\u6587\u4ef6\u5939\u91cc\u5fc5\u987b\u8981\u6709 <code>Makefile</code> \u6587\u4ef6\uff0cmake \u624d\u80fd\u8fd0\u884c\u3002<code>Makefile</code> \u6587\u4ef6\u91cc\u9762\u6709\u4ec0\u4e48\u5462\uff1f</p>"},{"location":"tools/make/#makefile","title":"Makefile \u4ecb\u7ecd","text":"<p>\u6458\u81ea\u5b98\u65b9\u6587\u6863\uff1aMakefiles contain five kinds of things: explicit rules, implicit rules, variable definitions, directives, and comments.</p>"},{"location":"tools/make/#rule","title":"rule","text":"<p><code>Makefile</code>\u91cc\u9762\u5fc5\u987b\u5305\u542b <code>rules</code>\u3002<code>rules</code> \u7531\u8fd9\u4e09\u90e8\u5206\u6784\u6210\uff1a<code>target</code>, <code>prerequisite</code>, <code>recipe</code>\u3002</p> <ul> <li><code>target</code> \u662f\u6700\u7ec8\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u540d\u79f0</li> <li><code>prerequisite</code> \u662f\u751f\u6210 <code>target</code> \u6240\u9700\u8981\u7684\u6587\u4ef6\uff0c\u79f0\u4e3a\u524d\u7f6e\u6761\u4ef6</li> <li><code>recipe</code> \u662f\u9700\u8981\u6267\u884c\u7684\u64cd\u4f5c\u3002\u7531\u4e8e make \u5c31\u662f\u5728 shell \u4e2d\u6267\u884c\uff0c\u6240\u4ee5 <code>recipe</code> \u5c31\u662f\u4e00\u7cfb\u5217\u7684 shell \u8bed\u53e5\uff08\u5f53\u7136\u540e\u671f\u5199\u590d\u6742\u4e86\u4e5f\u4f1a\u5305\u542b\u4e00\u4e9b\u7ed3\u6784\uff0c\u6bd4\u5982\u5206\u652f\u3001\u5faa\u73af\u3001\u51fd\u6570\u7b49\uff09</li> </ul> <p>\u5dee\u4e0d\u591a\u662f\u8fd9\u79cd\u5f62\u5f0f\uff1a</p> <pre><code>target ... : prerequisites ...\nrecipe\n...\n...\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b <code>Makefile</code>\uff0c\u5b83\u5305\u542b\u4e86\u597d\u51e0\u4e2a <code>rule</code>\uff0c\u5e76\u6700\u7ec8\u751f\u6210\u540d\u4e3a <code>edit</code> \u7684\u6587\u4ef6\u3002\u6ce8\u610f\uff0c<code>clean</code> \u662f\u4e00\u4e2a\u6bd4\u8f83\u7279\u6b8a\u7684 <code>target</code>\uff0c\u5b83\u4e0d\u9700\u8981 <code>prerequisites</code>\u3002\u8fd0\u884c <code>make</code>\uff0c\u6267\u884c\u524d\u9762\u7684\u6240\u6709\u64cd\u4f5c\uff1b\u8fd0\u884c <code>make clean</code>\uff0c\u662f\u5b8c\u6210 <code>clean</code> \u8fd9\u4e2a <code>target</code>\uff0c\u4e00\u822c\u662f\u7528\u6765\u6e05\u9664\u6240\u6709\u7f16\u8bd1\u7ed3\u679c\u3002</p> <pre><code>edit : main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\ncc -o edit main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nmain.o : main.c defs.h\ncc -c main.c\nkbd.o : kbd.c defs.h command.h\ncc -c kbd.c\ncommand.o : command.c defs.h command.h\ncc -c command.c\ndisplay.o : display.c defs.h buffer.h\ncc -c display.c\ninsert.o : insert.c defs.h buffer.h\ncc -c insert.c\nsearch.o : search.c defs.h buffer.h\ncc -c search.c\nfiles.o : files.c defs.h buffer.h command.h\ncc -c files.c\nutils.o : utils.c defs.h\ncc -c utils.c\nclean :\nrm edit main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\n</code></pre>"},{"location":"tools/make/#variable","title":"variable","text":"<p>\u50cf\u4e0a\u9762\u8fd9\u6837\u5199\u51fa\u6240\u6709\u6587\u4ef6\u5c06\u4f1a\u975e\u5e38\u5197\u957f\uff0c\u6240\u4ee5\u5f15\u5165\u4e86 <code>variable</code> \u8fd9\u4e2a\u6982\u5ff5\uff0c\u5c31\u662f\u53d8\u91cf\u3002 \u53d8\u91cf\u53ef\u4ee5\u5728\u6587\u4ef6\u5f00\u5934\u5148\u5b9a\u4e49\u597d\uff0c\u540e\u9762\u8981\u7528\u7684\u65f6\u5019\u4f7f\u7528 <code>$(var)</code> \u5c31\u53ef\u4ee5\u5f15\u7528\u6211\u4eec\u60f3\u8981\u7684\u53d8\u91cf\u4e86\uff0c\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002\u8fd9\u4e2a\u53d8\u91cf\uff0c\u548c c \u8bed\u8a00\u4e2d\u7684\u5b8f\u975e\u5e38\u76f8\u4f3c\u3002</p> <p>\u53e6\u5916\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u7528\u5230\u7684\u7701\u7565\uff1a\u5982\u679c <code>target</code> \u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5c31\u53ea\u9700\u8981\u7ed9\u51fa <code>prerequisites</code>, gcc \u4f1a\u627e\u5230\u540c\u540d\u7684 c \u6587\u4ef6\u8fdb\u884c\u7f16\u8bd1\u3002</p> <pre><code>CC = gcc\nCFLAGS = -Wall\nobjects = main.o kbd.o command.o display.o \\\ninsert.o search.o files.o utils.o\nedit : $(objects)\n$(CC) $(CFLAGS) -o edit $(objects)\nmain.o : defs.h\nkbd.o : defs.h command.h\ncommand.o : defs.h command.h\ndisplay.o : defs.h buffer.h\ninsert.o : defs.h buffer.h\nsearch.o : defs.h buffer.h\nfiles.o : defs.h buffer.h command.h\nutils.o : defs.h\n.PHONY : clean\nclean :\nrm edit $(objects)\n</code></pre>"},{"location":"tools/make/#comments","title":"comments","text":"<p>comment \u5c31\u662f\u6ce8\u91ca\uff0c\u6ce8\u91ca\u5f88\u7b80\u5355\uff0c\u7528 <code>#</code> \u5373\u53ef\u6ce8\u91ca\u3002</p>"},{"location":"tools/make/#directive","title":"directive","text":"<p>directive \u5c31\u662f\u6307\u4ee4\uff0c\u5b9e\u73b0\u7279\u6b8a\u7684\u4e8b\u60c5\uff0c\u6bd4\u5982 <code>include</code>.</p>"},{"location":"tools/make/#include","title":"include","text":"<p><code>include</code> \u8ba9 make \u6682\u505c\uff0c\u5f15\u7528\u5916\u90e8\u7684\u6587\u4ef6\u3002\u6bd4\u5982\uff1a <code>include foo *.mk $(bar)</code> \u5f15\u7528 <code>foo</code>, \u6240\u6709 <code>.mk</code> \u4e3a\u540e\u7f00\u540d\u7684\u6587\u4ef6 \u548c\u53d8\u91cf <code>$(bar)</code> \u5bf9\u5e94\u7684\u6587\u4ef6\u3002</p>"},{"location":"tools/make/#make","title":"make\u7684\u5de5\u4f5c\u65b9\u5f0f","text":"<ol> <li>\u8bfb\u5165\u6240\u6709\u7684Makefile\u3002</li> <li>\u8bfb\u5165\u88abinclude\u7684\u5176\u5b83Makefile\u3002</li> <li>\u521d\u59cb\u5316\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u3002</li> <li>\u63a8\u5bfc\u9690\u5f0f\u89c4\u5219\uff0c\u5e76\u5206\u6790\u6240\u6709\u89c4\u5219\u3002</li> <li>\u4e3a\u6240\u6709\u7684\u76ee\u6807\u6587\u4ef6\u521b\u5efa\u4f9d\u8d56\u5173\u7cfb\u94fe\u3002</li> <li>\u6839\u636e\u4f9d\u8d56\u5173\u7cfb\uff0c\u51b3\u5b9a\u54ea\u4e9b\u76ee\u6807\u8981\u91cd\u65b0\u751f\u6210\u3002</li> <li>\u6267\u884c\u751f\u6210\u547d\u4ee4\u3002</li> </ol>"},{"location":"tools/make/#makefile_1","title":"Makefile \u7f16\u5199","text":"<p>\u524d\u9762\u5df2\u7ecf\u521d\u6b65\u4e86\u89e3\u4e86 <code>make</code>\uff0c\u4e0b\u9762\u53ef\u4ee5\u66f4\u8be6\u7ec6\u5730\u770b\u770b\u3002</p> <p>\u4e00\u4e2a <code>Makefile</code> \u6587\u4ef6\u91cc\u9762\u4f1a\u5305\u542b\u597d\u51e0\u4e2a rules\u3002\u9664\u4e86\u9ed8\u8ba4\u7b2c\u4e00\u4e2a\u662f\u6700\u7ec8\u7684\u9879\u76ee\u6587\u4ef6\uff0c\u987a\u5e8f\u5e76\u4e0d\u91cd\u8981\u3002</p> <p>\u600e\u4e48\u8fd0\u884c\uff1f\u5982\u679c\u6307\u4ee4\u6307\u5b9a\u4e86\u67d0\u4e00\u4e2a target\uff1a<code>make sometarget</code>\uff0c\u90a3\u4e48\u5c31\u751f\u6210\u90a3\u4e2a target\u3002\u5982\u679c\u6307\u4ee4\u662f <code>make</code>\uff0c\u5c31\u751f\u6210 <code>Makefile</code> \u4e2d\u7684\u7b2c\u4e00\u4e2a target\u3002</p> <p>\u4e0b\u9762\u4e5f\u4e0d\u77e5\u9053\u6309\u4ec0\u4e48\u987a\u5e8f\u4ecb\u7ecd\uff0c\u5c31\u968f\u4fbf\u5199\u5427\u3002</p>"},{"location":"tools/make/#_1","title":"\u56de\u58f0","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cmake \u4f1a\u6253\u5370\u6bcf\u6761\u547d\u4ee4\uff08\u5305\u62ec\u6ce8\u91ca\uff09\uff0c\u7136\u540e\u518d\u6267\u884c\uff0c\u8fd9\u5c31\u53eb\u505a\u56de\u58f0\uff08echoing\uff09\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>@</code> \u6765\u5ffd\u7565\u6253\u5370\u7684\u8f93\u51fa\u3002\u4e00\u822c\u662f\u7528\u4e8e\u6ce8\u91ca\u548c\u663e\u793a\u7684 <code>echo</code> \u547d\u4ee4\u3002</p> <pre><code>test:\n    @# \u8fd9\u662f\u6d4b\u8bd5\n    @echo TODO\n</code></pre>"},{"location":"tools/make/#_2","title":"\u81ea\u52a8\u53d8\u91cf","text":"<p>\u770b <code>Makefile</code> \u6587\u4ef6\u7684\u65f6\u5019\uff0c\u7ecf\u5e38\u4f1a\u770b\u5230\u4e00\u4e9b\u5947\u602a\u7684\u7b26\u53f7\uff0c\u6bd4\u5982 <code>$@</code> \u548c <code>$&lt;</code> \u7b49\u7b49\uff0c\u5b83\u4eec\u90fd\u662f\u81ea\u52a8\u53d8\u91cf\uff08automatic variables\uff09\uff0c\u5b83\u4eec\u7684\u503c\u4e0e\u5f53\u524d\u89c4\u5219\u6709\u5173\u3002\u54c8\u54c8\uff0c\u5b9e\u9645\u4e0a <code>$</code> \u6253\u5934\u7684\u5c31\u662f\u53d8\u91cf\uff0c\u4e0b\u9762\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b\u3002</p> <ol> <li> <p><code>$@</code>\uff1a\u6307\u4ee3\u5f53\u524d\u76ee\u6807\uff0c\u5c31\u662f Make \u547d\u4ee4\u5f53\u524d\u6784\u5efa\u7684\u90a3\u4e2a\u76ee\u6807\u3002\u6bd4\u5982     <pre><code>a.txt b.txt:\ntouch $@\n</code></pre>     \u548c     <pre><code>a.txt:\n    touch a.txt\nb.txt:\n    touch b.txt\n</code></pre>     \u7b49\u4ef7</p> </li> <li> <p><code>$&lt;</code>\uff1a\u6307\u4ee3\u7b2c\u4e00\u4e2a\u524d\u7f6e\u6761\u4ef6\u3002\u6bd4\u5982     <pre><code>a.txt: b.txt c.txt\ncp $&lt; $@\n</code></pre>     \u548c     <pre><code>a.txt: b.txt c.txt\ncp b.txt a.txt\n</code></pre>     \u7b49\u4ef7</p> </li> <li><code>$?</code>\uff1a\u6307\u4ee3\u6bd4\u76ee\u6807\u66f4\u65b0\u7684\u6240\u6709\u524d\u7f6e\u6761\u4ef6\uff0c\uff08\u9ed8\u8ba4\uff09\u4e4b\u95f4\u4ee5\u7a7a\u683c\u5206\u9694\u3002</li> <li><code>$^</code>\uff1a \u6307\u4ee3\u6240\u6709\u524d\u7f6e\u6761\u4ef6\u3002\u6bd4\u5982\uff0c\u89c4\u5219\u4e3a <code>t: p1 p2</code>\uff0c\u90a3\u4e48 <code>$^</code> \u5c31\u6307\u4ee3 <code>p1 p2</code> \u3002</li> </ol>"},{"location":"tools/make/#_3","title":"\u5339\u914d\uff08%\uff09","text":"<p><code>%</code> \u5339\u914d\u4efb\u610f\u4e2a\u5b57\u7b26\uff0c\u662f make \u7279\u6709\u7684\u5339\u914d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u91cc\u6ca1\u6709\u3002</p> <p>\u6709\u5f88\u591a\u535a\u5ba2\u4f1a\u5355\u72ec\u62ce\u51fa\u6765 <code>%</code> \u8fd9\u4e2a\u7b26\u53f7\uff0c\u8bb2\u5b83\u7528\u6765\u5339\u914d\u4efb\u610f\u4e2a\u5b57\u7b26\u3002\u7136\u540e\u5c31\u5f88\u5bb9\u6613\u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 <code>*</code> \u641e\u6df7\uff0c\u641e\u4e0d\u6e05\u695a\u5b83\u4eec\u7684\u533a\u522b\u662f\u4ec0\u4e48\u3002\u53ef\u4ee5\u770b\u8fd9\u4e2a\u6765\u8fa8\u6790\u3002</p> <p>\u6309\u7167\u624b\u518c\uff0c\u4e0d\u59a8\u628a <code>%</code> \u770b\u6210\u4e00\u4e2a\u8bed\u6cd5\u7ed3\u6784\u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4e5f\u5c31\u662f static pattern rules\uff0c\u9759\u6001\u5339\u914d\u6a21\u5f0f\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>targets ...: target-pattern: prereq-patterns ...\nrecipe\n</code></pre></p> <p>\u5148\u6765\u770b\u4e2a\u4f8b\u5b50\u5427\uff1a <pre><code>objects = foo.o bar.o\n\nall: $(objects)\n$(objects): %.o: %.c\n    $(CC) -c $(CFLAGS) $&lt; -o $@\n</code></pre></p> <p>\u89c4\u5219\u5c31\u662f\u9996\u5148 target-pattern\uff08\u5373 <code>%.o</code>\uff09 \u5728 target\uff08\u5373 <code>$(objects)</code>\uff09 \u91cc\u9762\u627e\u5230\u5bf9\u5e94\u7684\u6a21\u5f0f\uff0c\u5b58\u50a8\u5230 <code>%</code> \u4e2d\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u6a21\u5f0f\u66ff\u6362 prereq-patterns\uff08\u5373 <code>%.c</code>\uff09 \u4e2d\u7684 <code>%</code>\u3002\u8fd9\u4e2a\u8bed\u6cd5\u4e00\u4e0b\u5b50\u53ef\u4ee5\u5904\u7406\u5f88\u591a\u6587\u4ef6\uff0c\u6545\u800c\u5907\u53d7\u6b22\u8fce\u3002</p> <p>\u5b9e\u9645\u4e5f\u5f88\u5e38\u7528\u7684\u662f\u7528 <code>%</code> \u7f16\u5199 implicit rules\uff08\u9690\u5f0f\u89c4\u5219\uff09\u4e2d\u7684\u6a21\u5f0f\u89c4\u5219\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u7f16\u8bd1\u6587\u4ef6\u5939\u91cc\u7684\u6240\u6709 c \u6587\u4ef6 <pre><code>all:$(subst .c,.o,$(wildcard *.c))\n%.o:%.c\n    gcc -o $@ $&lt;\n</code></pre> \u6ce8\u610f\uff0c\u6b64\u65f6 <code>%</code> \u662f\u4ece\u4e0a\u4e0b\u6587\u5bfb\u627e\uff0c\u4e5f\u5c31\u662f\u4e00\u5b9a\u8981\u4e0a\u4e0b\u6587\u51fa\u73b0\u8fc7\u624d\u80fd\u5339\u914d\u3002\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u5220\u9664 <code>all:$(subst .c,.o,$(wildcard *.c))</code> \u4f1a\u5bfc\u81f4 targets not found \u8fd9\u4e2a\u7f16\u8bd1\u9519\u8bef\u7684\u539f\u56e0\u3002</p> <p>\u5176\u5b9e\u603b\u7ed3\u8d77\u6765\u5f88\u7b80\u5355, \u5c31\u662f\u4ece Makefile \u6587\u4ef6\u7684\u5c55\u5f00\u4e4b\u540e\u7684\u4e0a\u4e0b\u6587\u8fdb\u884c\u5bfb\u627e.</p>"},{"location":"tools/make/#prony-targets","title":"\u4f2a\u76ee\u6807 \uff08prony targets\uff09","text":"<p>\u4f2a\u76ee\u6807\u540c\u6837\u4e5f\u662f target\uff0c\u6700\u5927\u7684\u4e0d\u540c\u662f\u5b83\u4e0d\u751f\u6210\u65b0\u7684\u6587\u4ef6\uff0c\u6bd4\u5982\u4e00\u5f00\u59cb\u63d0\u5230\u7684 <code>clean</code>\u3002</p> <p>\u4f2a\u76ee\u6807\u6709\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a</p> <ol> <li> <p>\u6ca1\u6709\u4f9d\u8d56\uff08prerequisites\uff09\uff0c\u6bd4\u5982\u7ecf\u5178\u7684 clean \u4f8b\u5b50\uff1a     <pre><code>.PHONY : clean\nclean :\n    rm *.o temp\n</code></pre></p> <p>\u6b64\u65f6\u76ee\u6807\u5c31\u662f\u5355\u7eaf\u7684\u6267\u884c shell \u8bed\u53e5\u3002\u6ce8\u610f\uff0c<code>.PHONY : clean</code> \u663e\u5f0f\u58f0\u660e\u67d0\u4e00\u4e2a\u76ee\u6807\u662f\u4f2a\u76ee\u6807\u3002\u4e0d\u58f0\u660e\u4e5f\u53ef\u4ee5\uff0c\u4e00\u822c make \u80fd\u591f\u81ea\u52a8\u63a8\u5bfc\u51fa\u6765\u3002</p> </li> <li> <p>\u4f9d\u8d56\u4e5f\u662f targets\uff0c\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a     <pre><code>all : prog1 prog2 prog3\n.PHONY : all\n\nprog1 : prog1.o utils.o\n    cc -o prog1 prog1.o utils.o\n\nprog2 : prog2.o\n    cc -o prog2 prog2.o\n\nprog3 : prog3.o sort.o utils.o\n    cc -o prog3 prog3.o sort.o utils.o\n</code></pre></p> <p>\u6b64\u65f6\uff0c<code>all</code> \u5c31\u662f\u4e00\u4e2a\u4f2a\u76ee\u6807\uff0cmake \u4f1a\u5b9e\u73b0\u540e\u9762\u4f5c\u4e3a\u4f9d\u8d56\u7684\u591a\u4e2a\u76ee\u6807\u3002\u5b9e\u9645\u4e0a\uff0c\u4ecb\u7ecd <code>%</code> \u7684\u90a3\u4e00\u8282\uff0c\u4e3e\u7684\u4f8b\u5b50\u4e2d\u7684 <code>all</code> \u90fd\u662f\u7c7b\u4f3c\u7684\u4f2a\u76ee\u6807\u3002</p> </li> </ol>"},{"location":"tools/make/#functions","title":"\u51fd\u6570 \uff08functions\uff09","text":"<p>\u51fd\u6570\u4e5f\u50cf\u662f\u4e00\u79cd\u53d8\u91cf\uff0c\u683c\u5f0f\u5982\u4e0b <pre><code>$(&lt;function&gt; &lt;arguments&gt;)\n</code></pre></p> <p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u89c1\u7684\u51fd\u6570</p> <pre><code>$(subst from, to, text)\n# \u5c06 text \u4e2d\u7684 from \u90fd\u66ff\u6362\u6210 to\n$(subst ee,EE,feet on the street)\n# fEEt on the strEEt\n</code></pre> <pre><code>$(patsubst pattern,replacement,text)\n# \u641c\u7d22 text \u4e2d\u4ee5\u7a7a\u683c\u5206\u5f00\u7684\u5355\u8bcd, \u5c06\u7b26\u5408 pantern \u7684\u5b50\u4e32\u66ff\u6362\u4e3a replacement. \u5e38\u7528\u6a21\u5f0f\u901a\u914d\u7b26 % \u6765\u5339\u914d\n\n$(patsubst %.c,%.o,x.c.c bar.c)\n# x.c.o bar.o\n</code></pre> <pre><code>$(filter pattern...,text)\n# \u53ea\u4fdd\u7559 text \u4e2d\u7b26\u5408 pattern \u7684\u5b50\u4e32.\n\nsources := foo.c bar.c baz.s ugh.h\nfoo: $(sources)\ncc $(filter %.c %.s,$(sources)) -o foo\n# $(filter %.c %.s,$(sources)) =  foo.c bar.c baz.s\n</code></pre> <pre><code>$(wildcard pattern)\n# \u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u5339\u914d\u6240\u6709\u7b26\u5408\u6a21\u5f0f\u7684\u6587\u4ef6\u540d\u5e76\u8fd4\u56de\u4f7f\u7528\u7a7a\u683c\u5206\u5f00\u7684\u5b57\u7b26\u4e32\n\nobjects := $(patsubst %.c,%.o,$(wildcard *.c))\nfoo : $(objects)\ncc -o foo $(objects)\n# \u5229\u7528 make \u7684\u9690\u542b\u89c4\u5219\u6765\u7f16\u8bd1 C \u7684\u6e90\u6587\u4ef6\n</code></pre> <pre><code># \u4e00\u7cfb\u5217\u6587\u4ef6\u540d\u64cd\u4f5c\n\n$(dir names...)\n# \u8fd4\u56de\u6587\u4ef6\u7684\u76ee\u5f55\u540d\n$(dir src/foo.c hacks)\n# src/ ./\n\n$(notdir names...)\n# \u8fd4\u56de\u6587\u4ef6\u53bb\u6389\u76ee\u5f55\u90e8\u5206\u540e\u7684\u540d\u79f0. \u82e5\u6587\u4ef6\u662f\u76ee\u5f55, \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32.\n$(notdir src/foo.c hacks ./lib)\n# foo.c hacks\n\n\n$(suffix names...)\n# \u8fd4\u56de\u6587\u4ef6\u7684\u540e\u7f00\u540d. \u82e5\u6ca1\u6709\u540e\u7f00, \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32.\n$(suffix src/foo.c src-1.0/bar.c hacks)\n# .c .c\n\n$(basename names...)\n# \u8fd4\u56de\u6587\u4ef6\u9664\u540e\u7f00\u540d\u4ee5\u5916\u7684\u90e8\u5206.\n$(basename src/foo.c src-1.0/bar hacks)\n# src/foo src-1.0/bar hacks\n</code></pre>"},{"location":"tools/make/#_4","title":"\u5206\u652f\u8bed\u53e5","text":"<p>\u5f88\u50cf c \u8bed\u8a00\u7684\u6761\u4ef6\u5b8f\u8bed\u53e5\uff0c\u4e5f\u662f\u8bfb\u53d6 <code>makefile</code> \u6587\u4ef6\u5c31\u505a\u4e86\u5224\u65ad\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a <pre><code>libs_for_gcc = -lgnu\nnormal_libs =\n\nifeq ($(CC),gcc)\n    libs=$(libs_for_gcc)\nelse\n    libs=$(normal_libs)\nendif\n\nfoo: $(objects)\n    $(CC) -o foo $(objects) $(libs)\n</code></pre></p>"},{"location":"tools/make/#_5","title":"\u7b49\u53f7\u8fa8\u6790\u4e0e\u8ffd\u52a0","text":""},{"location":"tools/make/#_6","title":"\u547d\u4ee4\u884c","text":"<p>\u5728\u8fd0\u884c make \u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6dfb\u52a0\u547d\u4ee4\u884c\u53c2\u6570\u3002</p> <p>-n\uff1a\u53ea\u6253\u5370\u6240\u6709\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u5374\u5e76\u4e0d\u6267\u884c\u3002\u8fd9\u4e2a\u5728\u67e5\u770b Makefile \u5728\u505a\u4ec0\u4e48\u7684\u65f6\u5019\u7279\u522b\u6709\u7528</p> <p>-B\uff1a\u65e0\u6761\u4ef6\u6267\u884c\u6240\u6709\u547d\u4ee4</p>"},{"location":"tools/make/#_7","title":"\u53c2\u8003","text":"<p>\u522b\u4eba\u7684\u535a\u5ba2\uff1ahttps://www.ruanyifeng.com/blog/2015/02/make.html</p> <p>\u5b98\u65b9\u6587\u6863\uff1ahttps://www.gnu.org/software/make/manual/</p> <p>\u4e00\u4efd\u4e2d\u6587\u53c2\u8003\u6559\u7a0b\uff1ahttps://seisman.github.io/how-to-write-makefile/index.html</p> <p>\u53e6\u5916\uff0c\u5b9e\u9645\u4e0a\u4f60\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f88\u591a\u6559\u7a0b\u90fd\u662f\u5927\u91cf\u53c2\u8003\u5b98\u65b9\u6587\u6863\u7684\uff0c\u6240\u4ee5\u80fd\u770b\u5b98\u65b9\u6587\u6863\u5c31\u770b\u5b98\u65b9\u6587\u6863\u5427\u3002\u8fd9\u5c31\u53eb\u505a RTFM \u5427\uff08\uff09</p>"},{"location":"tools/make/#emoji-in-markdown","title":"Emoji in Markdown","text":"<p>markdown \u600e\u4e48\u4f7f\u7528 emoji \u5462\uff1f</p> <p>\u6559\u7a0b\uff1a</p> <p>https://markdown.com.cn/extended-syntax/emoji.html</p> <p>\u6240\u6709\u7684 emoji \u96c6\u5408\uff1a</p> <p>https://gist.github.com/rxaviers/7360908</p> <p>https://awes0mem4n.github.io/emojis-github.html</p> <p>\u56e0\u4e3a\u7f51\u7ad9\u5f04\u5f97\u5f88\u597d\u770b\uff08\u597d\u770b\u5417\uff0c\u7f3a\u9677\u633a\u591a\u7684\uff09\uff0c\u6240\u4ee5\u60f3\u628a\u6587\u6863\u4e5f\u5f04\u5f97\u597d\u770b\u4e00\u70b9\uff1b\u4f46\u662f\u5f88\u9ebb\u70e6\uff0c\u6bd4\u5982\u8bf4\u82f1\u6587\u4e0e\u6570\u5b57\u548c\u4e2d\u6587\u8981\u7a7a\u683c\uff1b\u6587\u6863\u6700\u597d\u53ea\u4f7f\u7528\u4e8c\u4e09\u56db\u7ea7\u6807\u9898\uff0c\u56e0\u4e3a\u4e94\u7ea7\u6807\u9898\u6bd4\u6b63\u6587\u8fd8\u5c0f\uff1b\u719f\u7ec3\u4f7f\u7528 markdown\uff0c\u6587\u6863\u7684\u7ed3\u6784\u600e\u4e48\u5b89\u6392\uff0c\u4ec0\u4e48\u65f6\u5019\u7528\u4ee3\u7801\u7b26\u53f7\uff0c\u6587\u7ae0\u591a\u4e86\u4ee5\u540e\u600e\u4e48\u6392\u7f51\u7ad9\u7684\u7ed3\u6784\uff0c\u7b49\u7b49\uff0c\u73b0\u5728\u5c31\u5f88\u665a\u4e86\uff0c\u53ea\u662f\u5927\u81f4\u4e86\u89e3\u4e86 make\uff0c\u8fd8\u6709\u4e00\u4e9b\u5185\u5bb9\u6ca1\u8865\u5168\uff0c\u5f3a\u8feb\u75c7\u72af\u4e86\u5c31\u8981\u547d\u3002\u6211\u4ee5\u540e\u8981\u653e\u98de\u81ea\u6211\u4e86\uff0c\u4e0d\u4f1a\u9075\u5b88\u89c4\u8303\u4e86\uff0c\u54c8\u54c8\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u505a\u4e00\u4e2a\u7f51\u7ad9\u5462\uff0c\u4e0d\u4ec5\u662f\u6574\u7406\u77e5\u8bc6\uff0c\u4e5f\u5e0c\u671b\u6709\u4e00\u4e2a\u5730\u65b9\u80fd\u591f\u201c\u8868\u8fbe\u201d\u3002\u4f46\u662f\uff0c\u6211\u5176\u5b9e\u5e76\u6ca1\u6709\u4ec0\u4e48\u52c7\u6c14\uff0c\u5c55\u793a\u81ea\u5df1\u7684\u611f\u53d7\uff0c\u54ea\u6015\u662f\u4ec5\u4ec5\u662f\u7ed9\u81ea\u5df1\u770b\uff0c\u54ea\u6015\u4ec5\u4ec5\u662f\u5199\u51fa\u6765\u3002\u6240\u4ee5\u5927\u90e8\u5206\u7684\u7b14\u8bb0\u672c\uff0c\u80af\u5b9a\u662f\u4ee5\u201c\u8bf4\u660e\u201d\u4e3a\u4e3b\uff0c\u5426\u5219\u9003\u4e0d\u6389\u88ab\u6211\u6254\u6389\u7684\u547d\u8fd0\u3002\u5efa\u4e00\u4e2a\u516c\u4f17\u53f7\uff0c\u6709\u4eba\u5728\u770b\uff0c\u6211\u600e\u4e48\u5199\u60f3\u6cd5\u5462\uff1f\u5efa\u4e00\u4e2a\u7f51\u7ad9\u603b\u6ca1\u6709\u4eba\u770b\u4e86\u5427\uff01\u6211\u4e5f\u9700\u8981\u8868\u8fbe\uff0c\u4e0d\u7136\u6211\u4f1a\u7a92\u606f\u3002\u6211\u7684\u8868\u8fbe\u4e0d\u4f1a\u591a\u4e48\u6709\u903b\u8f91\uff0c\u6211\u4e5f\u4e0d\u4f1a\u50cf\u5199\u8bae\u8bba\u6587\u6216\u8005\u8bf4\u660e\u6587\u90a3\u6837\u6784\u5efa\u903b\u8f91\uff0c\u5c31\u662f\u4e71\u5199\u4e00\u901a\u3002\u5e0c\u671b\u4ee5\u540e\u8fd9\u4e2a\u7f51\u7ad9\u4e0d\u4f1a\u53d8\u6210\u7eaf\u201c\u8bf4\u660e\u201d\u7684\u535a\u5ba2\u5427\uff0c\u54c8\u54c8\u3002</p>"},{"location":"tools/shell/","title":"Shell","text":""},{"location":"tools/shell/#_1","title":"\u5e38\u7528\u6307\u4ee4","text":"<p>\u8fd9\u91cc\u6574\u7406 shell \u7684\u6307\u4ee4\u811a\u672c\u7b49\u3002</p> <p>find \u4f7f\u7528: <pre><code>find . -name \"&lt;filename&gt;\" # \u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u67e5\u627e\u6307\u5b9a\u6587\u4ef6\u540d\n</code></pre></p> <p>grep \u771f\u7684\u592a\u5e38\u7528\u4e86\uff1a <pre><code>grep -r \"&lt;you want&gt;\" . # \u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u641c\u7d22\u6307\u5b9a\u5b57\u7b26\u4e32\u8f93\u51fa\u7684\u4f4d\u7f6e\n</code></pre></p> <p>\u89e3\u538b\uff1a</p> <pre><code>tar  -zcvf  xx666              # \u538b\u7f29\ntar  -zxvf  fenci.py.tar.gz -C output_dir   # \u89e3\u538b\ngzip -d pythontab.gz\n\nzip -r archive.zip folder_name #\u538b\u7f29\u6587\u4ef6\u5939\nunzip archive.zip -d /path/to/destination #\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55\nunzip -l archive.zip #\u67e5\u770b\u6587\u4ef6\u4e0d\u89e3\u538b\n</code></pre>"},{"location":"tools/shell/#shell_1","title":"shell \u811a\u672c","text":"<p>\u53c2\u8003\u8d44\u6599:</p> <p>\u9e1f\u54e5\u79c1\u623f\u83dc\u7b2c\u5341\u4e8c\u7ae0</p>"},{"location":"tools/shell/#1","title":"1. \u7b2c\u4e00\u4e2a\u811a\u672c","text":"<p>\u5148\u6765\u770b\u7b2c\u4e00\u4e2a shell \u811a\u672c(script) \u5427. <pre><code>#!/bin/bash\n# Program:\n#       This program shows \"Hello World!\" in your screen.\n# History:\n# 2015/07/16    VBird   First release\nPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\nexport PATH\necho -e \"Hello World! \\a \\n\"\nexit $?\n</code></pre></p> <p>\u4ecb\u7ecd\u4e00\u4e0b\u811a\u672c\u7684\u7ed3\u6784:</p> <ol> <li>\u7b2c\u4e00\u884c <code>#!/bin/bash</code> \u5728\u5ba3\u544a\u8fd9\u4e2a\u811a\u672c\u4f7f\u7528\u7684 shell \u540d\u79f0. \u540e\u9762\u7684 # \u662f\u6ce8\u91ca\u7528\u9014.</li> <li>\u8bbe\u5b9a\u597d\u53d8\u91cf\u7684\u503c, \u5982 PATH \u4e0e LANG.</li> <li>\u4e3b\u8981\u7a0b\u5f0f: \u8fd9\u4e2a\u4f8b\u5b50, \u5c31\u662f echo \u90a3\u4e00\u884c</li> <li>\u6267\u884c\u7ed3\u679c: $? \u662f\u6267\u884c\u7ed3\u679c, \u82e5\u6210\u529f\u6267\u884c, \u5219\u8fd4\u56de 0.</li> </ol>"},{"location":"tools/shell/#2","title":"2. \u4e00\u4e9b\u4f8b\u5b50","text":""},{"location":"tools/shell/#21","title":"2.1 \u8f93\u5165\u8f93\u51fa","text":"<pre><code>#!/bin/bash\nPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\nexport PATH\n\nread -p \"Please input your first name: \" firstname\nread -p \"Please input your last name:  \" lastname\necho -e \"\\nYour full name is: ${firstname} ${lastname}\"\n</code></pre> <p>\u6ce8\u610f: read \u7528\u6cd5, \u8bfb\u53d6\u7528\u6237\u8f93\u5165, \u5e76\u5b58\u50a8\u5230\u53d8\u91cf\u4e2d. \u53ef\u9009\u62e9 -p \u9009\u9879\u53ef\u8ddf\u63d0\u793a\u5b57\u7b26\u4e32. <code>read [-p] var</code></p>"},{"location":"tools/shell/#22-date","title":"2.2 \u5229\u7528 date","text":"<p>\u5efa\u7acb\u51e0\u4e2a\u7a7a\u6587\u4ef6, \u6587\u4ef6\u540d\u4ee5\u7528\u6237\u8f93\u5165\u4e3a\u5f00\u5934, \u4ee5\u4eca\u5929/\u6628\u5929/\u524d\u5929\u7684\u540d\u79f0\u7ed3\u5c3e.</p> <pre><code>#!/bin/bash\nPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\nexport PATH\n\necho -e \"I will use 'touch' command to create 3 files.\" # \u7d14\u7cb9\u986f\u793a\u8cc7\u8a0a\nread -p \"Please input your filename: \" fileuser         # \u63d0\u793a\u4f7f\u7528\u8005\u8f38\u5165\n\nfilename=${fileuser:-\"filename\"}\n\ndate1=$(date --date='2 days ago' +%Y%m%d)  # \u524d\u5169\u5929\u7684\u65e5\u671f\ndate2=$(date --date='1 days ago' +%Y%m%d)  # \u524d\u4e00\u5929\u7684\u65e5\u671f\ndate3=$(date +%Y%m%d)                      # \u4eca\u5929\u7684\u65e5\u671f\nfile1=${filename}${date1}                  # \u5e95\u4e0b\u4e09\u884c\u5728\u8a2d\u5b9a\u6a94\u540d\nfile2=${filename}${date2}\nfile3=${filename}${date3}\n\ntouch \"${file1}\"                           # \u5e95\u4e0b\u4e09\u884c\u5728\u5efa\u7acb\u6a94\u6848\ntouch \"${file2}\"\ntouch \"${file3}\"\n</code></pre> <p>\u4e0a\u9762\u7684\u811a\u672c\u6709\u51e0\u4e2a\u8981\u6ce8\u610f\u7684\u70b9:</p> <ol> <li><code>filename=${fileuser:-\"filename\"}</code>: <code>:-</code> \u7b26\u53f7\u4e3a\u53d8\u91cf\u63d0\u4f9b\u9ed8\u8ba4\u503c. \u5982\u679c\u524d\u9762\u7684\u53d8\u91cf\u672a\u8bbe\u5b9a\u6216\u8005\u662f\u7a7a\u5b57\u7b26\u4e32, \u90a3\u4e48\u5c31\u7528\u540e\u9762\u7684\u5185\u5bb9\u6765\u8d4b\u503c.</li> <li><code>date</code> \u6307\u4ee4. \u5f88\u7b80\u5355, \u76f4\u63a5\u4f7f\u7528\u83b7\u5f97\u5f53\u524d\u65f6\u95f4, \u4e5f\u53ef\u4ee5\u6dfb\u52a0\u9009\u9879\u8bbe\u7f6e\u7279\u5b9a\u65e5\u671f\u7b49,  <code>+%Y%m%d</code> \u8bbe\u7f6e\u65e5\u671f\u683c\u5f0f. \u7528\u6cd5: <code>date [OPTION]... [+FORMAT]</code></li> <li><code>touch</code> \u6307\u4ee4: \u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728, \u5c31\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4ee5\u8fd9\u4e2a\u6587\u4ef6\u540d\u547d\u540d\u7684\u7a7a\u6587\u4ef6; \u53cd\u4e4b\u5219\u7528\u5f53\u524d\u7684\u65f6\u95f4\u66f4\u65b0\u8fd9\u4e2a\u6587\u4ef6\u7684\u8bbf\u95ee\u548c\u4fee\u6539\u65f6\u95f4.</li> </ol>"},{"location":"tools/shell/#23-pi","title":"2.3 \u8fd0\u7b97 pi","text":"<pre><code>#!/bin/bash\n\nPATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\nexport PATH\n\necho -e \"This program will calculate pi value. \\n\"\necho -e \"You should input a float number to calculate pi value.\\n\"\nread -p \"The scale number (10~10000) ? \" checking\nnum=${checking:-\"10\"}\n\necho -e \"Starting calculate pi value.  Be patient.\"\ntime echo \"scale=${num}; 4*a(1)\" | bc -lq\n</code></pre> <p>\u8fd9\u91cc\u7684\u65b0\u77e5\u8bc6\u662f\u8fd0\u7b97. bash \u9ed8\u8ba4\u652f\u6301\u6574\u6570\u7684\u8fd0\u7b97, <code>var=$(expression)</code>, \u6bd4\u5982 <code>echo $((13%3))</code>. \u5982\u679c\u662f\u5c0f\u6570\u8fd0\u7b97, \u5c31\u8981\u7528 bc \u6307\u4ee4\u6765\u8fd0\u7b97, \u6bd4\u5982 <code>echo \"123.123*55.9\" | bc</code>. \u4e0a\u9762\u7684\u811a\u672c\u5c31\u662f\u5229\u7528 bc \u6307\u4ee4\u6765\u8ba1\u7b97 pi \u7684\u540e scale \u4f4d\u5c0f\u6570.</p> <p>\u6700\u540e, time \u6307\u4ee4\u4f1a\u663e\u793a\u540e\u9762\u6307\u4ee4\u7684\u8fd0\u884c\u65f6\u95f4.</p>"},{"location":"tools/shell/#3","title":"3. \u51e0\u79cd\u6267\u884c\u65b9\u5f0f","text":"<p>shell \u811a\u672c\u6709\u597d\u51e0\u79cd\u6267\u884c\u65b9\u5f0f, \u4e00\u79cd\u662f\u50cf\u524d\u9762\u90a3\u6837, \u76f4\u63a5\u8fd0\u884c\u811a\u672c, <code>bash script.sh</code> \u6216 <code>chmod u+x script.sh; ./script.sh</code>; \u8fd8\u6709\u4e00\u79cd\u5c31\u662f\u4f7f\u7528 <code>source</code> \u547d\u4ee4\u6765\u6267\u884c\u811a\u672c, <code>source script.sh</code>.</p> <p>\u4e24\u79cd\u65b9\u5f0f\u7684\u5dee\u522b\u662f, \u76f4\u63a5\u8fd0\u884c\u7684\u811a\u672c, \u662f\u5728\u4e00\u4e2a\u65b0\u7684\u5b50 shell \u4e2d\u6267\u884c\u7684, \u811a\u672c\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570\u53ea\u6709\u5728\u811a\u672c\u6267\u884c\u7684\u51fd\u6570\u5b58\u5728, \u6267\u884c\u5b8c\u540e, \u5b50 shell \u5173\u95ed, \u8fd9\u4e9b\u53d8\u91cf, \u51fd\u6570\u548c\u811a\u672c\u4e2d\u7684\u73af\u5883\u6539\u53d8\u90fd\u4e0d\u5b58\u5728\u4e86. \u800c\u4f7f\u7528 <code>source</code> \u547d\u4ee4, \u5219\u662f\u5728\u5f53\u524d shell \u73af\u5883\u4e2d\u6267\u884c, \u8fd9\u610f\u5473\u7740\u811a\u672c\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570\u4f1a\u5728\u811a\u672c\u6267\u884c\u5b8c\u540e\u4ecd\u7136\u5b58\u5728, \u53ef\u4ee5\u5728\u5f53\u524dshell\u4e2d\u4f7f\u7528. \u811a\u672c\u4e2d\u6709\u6539\u53d8\u73af\u5883\u7684\u547d\u4ee4(\u5982cd, export\u7b49), \u8fd9\u4e9b\u6539\u53d8\u4e5f\u4f1a\u5f71\u54cd\u5230\u5f53\u524dshell.</p> <p>\u56e0\u6b64, \u5982\u679c\u811a\u672c\u4e2d\u7684\u53d8\u91cf\u662f\u8981\u6301\u7eed\u4f7f\u7528\u7684\u8bdd, \u5c31\u8981\u4f7f\u7528 <code>source</code> \u547d\u4ee4\u6765\u52a0\u8f7d.</p>"},{"location":"tools/shell/#4","title":"4. \u7279\u6b8a\u53c2\u6570","text":"<p>\u5f53\u7136\u53ef\u4ee5\u5411\u811a\u672c\u4f20\u9012\u547d\u4ee4\u884c\u53c2\u6570\u4e86, \u5e76\u4e14\u5728\u811a\u672c\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d, \u8fd9\u4e9b\u547d\u4ee4\u884c\u53c2\u6570\u90fd\u4f1a\u88ab\u50a8\u5b58\u8d77\u6765. (\u524d\u9762\u7684\u4f8b\u5b50\u91cc\u7528 read \u6765\u8f93\u5165\u53c2\u6570\u8fd8\u662f\u7b28\u7b28\u7684).</p> <p>\u770b\u4e0b\u9762\u7684\u4f8b\u5b50: <pre><code>#!/bin/bash\n# add two numbers\ntotal=$(($1 + $2)) # \u8d4b\u503c\u7b49\u53f7\u4e0d\u8981\u7a7a\u683c, \u4e0d\u7136\u53d8\u91cf\u4f1a\u88ab\u5f53\u505a\u6307\u4ee4\u8fd0\u884c\necho \"a: $1\"\necho \"b: $2\"\necho \"a+b: ${total}\"\n</code></pre></p> <p>\u5728\u811a\u672c\u4e2d, <code>${num}</code> \u4ee3\u8868\u7b2c num \u4e2a\u547d\u4ee4\u884c\u53c2\u6570. num \u5927\u4e8e 10 \u5219\u5fc5\u987b\u7528\u5927\u62ec\u53f7, \u5426\u5219\u53ef\u7701\u7565. $0 \u4ee3\u8868\u7b2c 0 \u4e2a\u53d8\u91cf, \u5373\u811a\u672c\u7684\u8def\u5f84\u540d. \u540e\u9762\u5c31\u662f $1, $2, ... \u4f9d\u6b21\u7c7b\u63a8\u4e86.</p> <p>\u9664\u6b64\u4e4b\u5916, \u5728 bash \u4e2d\u6709\u5f88\u591a\u7279\u6b8a\u53d8\u91cf.</p> <ul> <li><code>$#</code>: \u547d\u4ee4\u884c\u53c2\u6570\u7684\u6570\u91cf</li> <li><code>$*</code>: \u5c06\u6240\u6709\u547d\u4ee4\u884c\u53d8\u91cf\u50a8\u5b58\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32, \u5404\u4e2a\u53d8\u91cf\u7528\u7a7a\u683c\u5206\u9694.</li> <li><code>$@</code>: \u5c06\u6240\u6709\u547d\u4ee4\u884c\u53d8\u91cf\u50a8\u5b58\u6210\u4e00\u4e2a\u6570\u7ec4</li> </ul> <p>\u770b\u4e0b\u9762\u7684\u4f8b\u5b50: <pre><code>#!/bin/bash\necho \"The script name is: $0\"\necho \"Total parameter number is: $#\"\n[ \"$#\" -lt 2 ] &amp;&amp; echo \"The number of parameter is less than 2.  Stop here.\" &amp;&amp; exit 0\necho \"The 1st parameter: ${1}\"\necho \"The 2nd parameter: ${2}\"\necho \"print \\$@: $@\"\necho \"print \\$*: $*\"\n\ncount=1\nfor param in \"$@\"\ndo\n    echo \"\\$@ Parameter #${count} = ${param}\"\n    count=$((${count}+1))\ndone\n\ncount=1\nfor param in \"$*\"\ndo\n    echo \"\\$* Parameter #${count} = ${param}\"\n    count=$((${count}+1))\ndone\n</code></pre></p> <p>\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f <code>bash param.sh 1x a2 sss</code></p> <p>\u8f93\u51fa: <pre><code>The script name is: param.sh\nTotal parameter number is: 3\nThe 1st parameter: 1x\nThe 2nd parameter: a2\nprint $@: 1x a2 sss\nprint $*: 1x a2 sss\n$@ Parameter #1 = 1x\n$@ Parameter #2 = a2\n$@ Parameter #3 = sss\n$* Parameter #1 = 1x a2 sss\n</code></pre></p> <p>\u6709\u51e0\u4e2a\u6ce8\u610f\u70b9:</p> <ol> <li><code>$var</code> \u548c <code>${var}</code> \u90fd\u8868\u793a\u83b7\u53d6\u53d8\u91cf <code>var</code> \u7684\u503c. \u6709\u65f6\u9700\u8981\u7528 <code>${var}</code> \u6765\u660e\u786e\u53d8\u91cf\u7684\u8fb9\u754c. <code>${var}</code> \u5f62\u5f0f\u8fd8\u652f\u6301\u53d8\u91cf\u6269\u5c55, \u5982\u524d\u9762\u7528\u5230\u7684 <code>${var:-default}</code>, \u4ee5\u53ca\u5b57\u7b26\u4e32\u66ff\u6362 <code>${var/old/new}</code></li> <li><code>$(command)</code> \u8bed\u6cd5\u7528\u4e8e\u547d\u4ee4\u66ff\u6362, \u6267\u884c\u62ec\u53f7\u4e2d\u7684\u547d\u4ee4, \u5e76\u5c06\u8f93\u51fa\u66ff\u6362\u5230\u539f\u4f4d\u7f6e, \u5982 <code>var=\"Hello world\"; length=$(echo \"$var\" | wc -c);echo $length</code> \u5c06\u8f93\u51fa\u53d8\u91cf <code>var</code> \u7684\u957f\u5ea6</li> <li><code>$((expression))</code> \u7528\u4e8e\u7b97\u672f\u8fd0\u7b97(\u53ea\u652f\u6301\u6574\u6570), \u5982 <code>a=5;b=10;sum=$(($a+$b));echo $sum</code> \u5c06\u8f93\u51fa <code>a+b</code> \u7684\u503c. <code>$[expression]</code> \u662f\u5b83\u7684\u8fc7\u65f6\u5f62\u5f0f.</li> <li><code>${var}</code> \u548c <code>\"${var}\"</code> \u7684\u533a\u522b: \u5927\u591a\u6570\u60c5\u51b5\u7b49\u4ef7, \u4f46\u662f\u5982\u679c <code>${var}</code> \u5305\u542b\u7a7a\u683c, \u90a3 <code>${var}</code> \u4f1a\u81ea\u52a8\u5c06\u8fd9\u4e2a\u53c2\u6570\u5206\u6210\u591a\u4e2a\u53c2\u6570, \u800c <code>\"${var}\"</code> \u5219\u4fdd\u7559\u539f\u6765\u7684\u6574\u4e2a\u53c2\u6570. \u4e0d\u59a8\u5c06\u4e0a\u9762\u7684 for \u5faa\u73af\u4e2d\u7684 <code>$@</code> \u6362\u6210 <code>$*</code>, \u4f1a\u53d1\u73b0\u5f97\u5230\u4e00\u6837\u7684\u7ed3\u679c.</li> </ol> <p>TODO: \u7ed3\u6784\u5316\u8bed\u53e5 TODO: \u51fd\u6570 TODO: \u8c03\u8bd5</p>"},{"location":"tools/ssh/","title":"\u7f51\u7edc\u5de5\u5177","text":""},{"location":"tools/ssh/#ssh","title":"ssh","text":"<p>ssh \u514d\u5bc6\u767b\u5f55\u6b65\u9aa4\uff1a</p> <p>\u5728 <code>.ssh</code> \u76ee\u5f55\u4e0b\u8f93\u5165 <code>ssh-keygen</code> \u6307\u4ee4\uff0c\u4f9d\u63d0\u793a\u5efa\u7acb\u597d\u516c\u94a5\u548c\u79c1\u94a5\u3002\u516c\u94a5\u662f <code>.pub</code> \u540e\u7f00\u540d\u7684\u6587\u4ef6\u3002\u5c06\u516c\u94a5\u91cc\u7684\u5185\u5bb9\u62f7\u8d1d\u5230\u8fdc\u7a0b\u670d\u52a1\u5668 <code>.ssh</code> \u76ee\u5f55\u4e0b\u7684 <code>authorized_keys</code> \u6587\u4ef6\uff0c\u5c31\u53ef\u4ee5\u514d\u5bc6\u767b\u5f55\u4e86\u3002\u5982\u679c\u662f vscode\uff0c\u518d\u6dfb\u52a0 <code>IdentityFile</code> \u7684\u914d\u7f6e\uff0c\u662f\u79c1\u94a5\u5bf9\u5e94\u7684\u6587\u4ef6\u3002</p> <p>\u5728 mobaxterm \u4e2d\uff0c\u5219\u76f4\u63a5\u914d\u7f6e <code>Use Private Key</code> \u5373\u53ef\u3002\u5982\u679c\u8981\u914d\u7f6e\u8df3\u677f\u673a\uff0c\u5728\u6dfb\u52a0\u65f6\u7684 Network settings \u4e2d\u914d\u7f6e\u3002</p> <p>\u8981\u8fde\u63a5\u5230 github \u4e5f\u5f88\u7b80\u5355\uff0c\u5c06\u4e0a\u9762\u751f\u6210\u7684\u516c\u94a5\u5728 github \u7684 setting \u4e2d\u6dfb\u52a0\u3002github \u7684\u670d\u52a1\u5668\u5c31\u6709\u4e86\u6211\u4eec\u7684\u516c\u94a5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 ssh \u534f\u8bae\u6765\u514b\u9686\u9879\u76ee\u4e86\u3002</p>"},{"location":"tools/vim/","title":"Vim","text":"<p>\u624b\u518c\u91cc\u9762\u4e1c\u897f\u592a\u591a\u4e86\u653e\u4e0d\u4e0b\u4e86\uff0cVim \u672c\u8eab\u4e1c\u897f\u5c31\u5f88\u591a\uff0c\u62ff\u51fa\u6765\u5907\u5fd8\u4e00\u4e0b\u4e5f\u53ef\u4ee5\u3002</p>"},{"location":"tools/vim/#vim_1","title":"Vim \u57fa\u672c\u64cd\u4f5c","text":""},{"location":"tools/vim/#_1","title":"\u6742\u4e03\u6742\u516b","text":"<p>\u5728 Vim \u4e2d\uff0c \u547d\u4ee4\u4f1a\u589e\u52a0\u5f53\u524d\u5149\u6807\u4e0b\u7684\u6570\u5b57\u3002"},{"location":"tools/vim/#_2","title":"\u66ff\u6362","text":"<ul> <li><code>:s /old/new/ gc</code> \u5728\u4e00\u884c\u5185\u7528 <code>new</code> \u66ff\u6362 <code>old</code>\uff0c<code>g</code> \u8868\u793a\u5bf9\u4e00\u6574\u884c\u5339\u914d\uff0c<code>c</code> \u8868\u793a\u66ff\u6362\u524d\u786e\u8ba4</li> <li><code>:%s /old/new/ gc</code> \u5bf9\u6574\u7bc7\u6587\u7ae0\u8fdb\u884c\u641c\u7d22\u3002</li> </ul> <p>\u5b57\u7b26\u5747\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u6bd4\u5982 <code>:%s/^/xxx/g</code> \u5c31\u662f\u5728\u6bcf\u4e00\u884c\u7684\u884c\u9996\u63d2\u5165xxx\uff0c<code>^</code>\u8868\u793a\u884c\u9996\uff0c<code>$</code>\u8868\u793a\u884c\u5c3e\u3002</p>"},{"location":"tools/vim/#_3","title":"\u5916\u90e8\u547d\u4ee4","text":"<p>https://zhuanlan.zhihu.com/p/56381336</p> <p>vim \u53ef\u4ee5\u6267\u884c\u5916\u90e8\u547d\u4ee4</p> <p>\u6700\u7b80\u5355\u7684 <code>:!</code> \u5c31\u53ef\u4ee5\u6267\u884c\u5916\u90e8\u547d\u4ee4\u4e86\u3002\u6bd4\u5982 <code>:!date</code> \u663e\u793a\u4eca\u5929\u65e5\u671f</p> <p><code>:read</code> \u547d\u4ee4\u53ef\u4ee5\u83b7\u5f97\u547d\u4ee4\u6267\u884c\u7684\u8f93\u51fa\u7ed3\u679c\uff0c\u65b0\u589e\u4e00\u884c\u63d2\u5165\u8be5\u7ed3\u679c\u3002\u5982 <code>:read!date</code></p> <p>\u6211\u6700\u5e38\u7528\u7684\u8fd8\u662f <code>:terminal</code>. \u76f4\u63a5\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u7ec8\u7aef</p> <p>\u6709\u7a7a\u770b\u770b https://www.zhihu.com/question/27478597/answer/2777381978</p>"},{"location":"tools/vscode/","title":"vscode \u6574\u7406","text":"<p>\u4e00\u4e2a\u662f\u5173\u4e8e C++ \u8001\u662f\u65e0\u6cd5\u8bc6\u522b\u7684\u95ee\u9898\uff0c\u90a3\u4e2a\u662f\u56e0\u4e3a clangd \u51b2\u7a81\u3002clangd \u7684\u914d\u7f6e\u592a\u9ebb\u70e6\uff0c\u4e0d\u60f3\u7528\uff0c\u53ea\u7528\u5fae\u8f6f\u7684 cpptool\uff0c\u90a3\u4e48\u5c31\u53bb\u8fd9\u4e2a\u63d2\u4ef6\u7684\u8bbe\u7f6e\u91cc\uff0c\u6253\u5f00 Intellsense \u9009\u9879\u5c31\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u4e86\u3002c \u8bed\u8a00\u7528 cmake \u7f16\u8bd1\u9879\u76ee\u3002</p> <p>https://blogcsdn.net/qq_64790377/article/details/137717991</p> <p>\u5982\u679c\u78b0\u5230\u65e0\u6cd5\u53f3\u952e\u6253\u5f00\u6587\u4ef6\u5939\u7684\u95ee\u9898\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u518d\u5b89\u88c5\u4e00\u904d vscode\uff0c\u5728\u5b89\u88c5\u9009\u9879\u91cc\u628a\u4ec0\u4e48\u90fd\u52fe\u4e0a\u3002</p>"},{"location":"website/github-pages/","title":"github pages\u642d\u5efa","text":""},{"location":"website/github-pages/#jekyll","title":"Jekyll","text":"<p>\u73b0\u5728\u6211\u7528 mkdocs \u6765\u90e8\u7f72\uff0c\u8fd9\u4e2a jekyll \u7684\u6559\u7a0b\u4e5f\u6ca1\u5565\u7528\u4e86\uff0c\u5c31\u7559\u4f5c\u7eaa\u5ff5\u5427\u3002</p> <p>\u4eca\u5929\uff08\u5e94\u8be5\u8bf4\u662f\u6628\u5929\uff09\u6298\u817e\u4e86\u5de8\u4e45\u600e\u4e48\u6837\u57fa\u4e8egithub pages\u548cJekyll\uff0c\u642d\u5efa\u4e00\u4e2a\u7f51\u9875\uff0c\u73b0\u5728\u7ec8\u4e8e\u57fa\u672c\u4e0a\u5dee\u4e0d\u591a\u5f04\u597d\u4e86\uff0c\u867d\u7136\u662f\u5f88\u7b80\u964b\u7684gitbook\u7684\u5f62\u5f0f\uff0c\u4e0d\u8fc7\u4e5f\u8db3\u591f\u7528\u4e86\u3002\u5176\u5b9e\u6211\u73b0\u5728\u8fd8\u662f\u4e0d\u77e5\u9053Jekyll\u662f\u4ec0\u4e48\uff0c\u4f46\u662f\u5b83\u80fd\u75282333.</p> <p>\u73b0\u5728\u60f3\u6574\u7406\u4e00\u4e0b\u5e94\u8be5\u600e\u4e48\u7528\uff0c\u4ee5\u514d\u4ee5\u540e\u5fd8\u8bb0\u4e86\u3002</p> <p>\u4e00\u3001\u65b0\u5efa\u4e00\u4e2agithub\u4ed3\u5e93\uff0c\u4ed3\u5e93\u7684\u540d\u5b57\u662f<code>username.github.io</code>\u3002</p> <p>\u4e8c\u3001\u4ece\u7f51\u4e0a\u627e\u4e00\u4e2a\u6a21\u677f\uff0c\u590d\u5236\u5230\u81ea\u5df1\u7684\u4ed3\u5e93\u91cc\u9762\u3002\u4ed3\u5e93\u7684\u7ed3\u6784\u770b\u8fd9\u4e2a\u7f51\u5740:\u76ee\u5f55\u7ed3\u6784 - Jekyll \u2022 \u7b80\u5355\u9759\u6001\u535a\u5ba2\u7f51\u7ad9\u751f\u6210\u5668 (jekyllcn.com)</p> <p>\u4e09\u3001<code>index.md</code> <code>readme.md</code>\u662f\u4e3b\u9875\u5185\u5bb9\u3002</p> <p>\u56db\u3001<code>_pages</code>\u6587\u4ef6\u5939\u91cc\u653e\u7f51\u9875</p> <p>\u8fd9\u4e2a\u5f00\u59cb\u7684\u683c\u5f0f\u633a\u91cd\u8981\u7684(\u5176\u5b9e\u5c31\u662f\u6587\u6863\u5c5e\u6027)\u3002 \u6bcf\u4e00\u4e2a\u7f51\u9875\u90fd\u5fc5\u987b\u6709\u6587\u6863\u5c5e\u6027\uff0c\u4e0d\u7136\u65e0\u6cd5\u663e\u793a\u3002 <pre><code>---\ntitle: github pages\u642d\u5efa\nauthor: Peter\ndate: 2023-07-03\ncategory: Jekyll\nlayout: post\n---\n</code></pre></p> <p>title\u5c31\u662f\u7f51\u9875\u7684\u540d\u79f0</p> <p>\u522b\u7684\u6ca1\u5565\u7528\uff0c\u4f46\u662f\u8981\u4fdd\u6301\u8fd9\u6837\u7684\u683c\u5f0f\u4e0d\u7136\u4f1a\u62a5\u9519</p> <p>\u4e94\u3001<code>_posts</code>\u6587\u4ef6\u5939\u5c31\u662f\u7528\u6765\u653e\u535a\u5ba2\u4e86\uff0c\u540d\u79f0\u8981\u6c42\u5fc5\u987b\u662f<code>xxxx-xx-xx-name.md</code>\uff0c\u91cc\u9762\u7684\u5f00\u5934\u4e5f\u662f\u5fc5\u987b\u6709\u6587\u6863\u5c5e\u6027\u3002\u5c5e\u6027<code>title</code>\u503c\u5c31\u662f\u8fd9\u7bc7\u535a\u5ba2\u7684\u6807\u9898\u4e86\u3002 <pre><code>---\ntitle: \u4e00\u5b9a\u8981\u8fd9\u6837\u5199\nauthor: Peter\ndate: 2021-08-10\ncategory: Jekyll\nlayout: post\n---\n</code></pre> \u4e0b\u9762\u7684\u5185\u5bb9\u7528markdown\u5199\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u516d\u3001\u7f51\u9875\u7684\u672c\u5730\u6d4b\u8bd5\u5177\u4f53\u770b\u8fd9\u4e2a\u7f51\u7ad9: Testing your GitHub Pages site locally with Jekyll - GitHub Docs </p> <p>\u6309\u7167\u4e0a\u9762\u7684\u5185\u5bb9\u88c5\u4e86\u4e00\u5927\u5806\u4e1c\u897f\u4ee5\u540e\uff0c\u4ee5\u540e\u8981\u672c\u5730\u6d4b\u8bd5\uff0c\u5c31\u53ea\u9700\u8981\uff1a \u5728\u7f51\u9875\u6587\u4ef6\u5939\u91cc\u6253\u5f00git bash \u7136\u540e<code>bundle install</code> \u7136\u540e<code>bundle exec jekyll serve</code> \u5c31\u53ef\u4ee5\u5728<code>http://localhost:4000</code>\u67e5\u770b\u7f51\u9875\u4e86\u3002</p> <p>\u4e03\u3001\u7f51\u9875URL\u7684\u914d\u7f6e\u5728<code>_config.yml</code>\u6587\u4ef6\u4e2d\uff0c\u8bb0\u5f97\u914d\u7f6e</p> <p>\u516b\u3001\u4ee5\u540e\u6bcf\u6b21\u5199\u5b8c\u535a\u5ba2\uff0c<code>git push</code>\u4e0a\u53bb\u5c31\u53ef\u4ee5\u66f4\u65b0\u4e86\uff0c\u975e\u5e38\u7684\u65b9\u4fbf\uff0c\u800c\u4e14\u53ef\u4ee5\u5728obsidian\u91cc\u5199\u535a\u5ba2\uff0c\u633a\u597d\u7684\u3002</p> <p>\u4e5d\u3001\u600e\u4e48\u63d2\u56fe\u7247</p> <p>\u770b\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5f88\u7b80\u5355\uff1ajekyll \u6dfb\u52a0\u591a\u5a92\u4f53\u56fe\u7247\u548c\u9644\u4ef6 (abaojin.github.io)</p> <p>\u4e0b\u9762\u6211\u63d2\u4e86\u4e00\u5f20\u56fe\u4f5c\u4e3a\u793a\u4f8b\u3002 </p> <p>\u5341\u3001\u53c2\u8003\u7684\u6559\u7a0b\uff1a</p> <p>Setting up a GitHub Pages site with Jekyll - GitHub Docs</p> <p>Jekyll Gitbook Theme \u00b7 Jekyll Gitbook (sighingnow.github.io)</p> <p>\u60f3\u5f04\u597d\u535a\u5ba2\uff0c\u4e5f\u53ef\u4ee5\u591a\u770b\u770b\u522b\u4eba\u7684\u535a\u5ba2\u6e90\u4ee3\u7801\uff1a</p> <p>abaojin/abaojin.github.io: Welcome to view and use the blog</p>"},{"location":"website/mkdocs/","title":"Mkdocs","text":"<p>The website is built with Mkdocs.</p> <p>For full documentation visit mkdocs.org.</p> <p>The theme is Material for Mkdocs.</p>"},{"location":"website/mkdocs/#_1","title":"\u5b89\u88c5","text":"<p>\u4e0b\u9762\u7b80\u5355\u8bf4\u4e0b\u6d41\u7a0b\uff1a</p> <p>\u9996\u5148\u662f\u5b89\u88c5 mkdocs\uff0c\u5b83\u57fa\u4e8e Python\uff0c\u7528 pip \u5b89\u88c5\u5373\u53ef\u3002\u6559\u7a0b\u6709\u3002\u7531\u4e8e\u6211\u4eec\u4f7f\u7528 Material\uff0c\u770b Material \u7684\u90e8\u7f72\u5373\u53ef\u3002</p> <p>\u82e5\u663e\u793a\u627e\u4e0d\u5230 <code>mkdocs</code>\uff0c\u8fd0\u884c\u65f6\u5c1d\u8bd5\u5728\u524d\u9762\u52a0\u4e0a <code>python -m</code> \u9009\u9879\u3002(\u4f46\u662f\u6ce8\u610f\uff0c\u4e00\u822c\u662f\u8def\u5f84\u7684\u95ee\u9898\uff0c\u597d\u597d\u770b\u770b\uff0c\u4e4b\u524d\u5728\u53e6\u5916\u4e00\u53f0\u7535\u8111\u7684\u95ee\u9898\u662f\uff0cmkdocs \u6ca1\u6709\u88c5\u5728\u5bf9\u5e94 anaconda \u7684\u73af\u5883\u4e2d\u5374\u88c5\u5728\u4e86\u53e6\u4e00\u4e2a\u5730\u65b9)</p>"},{"location":"website/mkdocs/#_2","title":"\u672c\u5730\u9884\u89c8\u7f51\u9875\u7684\u4e00\u4e9b\u547d\u4ee4","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"website/mkdocs/#_3","title":"\u672c\u5730\u7684\u9879\u76ee\u7ed3\u6784","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"website/mkdocs/#_4","title":"\u90e8\u7f72","text":"<p>\u90e8\u7f72\u5230 git-pages \u4e0a\uff0c\u8fd9\u4e00\u6b65\u7684\u5751\u7279\u522b\u7684\u591a\uff0c\u5b98\u7f51\u7684\u6559\u7a0b\u4e5f\u672a\u8be6\u7ec6\u63d0\u53ca\u3002 \u53ea\u662f\u7b80\u5355\u7684\u63d0\u5230 <code>mkdocs gh-deploy</code> \u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u5c31\u53ef\u4ee5\u5c06\u9759\u6001\u7f51\u9875\u53d1\u5e03\uff0c\u4f46\u662f\u6211\u64cd\u4f5c\u540e\u4ecd\u7136\u4e0d\u884c\u3002 \u597d\u5728\u662f\u627e\u5230\u4e86\u89e3\u51b3\u7684\u529e\u6cd5\uff1ahttps://blog.arisa.moe/blog/2022/220407-github-pages/#github-actions</p> <p>\u9996\u5148\u8981\u90e8\u7f72\u4e00\u4e2a github \u7684 workflow\uff0c\u6211\u76f4\u63a5\u590d\u5236\u4e86\u4e0a\u9762\u94fe\u63a5\u91cc\u7684\u4ee3\u7801\u3002</p> <p>\u7136\u540e\u662f\u94fe\u63a5\u91cc\u63d0\u5230\u7684\uff0c\u8981\u5c06 github-pages \u7684 source \u5207\u6362\u5230 <code>gh-deploy</code> \u7684\u652f\u7ebf\u4e0a\u624d\u80fd\u6210\u529f\u53d1\u5e03\u3002 \u8fd9\u662f\u56e0\u4e3a <code>mkdocs gh-deploy</code> \u8fd9\u4e2a\u547d\u4ee4\u5b83\u5c06\u7f51\u9875 push \u5230 github \u4e0a\uff0c\u4f46\u5e76\u4e0d\u662f push \u5230\u4e3b\u5206\u652f\uff0c\u800c\u662f push \u5230 <code>gh-deploy</code> \u652f\u7ebf\u3002</p> <p>\u5927\u81f4\u4e0a\u7684\u539f\u7406\u5c31\u662f <code>mkdocs gh-deploy</code> \u5c06\u7f51\u9875\u4ee3\u7801 push \u5230\u652f\u7ebf\uff0c\u7136\u540e\u6211\u4eec\u8bbe\u7f6e\u7684\u5de5\u4f5c\u6d41\u5f00\u59cb\u8fd0\u884c\uff0c\u6839\u636e\u652f\u7ebf\u4e0a\u7684\u4ee3\u7801\u751f\u6210\u9759\u6001\u7f51\u9875\u5e76\u53d1\u5e03\u3002</p> <p>\u505a\u5b8c\u4e0a\u9762\u8fd9\u4e24\u6b65\uff0c\u7ec8\u4e8e\u662f\u53ef\u4ee5\u6210\u529f\u53d1\u5e03\u4e86\u3002</p>"},{"location":"website/mkdocs/#_5","title":"\u65e5\u5e38\u7528\u6cd5","text":"<p>\u73af\u5883\u914d\u5b8c\uff0c\u4ee5\u540e\u589e\u6dfb\u65b0\u4e1c\u897f\u5c31\u5f88\u7b80\u5355\u4e86\uff1a</p> <ol> <li>\u5199\u65b0\u4e1c\u897f\u6216\u8005\u4fee\u6539\u3002\u8bb0\u5f97\u5728 <code>mkdocs.yml</code> \u6587\u4ef6\u4e2d\u8c03\u6574\u6587\u6863\u7684\u7ed3\u6784</li> <li>\u672c\u5730\u9884\u89c8\uff1a <code>mkdocs serve</code></li> <li><code>git commit -m ...</code> <code>git push</code> \u63d0\u4ea4\u4e0a\u4f20\u4f60\u7684\u4fee\u6539\u3002</li> <li><code>mkdocs gh-deploy</code> \u53d1\u5e03\u6210\u7f51\u9875\u3002</li> </ol> <p>\u600e\u4e48\u63d2\u56fe\u7247\uff1f\u548c markdown \u8bed\u6cd5\u4e00\u6837\u3002\u6ce8\u610f\u535a\u5ba2\u7684\u76f8\u5bf9\u8def\u5f84\u662f\u4ee5 <code>docs</code> \u6587\u4ef6\u5939\u4e3a\u6839\u76ee\u5f55\u7684\uff0c\u6240\u4ee5\u591a\u5a92\u4f53\u6587\u4ef6\u4e5f\u653e\u5165 <code>docs</code> \u6587\u4ef6\u5939\u4e2d\u3002\u4e0b\u9762\u63d2\u5165\u4e86\u4e00\u5f20\u56fe\u7247\u3002 </p>"},{"location":"website/mkdocs/#_6","title":"\u7ed3\u5c3e\uff1f","text":"<p>\u4f46\u662f\u4e0d\u5f97\u4e0d\u8bf4\uff0cmkdocs \u6bd4 Jekyll \u65b9\u4fbf\u4e86\u592a\u591a\uff0c\u7701\u53bb\u4e86\u5f88\u591a\u590d\u6742\u7684\u6b65\u9aa4\uff0c\u975e\u5e38\u9002\u5408\u5c0f\u767d\u3002\u96be\u602a\u770b\u5230\u5f88\u591a\u4eba\u7684\u535a\u5ba2\u90fd\u662f\u7528 mkdocs \u505a\u7684\u3002\u76f8\u89c1\u6068\u665a\u554a\u3002\u524d\u9762\u7528 Jekyll \u8e29\u4e86\u592a\u591a\u5751\u4e86\u3002</p> <p>\u4e00\u76f4\u90fd\u60f3\u505a\u4e00\u4e2a\u81ea\u5df1\u7684\u7f51\u7ad9\u6216\u8005\u8bf4\u662f\u535a\u5ba2\u4e4b\u7c7b\u7684\u3002\u4e00\u4e2a\u4eba\u603b\u6709\u60f3\u8bf4\u4e9b\u4ec0\u4e48\u7684\u6b32\u671b\uff0c\u4f46\u662f\u627e\u4e0d\u5230\u5408\u9002\u7684\u5e73\u53f0\u3002\u73b0\u6709\u7684\u535a\u5ba2\u7f51\u7ad9\u53c2\u5dee\u4e0d\u9f50\u3002\u540e\u6765\u542c\u8bf4\u4e86 gitpages \u5f88\u597d\u7528\u5c31\u60f3\u529e\u6cd5\u642d\u4e86\u4e00\u4e2a\u3002gitpages \u7684\u5b98\u65b9\u63a8\u8350\u7684\u662f\u4f7f\u7528 Jekyll \u6765\u751f\u6210\u9759\u6001\u7f51\u9875\u3002\u4f46\u662f\u8fd9\u6837\u751f\u6210\u7684\u7f51\u9875\uff0c\u535a\u5ba2\u53ea\u80fd\u6309\u7167\u65f6\u95f4\u987a\u5e8f\u6392\u5217\uff0c\u8981\u60f3\u6574\u7406\u5f52\u7c7b\u7684\u8bdd\u5c31\u975e\u5e38\u7684\u9ebb\u70e6\u3002\u770b\u5230 cc98 \u4e0a\u6709\u4e00\u4e2a\u4eba\u662f\u4ece\u8bed\u96c0\u8f6c\u5230\u4e86 mkdocs\uff0c \u6ca1\u60f3\u5230\u5927\u540d\u9f0e\u9f0e\u7684CS\u81ea\u5b66\u6307\u5357\u4e5f\u662f\u4f7f\u7528 mkdocs \u7684\u3002 \u4eca\u5929\u624d\u8bd5\u4e86\u4e00\u4e0b\uff0c\u597d\u50cf\u5b9d\u85cf\u4e00\u6837\u3002\u4e0d\u4ec5\u5f88\u8f7b\u677e\u5730\u5c31\u53ef\u4ee5\u7ba1\u7406\u535a\u5ba2\u7684\u7ed3\u6784\uff0c\u800c\u4e14\u6362\u4e3b\u9898\u4e5f\u5f88\u8f7b\u677e\uff0c\u5f88\u597d\u5730\u89e3\u51b3\u4e86\u6211\u7684\u9700\u6c42\u3002mkdocs \u7528 markdown \u5c31\u53ef\u4ee5\u751f\u6210\u7f51\u9875\u3002\u8fd8\u6709\u4e00\u70b9\u95ee\u9898\u662f\u6211\u7528 Matlab \u505a\u7b14\u8bb0\uff0c\u7528\u4e86\u5f88\u591a\u5b9e\u65f6\u811a\u672c\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u5bfc\u51fa\u3002\u5e78\u597d\u4eca\u5929\u53d1\u73b0\u4e86\uff0c\u6700\u65b0\u7248\u672c\u7684 Matlab \u53ef\u4ee5\u5c06\u5b9e\u65f6\u811a\u672c\u5bfc\u51fa\u6210 markdown \u6587\u4ef6\u3002\u6211\u5c31\u628a Matlab \u5378\u8f7d\u4e86\u91cd\u88c5\u4e00\u904d\uff0c\u603b\u7b97\u662f\u89e3\u51b3\u6389\u7b14\u8bb0\u7684\u95ee\u9898\u5566\u3002</p>"},{"location":"website/mkdocs/#_7","title":"\u5176\u5b83","text":"<p>\u4ecb\u7ecd\u4e00\u4e9b\u6742\u4e03\u6742\u516b\u7684\u95ee\u9898\u3001\u63d2\u4ef6\u3001\u4e3b\u9898\u3001\u5bfc\u822a\u680f\u7b49\u7b49\u5427\u3002</p> <p>\u63d2\u4ef6\u8981\u7528 pip \u5b89\u88c5\uff0c\u7136\u540e\u52a0\u5230 yml \u6587\u4ef6\u4e2d\u3002</p>"},{"location":"website/mkdocs/#_8","title":"\u6570\u5b66\u516c\u5f0f","text":"<p>\u6570\u5b66\u516c\u5f0f\u7684\u63d2\u4ef6\uff0c\u53c2\u8003\u8fd9\u4e2a\u94fe\u63a5\u5373\u53ef:</p> <p>https://hucorz.github.io/myDoc/%E5%85%B6%E4%BB%96/Mkdocs/#markdown</p> <p>https://wdk-docs.github.io/mkdocs-material-docs/reference/mathjax/#configuration</p>"},{"location":"website/mkdocs/#_9","title":"\u663e\u793a\u4fee\u6539\u65e5\u671f","text":"<p>\u663e\u793a\u4fee\u6539\u65e5\u671f\u63d2\u4ef6:</p> <p>https://timvink.github.io/mkdocs-git-revision-date-localized-plugin/</p>"},{"location":"website/mkdocs/#_10","title":"\u4e2d\u6587\u5b57\u4f53\uff1a","text":"<p>\u5c31\u662f\u60f3\u8bd5\u8bd5\u522b\u7684\u5b57\u4f53\u4e86\uff0c\u8fd9\u4e2a\u5b57\u4f53\u662f\u971e\u9e5c\u6587\u6977\uff08\u80fd\u7528\u7684\u4e2d\u6587\u5b57\u4f53\u4e0d\u591a\u554a2333\uff09\u3002\u5b98\u7f51\u662f https://lxgw.github.io/.</p> <p>\u914d\u7f6e\u5f88\u7b80\u5355\uff1a\u5728 <code>docs</code> \u6587\u4ef6\u5939\u4e0b\u5efa\u4e00\u4e2a <code>stylesheets</code> \u6587\u4ef6\u5939\uff0c\u7528\u6765\u653e css \u6587\u4ef6\u3002\u5efa\u4e00\u4e2a <code>extra.css</code> \u6587\u4ef6\uff0c\u91cc\u9762\u590d\u5236 <pre><code>body {\n      font-family: \"LXGW WenKai\", sans-serif;\n    }\n</code></pre></p> <p>\u7136\u540e\u5728 <code>mkdocs.yml</code> \u6587\u4ef6\u4e2d\u52a0\u4e0a <pre><code>    extra_css:\n  - stylesheets/extra.css\n  - https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css\n</code></pre> \u5c31\u53ef\u4ee5\u6210\u529f\u6539\u53d8\u5b57\u4f53\u4e86\u3002</p> <p>2024\u5e7410\u670818\u65e5\u66f4\u65b0\uff1a\u4eca\u5929\u5f00\u59cb\u6539\u6210\u7528\u601d\u6e90\u5b8b\u4f53\u4e86\u3002\u7528 Google Font \u4e0a\u5e26\u6709\u7684\u5b57\u4f53\u5f88\u7b80\u5355\uff1a\u5728 yml \u6587\u4ef6\u7684 <code>theme</code> \u4e0b\u6307\u5b9a <code>font</code> \u9879\u5c31\u53ef\u4ee5\u4e86\uff1a</p> <pre><code>font:\n    text: Noto Serif SC\n    code: Roboto Mono\n</code></pre>"},{"location":"website/mkdocs/#highlight","title":"highlight \u548c \u5220\u9664\u7ebf","text":"<p>https://squidfunk.github.io/mkdocs-material/reference/formatting/#sub-and-superscripts</p>"},{"location":"website/mkdocs/#_11","title":"\u4e0b\u6807","text":"<p>https://facelessuser.github.io/pymdown-extensions/extensions/tilde/</p>"},{"location":"website/mkdocs/#_12","title":"\u6dfb\u52a0\u63d0\u793a\u4fe1\u606f\u7b49","text":"<p>https://facelessuser.github.io/pymdown-extensions/extensions/details/</p>"},{"location":"website/mkdocs/#markdown","title":"\u5feb\u901f markdown \u8868\u683c","text":"<p>\u600e\u4e48\u63d2\u5165 markdown \u8868\u683c\uff1f\u53ef\u4ee5\u5728\u8fd9\u4e2a\u7f51\u7ad9\u5feb\u901f\u751f\u6210\uff1ahttps://www.tablesgenerator.com/markdown_tables</p>"},{"location":"website/mkdocs/#_13","title":"\u522b\u4eba\u7684\u535a\u5ba2","text":"<p>\u53ef\u4ee5\u770b\u770b\u522b\u4eba\u7684\u535a\u5ba2\u600e\u4e48\u642d\u5efa:</p> <p>https://wcowin.work/</p> <p>https://blog.arisa.moe/</p> <p>https://note.tonycrane.cc/</p>"},{"location":"website/pic-bed/","title":"\u56fe\u5e8a","text":"<p>\u6709\u7684\u65f6\u5019\u80af\u5b9a\u662f\u9700\u8981\u56fe\u7247\u7684\uff0c\u6240\u4ee5\u627e\u4e86\u4e00\u4e2a\u56fe\u5e8a\u3002</p> <p>\u6211\u9009\u62e9\u7684\u56fe\u5e8a\u5e73\u53f0\u662f https://imgur.com/</p> <p>\u4e0b\u9762\u8fd9\u5f20\u56fe\u7247\u6765\u81ea\u6211\u4e0a\u4f20\u5230\u56fe\u5e8a\u7684\u56fe\u7247\uff0c\u770b\u770b\u80fd\u4e0d\u80fd\u663e\u793a</p> <p></p> <p>\u7cdf\u7cd5\uff01\u4e0a\u9762\u90a3\u4e2a\u56fe\u5e8a\u867d\u597d\uff0c\u4f46\u662f\u6709\u65f6\u9700\u8981\u4f7f\u7528\u9b54\u6cd5\u624d\u80fd\u770b\u5230\u56fe\u7247\uff0c\u4e8e\u662f\u6211\u53c8\u627e\u4e86\u4e00\u4e2a\u56fe\u5e8a\u5e73\u53f0 https://imgse.com/\u3002 \u8fd9\u4e2a\u5e73\u53f0\u53ef\u4ee5\u5728\u56fd\u5185\u76f4\u63a5\u8bbf\u95ee\u3002</p> <p></p> <p>(2024.3.22) \u4e0a\u9762\u8fd9\u4e2a\u56fe\u5e8a\u6700\u641e\u7684\u5730\u65b9\u662f\u5f00\u4e86\u4ee3\u7406\u5c31\u65e0\u6cd5\u767b\u5f55\u4e86. \u4e8e\u662f\u53c8\u4f7f\u7528\u4e86 PicGo + github \u6765\u642d\u5efa\u56fe\u5e8a, \u6559\u7a0b\u5728\u8fd9\u91cc. \u628a\u56fe\u7247\u5b58\u5230\u6211\u81ea\u5df1\u7684 github \u4ed3\u5e93\u91cc\u9762, \u8bd5\u8bd5\u53ef\u4e0d\u53ef\u884c:</p> <p></p> <p>\u5c06\u57df\u540d\u6539\u6210 https://cdn.jsdelivr.net/gh/[USER]/[repo] \u7684\u5f62\u5f0f\u5c31\u53ef\u4ee5\u5728\u56fd\u5185\u5916\u5747\u6709\u52a0\u901f\u4e86, \u4f3c\u4e4e\u662f\u4e00\u4e2a\u8f83\u597d\u7684\u89e3\u51b3\u65b9\u6848. </p>"},{"location":"wen/Dubliners/","title":"\u90fd\u67cf\u6797\u4eba","text":""},{"location":"wen/Dubliners/#araby","title":"Araby","text":"<p>\u82f1\u8bed\u5c0f\u8bf4\u7684\u9605\u8bfb\u901f\u5ea6\u6bd4\u6211\u60f3\u8c61\u4e2d\u7684\u5feb\u4e00\u70b9\u3002\u6628\u5929\u4e00\u4e2a\u591a\u949f\u5934\u4e00\u53e3\u6c14\u770b\u5b8c\u4e86\u3002\u77ed\u7bc7\u548c\u957f\u7bc7\u7684\u8bfb\u6cd5\u5f88\u4e0d\u4e00\u6837\uff0c\u77ed\u7bc7\u662f\u5b57\u5b57\u73e0\u7391\u7684\uff0c\u597d\u591a\u5730\u65b9\u90fd\u6709\u7ebf\u7d22\uff0c\u518d\u52a0\u4e0a Joyce \u672c\u8eab\u5c31\u662f\u6666\u6da9\u7684\u4eba\uff08\u5c24\u5229\u897f\u65af\u79d2\u4e86\uff09\uff0c\u6709\u4e0d\u61c2\u7684\u5730\u65b9\u5f88\u6b63\u5e38\uff0c\u53bb\u770b\u770b\u522b\u4eba\u7684\u89e3\u8bfb\u5427\u3002</p> <p>Araby \u7684\u6545\u4e8b\u5f88\u597d\u6982\u62ec\uff1a\u6545\u4e8b\u7684\u4e3b\u4eba\u516c\u201c\u6211\u201d\u7231\u4e0a\u4e86\u90bb\u5c45\u5bb6\u7684\u59d0\u59d0\uff0c\u671d\u601d\u66ae\u60f3\u3002\u6709\u4e00\u5929\u5979\u627e\u6211\u804a\u8d77 Araby \u8fd9\u4e2a\u5730\u65b9\uff0c\u8bf4\u81ea\u5df1\u5f88\u60f3\u53bb\uff0c\u5374\u6ca1\u65f6\u95f4\uff0c\u201c\u6211\u201d\u5c31\u81ea\u544a\u594b\u52c7\u5730\u8bf4\u66ff\u5979\u53bb\uff0c\u7ed9\u5979\u5e26\u4e1c\u897f\u3002\u7ec8\u4e8e\u71ac\u5230\u4e86\u661f\u671f\u516d\uff0c\u201c\u6211\u201d\u5386\u7ecf\u574e\u5777\uff0c\u7ec8\u4e8e\u5230\u4e86 Araby \u8fd9\u4e2a\u5927\u96c6\u5e02\uff0c\u7ed3\u679c\u592a\u665a\u4e86\u5feb\u5173\u95e8\u4e86\uff0c\u201c\u6211\u201d\u8fd8\u4ec0\u4e48\u90fd\u4e70\u4e0d\u4e86\uff0c\u6700\u540e\u53ea\u80fd\u5728\u4e00\u7247\u6f06\u9ed1\u4e2d\u65e0\u80fd\u72c2\u6012\u3002</p> <p>\u9996\u5148\u6765\u770b\u770b\u7ed3\u5c3e\u5427\uff1aGazing up into the darkness I saw myself as a creature driven and derided by vanity; and my eyes burned with anguish and anger.</p> <p>\u6211\u4e00\u5f00\u59cb\u6ca1\u6709\u641e\u61c2\u8fd9\u4e2a vanity \u662f\u600e\u4e48\u6765\u7684\uff0c\u6574\u4e2a\u6587\u7ae0\u91cc\u9762\u54ea\u91cc\u4f53\u73b0\u51fa\u4ed6\u53d7\u865a\u8363\u5fc3\u9a71\u4f7f\u4e86\u5462\uff1f\u7684\u786e\uff0c\u6211\u4e0d\u591f\u7ec6\u817b\u3002\u6211\u4eec\u6765\u770b\u770b\u524d\u9762\u4ed6\u548c\u90bb\u5c45\u59d0\u59d0\u7684\u804a\u5929\u5427\uff1a</p> <p>\"It's well for you,\" she said.</p> <p>\"If I go,\" I said, \"I will bring you something.\"</p> <p>\u5bf9\u8bdd\u7ed3\u675f\u4e86\uff0c\u4e4b\u540e\u4e3b\u4eba\u516c\u5c31\u5f00\u59cb\u75af\u72c2 yy\uff1aWhat innumerable follies laid waste my waking and sleeping thoughts after that evening! \u4e00\u76f4\u5230\u53bb\u7684\u90a3\u4e00\u5929\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u201c\u53bb Araby \u5e2e\u5fd9\u5e26\u4e1c\u897f\u201d\u8fd9\u4ef6\u4e8b\u662f\u4e3b\u4eba\u516c\u63d0\u7684\uff0c\u4e0d\u662f\u5979\u63d0\u7684\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u90bb\u5c45\u59d0\u59d0\u5176\u5b9e\u4ec0\u4e48\u4e5f\u6ca1\u6709\u505a\uff0c\u4e00\u5207\u90fd\u662f\u7537\u5b69\u7684\u5934\u8111\u98ce\u66b4\u3002\u7537\u5b69\u4e3b\u52a8\u63d0\u51fa\u8981\u5e2e\u5979\uff0c\u5bf9\u4e00\u4e2a\u7537\u5b69\u6765\u8bf4\uff0c\u80fd\u591f\u5e2e\u52a9\u4e00\u4e2a\u5fc3\u7231\u7684\u5973\u5b69\uff0c\u80fd\u8ba9\u81ea\u5df1\u7684\u865a\u8363\u5fc3\u83b7\u5f97\u6781\u5927\u7684\u6ee1\u8db3\u5427\uff0c\u5c31\u4eff\u4f5b\u81ea\u5df1\u88ab\u90a3\u4e2a\u4eba\u9700\u8981\u4e00\u6837\u3002\u4ed6\u540e\u9762\u7b49\u53bb\u7684\u90a3\u5929\u5feb\u7b49\u75af\u4e86\uff0c\u8bf4\u7684\u65f6\u5019\u8fd8\u4fdd\u6301\u8fd9\u4e48\u77dc\u6301\uff1a\"If I go\"\uff0c\u771f\u662f\u4e2a\u7231\u4f53\u9762\u7684\u597d\u5b69\u5b50\u3002</p> <p>\u5f53\u7136\u53bb\u96c6\u5e02\u4ee5\u540e\uff0c\u90a3\u4e2a\u201c\u865a\u8363\u201d\u8fd8\u662f\u633a\u660e\u663e\u7684\uff0c\u5176\u5b9e\u81ea\u5df1\u4ec0\u4e48\u4e5f\u4e70\u4e0d\u8d77\uff0c\u8fd8\u8981\u88c5\u4f5c\u81ea\u5df1\u5f88\u6709\u5174\u8da3\u3001\u5f88\u6709\u94b1\uff0c\u771f\u80fd\u4e70\u793c\u7269\u9001\u7ed9\u5979\u7684\u6837\u5b50\uff1aI lingered before her stall, though I knew my stay was useless, to make my interest in her wares seem the more real.</p> <p>\u7537\u5b69\u7684\u7231\uff0c\u662f\u5f88\u865a\u5e7b\u7684\u7231\u554a\uff0c\u62ff\u4e00\u6bb5\u5f53\u5e74\u4e0a\u8bfe\u7684\u7b14\u8bb0\u8bf4\u5427\uff1a\u201c\u7537\u5b69\u7231\u90bb\u5c45\u7684\u66fc\u6839\u59d0\u59d0\uff0c\u53ef\u662f\u6574\u7bc7\u5c0f\u8bf4\u8ddf\u59d0\u59d0\u51e0\u4e4e\u6ca1\u5173\u7cfb\uff0c\u5979\u4e0d\u66fe\u4f24\u5bb3\uff0c\u4e5f\u672a\u66fe\u8bb8\u8bfa\uff0c\u9664\u4e86 Araby \u6ca1\u6709\u591a\u4f59\u53f0\u8bcd\u3002\u4e54\u4f0a\u65af\u514b\u5236\u5730\u70b9\u51fa\u4e86\u865a\u5e7b\u7684\u7231\u7684\u672c\u8d28\uff1a\u7537\u5b69\u7684\u7231\uff0c\u662f\u5728\u60f3\u8c61\u4e2d\u5b8c\u6210\u7684\uff0c\u5b83\u80fd\u50cf\u5b97\u6559\u4e00\u822c\u70ed\u60c5\uff0c\u4e5f\u5bb9\u6613\u8d70\u5411\u865a\u65e0\u3002\u6700\u540e\u7537\u5b69\u5728\u9ed1\u6697\u4e2d\uff0c\u731d\u4e0d\u53ca\u9632\u62c9\u706f\u6563\u573a\uff0c\u8fd9\u5c31\u662f\u7ed3\u5c40\uff0c\u6beb\u65e0\u8f6c\u571c\u4f59\u5730\u3002\u201d</p> <p>\u4e5f\u8bb8\u56e0\u4e3a\u4e00\u4e9b\u7ecf\u5386\uff0c\u6211\u4f3c\u4e4e\u4e5f\u80fd\u591f\u5bf9\u8fd9\u79cd\u865a\u5e7b\u7684\u7231\u611f\u540c\u8eab\u53d7\uff0c\u63cf\u5199\u7537\u5b69\u7740\u8ff7\u65f6\uff0c\u6211\u4e5f\u7740\u8ff7\u4e86\u3002\u73b0\u4ee3\u7684\u4eba\u53ef\u4ee5\u6307\u8d23\u8fd9\u4e9b\u884c\u4e3a\u4ec0\u4e48\u7684\uff0c\u4e5f\u8bb8\u662f\u4e0d\u592a\u9053\u5fb7\uff0c\u6211\u5c31\u5077\u5077\u5730\u8bb0\u7b14\u8bb0\u3002</p> <p>I kept her brown figure always in my eye and, when we came near the point at which our ways diverged, I quickened my pace and passed her.</p> <p>Her name sprang to my lips at moments in strange prayers and praises which I myself did not understand. My eyes were often full of tears and at times a flood from my heart seemed ti pour itself out into my bosom. I thought little of the future. I did not know whether I would ever speak to her or not or, if I speak to her, how I could told her my confused adoration. But my body was like a harp and her words and gestures were like fingers running upon the wires.</p> <p>\u5728\u201c\u6211\u201d\u7684\u5fc3\u4e2d\uff0c\u5979\u5df2\u7ecf\u662f\u8d85\u8d8a\u4e0a\u5e1d\u7684\u5b58\u5728\u4e86\u3002\u201c\u6211\u201d\u8be5\u5982\u4f55\u8868\u8fbe\u6211\u7684\u201cconfused adoration\u201d\uff1f\u201c\u6211\u201d\u4e0d\u77e5\u9053\uff0c\u4e5f\u8bb8\u8fd9\u8f88\u5b50\u90fd\u6ca1\u673a\u4f1a\u53bb\u8868\u8fbe\u5427\u3002</p> <p>\u6700\u540e\u8bf4\u4e00\u4e0b\u5c0f\u5f69\u86cb\u5427\u3002\u4e00\u4e2a\u662f\uff0c\u7231\u5c14\u5170\u7684\u51ac\u5929\u771f\u7684\u53c8\u51b7\u53c8\u9ed1\u554a\uff0c\u8ba9\u4eba\u5fe7\u90c1\u3002The space of sky above us was the colour of ever-changing violet and towards it the lamps of the street lifted thier feeble lanterns.</p> <p>\u8fd8\u6709\u5f00\u5c40\u6b7b\u6389\u7684\u795e\u7236\u7684\u4e09\u672c\u4e66\uff0c\u90fd\u662f\u5173\u4e8e\u6b3a\u9a97\u7684\u3002\u5f53\u201c\u6211\u201d\u9009\u62e9\u4e86\u865a\u8363\uff0c\u5176\u5b9e\u4e5f\u8574\u542b\u4e86\u5bf9\u81ea\u5df1\u7684\u6b3a\u9a97\u3002\u8981\u6b63\u786e\u5730\u8ba4\u8bc6\u81ea\u5df1\uff0c\u5e76\u4e0d\u5bb9\u6613\u3002\u865a\u8363\u610f\u5473\u7740\u6ee1\u8db3\u81ea\u5df1\u7684\u60c5\u611f\u3002\u6211\u5411\u4f60\u732e\u6bb7\u52e4\uff0c\u4ee5\u4e3a\u662f\u7231\u4f60\uff0c\u5b9e\u9645\u4e0a\u662f\u53ea\u662f\u81ea\u79c1\u5730\u7231\u81ea\u5df1\u3002</p> <p>\u7ed3\u5c3e\u5356\u8d27\u7684\u662f\u82f1\u683c\u5170\u53e3\u97f3\uff0c\u6697\u793a\u7231\u5c14\u5170\u8fd8\u53d7\u82f1\u56fd\u7684\u7edf\u6cbb\u5462\u3002\u4e2d\u95f4\u5c0f\u8d29\u4eec\u5531\u7684\u6c11\u8c23\uff0c\u5173\u4e8e\u7956\u56fd\u7684\u82e6\u96be\uff0c\u5173\u4e8e\u7231\u5c14\u5170\u7684\u6597\u58eb\u201cRossa\u201d\u7684\u6b4c\uff0c\u5f53\u65f6\u7684\u7231\u5c14\u5170\u662f\u600e\u6837\u5462\uff1f\u8981\u591a\u5b66\u4e60\u5386\u53f2\u554a\u3002</p>"},{"location":"wen/Dubliners/#sisters","title":"Sisters","text":"<p>\u5148\u8981\u8bf4\u660e\u7684\u662f\uff0c\u9605\u8bfb\u65b9\u9762\u8fd8\u662f\u78b0\u5230\u4e86\u76f8\u5f53\u7684\u9ebb\u70e6\uff1a\u751f\u8bcd\u5f88\u591a\uff0c\u6211\u4e0d\u4f1a\uff0c\u4e00\u4e9b\u897f\u91cc\u53e4\u602a\u7684\u53e5\u5f0f\u4e5f\u8981\u8d39\u5fc3\u601d\u7406\u89e3\u3002\u665a\u4e0a\u6e38\u620f\u6253\u591a\u4e86\u3002</p> <p>2025\u5e743\u670823\u65e5\u8865\u5145\u3002\u524d\u51e0\u5929\u548c\u670b\u53cb\u804a\u5929\uff0c\u8bf4\u5199\u7684\u5f88\u597d\uff0c\u8fd9\u4e24\u5929\u6211\u662f\u62fc\u4e86\u8001\u547d\uff0c\u4e00\u4e2a\u8bcd\u4e00\u4e2a\u8bcd\u7684\u67e5\u2014\u2014\u2014\u751f\u8bcd\u5b9e\u5728\u592a\u591a\uff0c\u628a\u4e66\u90fd\u7ffb\u70c2\u4e86\uff0c\u624d\u8bfb\u5b8c\u3002\u6709\u5f88\u591a\u5b97\u6559\u5355\u8bcd\uff0c\u662f\u7b2c\u4e00\u6b21\u78b0\u5230\uff1aMass\uff0caltar\uff0cchalice\uff0cthe responses\uff0cvestment \u7b49\u7b49\u3002\u6211\u4e00\u5f00\u59cb\u8fde priest \u90fd\u4e0d\u77e5\u9053\u4ec0\u4e48\u610f\u601d\uff0c\u5b9e\u5728\u662f\u4e3a\u96be\u6211\u4e86\u3002</p> <p>Euclid used the term \"gnomon\" to describe the a geometric figure obtained by removing one quarter of a parallelogram. gnomon \u8fd9\u4e2a\u5f62\u72b6\u662f\u4e00\u4e2a\u5927\u5e73\u884c\u56db\u8fb9\u5f62\u6316\u53bb\u4e00\u4e2a\u5c0f\u5e73\u884c\u56db\u8fb9\u5f62\u3002</p> <p>\u6545\u4e8b\u5176\u5b9e\u5f88\u7b80\u5355\u5c31\u662f\u8bb2\u4ece\u4e00\u4e2a\u5c0f\u5b69\u5b50\u7684\u89c6\u89d2\u770b\u795e\u7236\u53bb\u4e16\u7684\u6545\u4e8b\u3002\u5bb6\u91cc\u4eba\u544a\u8bc9\u201c\u6211\u201d\u795e\u7236\u7684\u6b7b\u8baf\uff0c\u8ba8\u8bba\u795e\u7236\u7684\u6b7b\u3002\u7b2c\u4e8c\u5929\u65e9\u4e0a\u5728\u795e\u7236\u5bb6\u95e8\u53e3\uff0c\u6211\u9677\u5165\u548c\u795e\u7236\u7684\u56de\u5fc6\uff08\u611f\u89c9\u8fd9\u91cc\u795e\u7236\u5bf9\u4ed6\u633a\u597d\uff09\u3002\u665a\u4e0a\u963f\u59e8\u5e26\u7740\u6211\u53bb\u770b\u62dc\u8bbf\u795e\u7236\u4ed6\u4eec\u5bb6\uff0c\u8fdb\u884c\u4e86\u4e00\u756a\u60bc\u5ff5\u548c\u95f2\u804a\u3002\u6700\u540e\u6545\u4e8b\u804a\u5230\u795e\u7236\u53bb\u4e16\u524d\u7684\u5947\u602a\u4e3e\u52a8\u7ed3\u675f\u3002</p> <p>\u795e\u7236\u53eb James Flynn\uff0c\u4e24\u59d0\u59b9\u662f Nanny \u548c Eliza\u3002</p> <p>\u8ba8\u8bba\u51e0\u4e2a\u660e\u663e\u7684\u70b9\uff1a</p> <ol> <li> <p>Eliza \u8bf4\u795e\u7236\u7684\u6b7b\u662f peacefull, beautiful, resigned \u7684\uff0c\u4f46\u662f\u6587\u4e2d\u5b9e\u9645\u770b\u5230\u7684\u8138\u662f truculent \u7684\u3002</p> </li> <li> <p>Eliza \u4e00\u76f4\u5938 Father O'Rourke\uff0c\u4f46\u662f\u771f\u95ee\u4ed6\u4eba\u54c1\uff0c\u5374\u95ed\u4e0a\u773c\u775b\u6447\u5934\uff0c\u8bf4\u4e9b\u542b\u7cca\u7684\u8bdd\u3002</p> </li> <li> <p>\u5176\u5b9e\u5bf9\u201c\u6211\u201d\u6765\u8bf4\uff0c\u795e\u7236 James \u4e5f\u672a\u5fc5\u662f\u4ec0\u4e48\u597d\u4eba\u3002\u8fd9\u70b9\u5f88\u62b1\u6b49\uff0c\u5f97\u5148\u8bf4\u660e\u4e00\u4e0b\uff0c\u6211\u82f1\u8bed\u6c34\u5e73\u6709\u9650\uff0c\u8bfb\u539f\u6587\u6709\u65f6\u6709\u7406\u89e3\u4e0a\u7684\u504f\u5dee\uff0c\u8bfb\u4e2d\u6587\u7ffb\u8bd1\u7684\u65f6\u5019\u4e00\u4e0b\u5c31 get \u5230\u81ea\u5df1\u7406\u89e3\u7684\u95ee\u9898\u4e86\u3002\u9996\u5148\u662f\u665a\u4e0a\u7761\u89c9\u7684\u65f6\u5019\uff0c\u6211\u60f3\u8c61\u5230\u795e\u7236\u7684\u8138\u7684\u65f6\u5019\u7684\u7b2c\u4e00\u53cd\u5e94\u662f\uff1adraw the blankets over my head and try to think of Chistmas\u3002\u4f60\u731c\u731c\u770b\u795e\u7236\u8fd9\u4e48\u597d\u6211\u5e72\u561b\u8981\u62ff\u6bef\u5b50\u8499\u5934\u53bb\u60f3\u5723\u8bde\u8282\u800c\u4e0d\u53bb\u60f3\u795e\u7236\uff1f\u7b2c\u4e8c\u662f\uff0c\u5728\u5f97\u77e5\u795e\u7236\u7684\u6b7b\u8baf\u7684\u65f6\u5019\uff0c\u4ed6\u867d\u7136\u4e00\u8fb9\u56de\u60f3\u795e\u7236\u7684\u597d\uff0c\u4e00\u8fb9\u53c8\u6709\u8fd9\u6837\u7684\u60f3\u6cd5\uff1aI felt even annoyed at discovering in myself a sensation of freedom as if I had been freed from something by his death. \u795e\u7236\u7684\u6b7b\u7ed9\u4ed6\u4e00\u79cd\u201c\u81ea\u7531\u611f\u201d\uff0c\u90a3\u795e\u7236\u6d3b\u7740\u7ed9\u4ed6\u4ec0\u4e48\u611f\u89c9\u5462\uff1f\u5c31\u662f\u56de\u60f3\u7740\u201c\u5feb\u4e50\u5f80\u4e8b\u201d\uff0c\u4e5f\u60f3\u5230\u4e0d\u6109\u5feb\u7684\u90e8\u5206\uff1a\u795e\u7236\u7684\u4e60\u60ef\uff1auncover his discoloured teeth and let his tongue lie upon his lower lip \u8ba9\u4ed6\u975e\u5e38\u4e0d\u8212\u670d\uff0c\u665a\u4e0a\u7684\u60f3\u8c61\u90fd\u91cd\u590d\u60f3\u5230\uff0c\u7740\u91cd\u523b\u753b\u5634\u5507\u3002</p> </li> <li> <p>\u4f46\u662f\u4f5c\u4e3a\u666e\u901a\u7684\u6c11\u4f17\uff0c\u5fc5\u987b\u8ba4\u4e3a\u795e\u7236\u662f\u597d\u4eba\uff0c\u795e\u7236\u5fc5\u987b\u6b7b\u7684\u975e\u5e38 beautiful\u3002\uff08\u60f3\u5230\u5361\u62c9\u9a6c\u4f50\u592b\u5144\u5f1f\u91cc\u9762\u4f50\u897f\u9a6c\u957f\u8001\u7684\u6b7b\uff0c\u6b7b\u4e86\u4e09\u5929\u8eab\u4f53\u53d1\u81ed\u4e86\uff0c\u5f15\u53d1\u4e86\u8f69\u7136\u5927\u6ce2\uff09\u4e0d\u7136\u5c31\u662f\u4eb5\u6e0e\u795e\u3002\u6211\u4eec\u7684\u601d\u60f3\u5fc5\u987b\u63a5\u53d7\u67d0\u79cd\u4e8b\u7269\u3002</p> </li> <li> <p>\u5bf9\u795e\u7236\u81ea\u5df1\u6765\u8bf4\uff0c\u4e5f\u662f\u78b0\u5230\u4e86\u975e\u5e38\u4e25\u91cd\u7684\u4fe1\u4ef0\u5371\u673a\uff1a\u795e\u7236\u6253\u7834\u4e86\u5723\u676f\uff0c\u7167\u7406\u8bf4\u5e94\u8be5\u8981\u53d7\u5230\u4e0a\u5e1d\u60e9\u7f5a\uff0c\u8fd9\u662f\u8be5\u614c\u4e71\u7684\uff0c\u53ef\u662f\u4e0a\u5e1d\u5e76\u672a\u60e9\u7f5a\u4ed6\uff0c\u8fd9\u66f4\u8ba9\u4ed6\u4e0d\u5b89\uff0c\u8fd9\u610f\u5473\u7740\u4ed6\u5b9e\u9645\u4e0a\u65e0\u6cd5\u4e0e\u4e0a\u5e1d\u6c9f\u901a\u3002\u6240\u4ee5\u4ed6\u6700\u540e\u624d\u4f1a\u90a3\u4e48\u5947\u602a\u5730\u8eb2\u5728\u5fcf\u6094\u5ba4\u91cc\u5fcf\u6094\u8fd8\u5fae\u7b11\uff0c\u4ed6\u80af\u5b9a\u662f\u89c9\u5f97\u4e0a\u5e1d\u539f\u8c05\u4ed6\uff0c\u4e0d\u60e9\u7f5a\u4ed6\u4e86\u3002\u4f46\u4ed6\u7684\u4fe1\u4ef0\u8fd8\u662f\u5d29\u584c\u4e86\uff0c\u628a\u7948\u7977\u4e66\u6254\u5728\u4e86\u5730\u4e0a\uff0c\u762b\u75ea\u4e86\u3002</p> </li> </ol>"},{"location":"wen/LaPeste/","title":"\u9f20\u75ab","text":"<p>\u5e94\u8be5\u600e\u6837\u8bfb\u4e66\uff1f\u6211\u4e0d\u77e5\u9053\u3002\u8bfb\u4e66\u8981\u505a\u7b14\u8bb0\u5417\uff1f\u4ee5\u524d\u8bfb\u4e66\u7684\u65f6\u5019\u6211\u4ece\u6765\u4e0d\u505a\u3002\u4f46\u662f\u73b0\u5728\u611f\u89c9\u6709\u4e9b\u5730\u65b9\u4e0d\u8bb0\u5f55\u4e00\u4e0b\u5c31\u9519\u8fc7\u4e86\u6709\u4e9b\u9057\u61be\u3002</p> <p>\u9f20\u75ab\u53ef\u4ee5\u8bf4\u662f\u4e00\u90e8\u6bd4\u8f83\u201c\u65e0\u804a\u201d\u7684\u5c0f\u8bf4\u3002 \u540e\u6765\u60f3, \"\u6666\u6da9\" \u8fd9\u4e2a\u8bcd\u624d\u6bd4\u8f83\u51c6\u786e.</p> <p>\u5373\u4fbf\u4e0d\u8003\u8651\u9f20\u75ab\u662f\u6cd5\u897f\u65af\u7684\u8c61\u5f81\u8fd9\u4ef6\u4e8b, \u91cc\u9762\u63a2\u8ba8\u7684\u8bdd\u9898\u5c31\u8db3\u591f\u591a\u4e86, \u751f\u6b7b, \u5584\u6076, \u4fe1\u4ef0, \u96c6\u4f53, \u5bf9\u5e78\u798f\u7684\u8ffd\u6c42.</p> <p>\u7531\u4e8e\u56fe\u4e66\u9986\u8981\u6c42\u6211\u8d76\u7d27\u8fd8\u4e66, \u6211\u4e00\u53e3\u6c14\u770b\u5230\u4e86\u51cc\u6668\u4e09\u70b9. \u867d\u7136\u6709\u4e9b\u96be\u8bfb, \u5e38\u5e38\u8ba4\u4e3a\u8fd9\u662f\u4e00\u90e8 \"\u54f2\u7406\u5c0f\u8bf4\", \u4f46\u662f\u91cc\u9762\u7684\u63cf\u5199\u624b\u6cd5, \u53ef\u4ee5\u8bf4\u662f\u975e\u5e38\u51c6\u786e, \u867d\u7136\u597d\u50cf\u53ea\u662f\u6211\u7b2c\u4e00\u6b21\u53bb\u4ed4\u7ec6\u89c2\u5bdf\u522b\u4eba\u662f\u600e\u4e48\u63cf\u5199\u7684.</p> <p>\u6211\u603b\u662f\u60f3\u8868\u8fbe\u4ec0\u4e48, \u4f46\u662f\u5e38\u5e38\u4e3a\u81ea\u5df1\u6587\u5b57\u7684\u9119\u964b\u800c\u607c\u706b. \u4f46\u5176\u5b9e\u4e5f\u65e0\u788d, \u6bd5\u7adf\u5199\u4f5c\u662f\u9700\u8981\u7ec3\u4e60\u7684, \u6211\u8fd8\u5199\u5f97\u592a\u5c11\u4e86.</p> <p>\u8fd8\u6709\u5f88\u591a\u503c\u5f97\u6458\u5f55\u7684\u5730\u65b9, \u4f46\u662f, \u5c31\u5148\u8fd9\u4e48\u591a\u5427, \u56f0\u4e86.</p>"},{"location":"wen/LaPeste/#_2","title":"\u7b2c\u4e8c\u90e8\u7b2c\u4e03\u7ae0","text":"<p>\u201c\u662f\u8fd9\u6837\uff0c\u201d\u5854\u9c81\u8bf4\u9053\uff0c\u201c\u60a8\u672c\u4eba\uff0c\u65e2\u7136\u4e0d\u76f8\u4fe1\u4e0a\u5e1d\uff0c\u4e3a\u4ec0\u4e48\u80fd\u8868\u73b0\u51fa\u5982\u6b64\u9ad8\u7684\u732e\u8eab\u7cbe\u795e\u5462\uff1f\u201d</p> <p>\u5927\u592b\u6ca1\u6709\u4ece\u6697\u5f71\u91cc\u51fa\u6765\uff0c\u8bf4\u4ed6\u5df2\u7ecf\u56de\u7b54\u8fc7\u4e86\uff0c\u5b83\u82e5\u662f\u76f8\u4fe1\u6709\u4e00\u4f4d\u4e07\u80fd\u7684\u4e0a\u5e1d\uff0c\u90a3\u5c31\u4e0d\u5fc5\u6cbb\u75c5\u6551\u4eba\uff0c\u8ba9\u4e0a\u5e1d\u6765\u6551\u82e6\u6551\u96be\u597d\u4e86\u3002\u7136\u800c\uff0c\u8fd9\u4e16\u4e0a\u4efb\u4f55\u4eba\uff0c\u90fd\u4e0d\u76f8\u4fe1\u5b58\u5728\u8fd9\u6837\u4e00\u4f4d\u4e0a\u5e1d\uff0c\u6ca1\u6709\uff0c\u751a\u81f3\u81ea\u4ee5\u4e3a\u76f8\u4fe1\u4e0a\u5e1d\u7684\u5e15\u7eb3\u5362\u90fd\u4e0d\u76f8\u4fe1\uff0c\u56e0\u4e3a\u4efb\u4f55\u4eba\u90fd\u6ca1\u6709\u5b8c\u5168\u542c\u5929\u7531\u547d\uff0c\u5728\u8fd9\u65b9\u9762\uff0c\u81f3\u5c11\u4ed6\uff0c\u91cc\u5384\uff0c\u5728\u540c\u73b0\u5b9e\u4e16\u754c\u8fdb\u884c\u6597\u4e89\uff0c\u81ea\u8ba4\u4e3a\u8d70\u5728\u901a\u5f80\u771f\u7406\u7684\u9053\u8def\u4e0a\u3002</p> <p>\u2026\u2026</p> <p>\u201c\u662f\u7684\uff0c\u60a8\u5fc3\u91cc\u5728\u5600\u5495\uff0c\u8fd8\u771f\u591f\u50b2\u6c14\u7684\u3002\u53ef\u662f\uff0c\u8bf7\u76f8\u4fe1\u6211\uff0c\u6211\u53ea\u6709\u5fc5\u8981\u7684\u9a84\u50b2\u3002\u6211\u4e0d\u77e5\u9053\u524d\u9762\u7b49\u5f85\u6211\u7684\u662f\u4ec0\u4e48\uff0c\u4e5f\u4e0d\u77e5\u9053\u8fd9\u4e00\u5207\u7ed3\u675f\u4e4b\u540e\u4f1a\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5\uff0c\u773c\u4e0b\uff0c\u6709\u8fd9\u4e48\u591a\u75c5\u4eba\uff0c\u5e94\u8be5\u7ed9\u4ed6\u4eec\u6cbb\u597d\u75c5\u3002\u6cbb\u597d\u4e4b\u540e\u5462\uff0c\u4ed6\u4eec\u8981\u601d\u8003\uff0c\u6211\u4e5f\u8981\u601d\u8003\u3002\u4f46\u662f\uff0c\u6700\u6025\u8feb\u7684\u8fd8\u662f\u6cbb\u75c5\uff0c\u6211\u7aed\u5c3d\u5168\u529b\u4fdd\u62a4\u4ed6\u4eec\uff0c\u5c31\u662f\u8fd9\u6837\u3002\u201d</p> <p>\u201c\u4fdd\u62a4\u4ed6\u4eec\uff0c\u53cd\u5bf9\u8c01\u5462\uff1f\u201d</p> <p>\u201c\u5bf9\u6b64\u6211\u4e00\u65e0\u6240\u77e5\uff0c\u5854\u9c81\uff0c\u6211\u5411\u4f60\u53d1\u8a93\uff0c\u5bf9\u6b64\u6211\u4e00\u65e0\u6240\u77e5\u3002\u6211\u521d\u5165\u8fd9\u884c\u7684\u65f6\u5019\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\uff0c\u60f3\u6cd5\u8fd8\u6bd4\u8f83\u62bd\u8c61\uff0c\u56e0\u4e3a\u6211\u6709\u8fd9\u79cd\u9700\u8981\uff0c\u800c\u8fd9\u4e00\u884c\u4e5f\u8ddf\u5176\u4ed6\u884c\u4e1a\u4e00\u6837\uff0c\u662f\u5e74\u8f7b\u4eba\u613f\u610f\u8c0b\u6c42\u7684\u3002\u4e5f\u8bb8\u8fd8\u6709\u4e2a\u7f18\u6545\uff0c\u50cf\u6211\u8fd9\u6837\u5de5\u4eba\u5bb6\u5ead\u51fa\u8eab\u7684\u4eba\uff0c\u8981\u8fdb\u5165\u8fd9\u4e00\u884c\u5c24\u5176\u56f0\u96be\u3002\u6b64\u5916\uff0c\u5f53\u65f6\u6211\u773c\u7741\u7741\u770b\u7740\u4eba\u6b7b\u53bb\u3002\u60a8\u53ef\u77e5\u9053\uff0c\u6709\u4e9b\u4eba\u771f\u4e0d\u60f3\u6b7b\u554a\uff1f\u60a8\u53ef\u542c\u89c1\u8fc7\uff0c\u4e00\u4e2a\u5973\u4eba\u4e34\u7ec8\u65f6\u53f7\u53eb\u2018\u7edd\u4e0d\u2019\u5417\uff1f\u662f\u7684\uff0c\u6211\u542c\u89c1\u8fc7\u3002\u5f53\u65f6\u6211\u5c31\u53d1\u89c9\uff0c\u8fd9\u79cd\u60c5\u51b5\u6211\u770b\u4e0d\u4e0b\u53bb\u3002\u90a3\u65f6\u6211\u8fd8\u5e74\u8f7b\uff0c\u4e0d\u514d\u618e\u6076\u8fd9\u4e2a\u4e16\u754c\u7684\u79e9\u5e8f\u672c\u8eab\u3002\u540e\u6765\uff0c\u6211\u5c31\u53d8\u5f97\u8c26\u6291\u4e00\u4e9b\u4e86\u3002\u4e0d\u8fc7\uff0c\u6211\u8fd8\u59cb\u7ec8\u770b\u4e0d\u60ef\u4eba\u60a3\u75c5\u65e9\u65e9\u6b7b\u53bb\u3002\u6b64\u5916\u6211\u5c31\u4e0d\u751a\u4e86\u4e86\u3002\u4f46\u662f\uff0c\u4e0d\u7ba1\u600e\u6837\u2026\u2026</p> <p>\u201c\u4e0d\u7ba1\u600e\u6837\u2026\u2026\u8fd9\u79cd\u4e8b\uff0c\u50cf\u60a8\u8fd9\u6837\u4e00\u4e2a\u4eba\u53ef\u4ee5\u7406\u89e3\uff0c\u5bf9\u4e0d\u5bf9\uff0c\u53ef\u662f\uff0c\u4e16\u754c\u7684\u79e9\u5e8f\u65e2\u7136\u7531\u6b7b\u4ea1\u6765\u8282\u5236\uff0c\u90a3\u4e48\u4eba\u4e0d\u76f8\u4fe1\u4e0a\u5e1d\uff0c\u4e0d\u62ac\u5934\u4ef0\u671b\u4e0a\u5e1d\u6c89\u9ed8\u7684\u5929\u7a7a\uff0c\u800c\u662f\u7aed\u5c3d\u5168\u529b\u540c\u6b7b\u4ea1\u505a\u6597\u4e89\uff0c\u8fd9\u6837\u5bf9\u4e0a\u5e1d\u4e5f\u8bb8\u66f4\u597d\u4e9b\u3002\u201d</p> <p>\u201c\u4e0d\u9519\uff0c\u201d\u5854\u9c81\u8868\u793a\u8d5e\u540c\uff0c\u201c\u6211\u53ef\u4ee5\u7406\u89e3\u3002\u4f46\u662f\uff0c\u60a8\u7684\u80dc\u5229\u6c38\u8fdc\u662f\u6682\u65f6\u7684\uff0c\u4e0d\u8fc7\u5982\u6b64\u3002\u201d</p> <p>\u201c\u6c38\u8fdc\u662f\u6682\u65f6\u7684\uff0c\u8fd9\u6211\u77e5\u9053\u3002\u8fd9\u4e0d\u6210\u5176\u4e3a\u505c\u6b62\u6597\u4e89\u7684\u7406\u7531\u3002\u201d</p> <p>\u201c\u5bf9\uff0c\u8fd9\u4e0d\u6210\u5176\u4e3a\u7406\u7531\u3002\u4f46\u662f\u6211\u4e0d\u514d\u60f3\u8c61\uff0c\u8fd9\u573a\u9f20\u75ab\u5bf9\u60a8\u53ef\u80fd\u610f\u5473\u7684\u662f\u4ec0\u4e48\u3002\u201d</p> <p>\u201c\u662f\u554a\uff0c\u610f\u5473\u7740\u63a5\u8fde\u4e0d\u65ad\u7684\u5931\u8d25\u3002\u201d</p> <p>\u201c\u8fd9\u4e00\u5207\uff0c\u662f\u8c01\u6559\u4f1a\u60a8\u7684\uff0c\u5927\u592b\uff1f\u201d</p> <p>\u201c\u662f\u82e6\u96be\u3002\u201d</p> <p>...</p> <p>\"\u5bf9\u4e86, \u5854\u9c81, \u60a8\u7ba1\u8fd9\u79cd\u4e8b, \u662f\u51fa\u4e8e\u4ec0\u4e48\u52a8\u673a?\"</p> <p>\"\u6211\u4e5f\u4e0d\u77e5\u9053, \u4e5f\u8bb8\u662f\u6211\u7684\u9053\u5fb7\u89c2\u5427.\"</p> <p>\"\u4ec0\u4e48\u9053\u5fb7\u89c2?\"</p> <p>\"\u7406\u89e3.\"</p> <pre><code>\u6211\u4eec\u505a\u67d0\u4e9b\u4e8b\u6709\u4ec0\u4e48\u610f\u4e49\uff0c\u53ef\u4ee5\u6ca1\u6709\u610f\u4e49\u5417\uff1f\u5f15\u7528\u4e00\u4e0b\u522b\u4eba\u7684\u8bc4\u8bba, \u52a0\u7f2a\u5728 &lt;\u897f\u897f\u5f17\u65af\u7684\u5e78\u798f&gt; \u8fd9\u672c\u4e66\u4e2d\u76f4\u622a\u4e86\u5f53\u5730\u8bf4, \u65e2\u7136\u751f\u6d3b\u672c\u8eab\u662f\u8352\u8c2c\u7684, \u90a3\u4e48\u4e00\u5207\u7406\u60f3\u548c\u8ffd\u6c42\u90fd\u6ca1\u6709\u4e86\u610f\u4e49, \u4e00\u5207\u7f8e\u597d\u548c\u9ad8\u5c1a\u4e5f\u4e00\u6837, \u56e0\u4e3a\u6ca1\u6709\u6c38\u6052\u4e5f\u5c31\u6ca1\u6709\u5fc5\u8981\u4e3a\u5c06\u6765\u8ffd\u6c42\u8fd9\u4e9b\u4e1c\u897f. \u6211\u4eec\u7ad9\u5728\u8352\u8c2c\u751f\u6d3b\u7684\u8d77\u70b9, \u552f\u4e00\u6709\u610f\u4e49\u7684\u884c\u52a8\u5c31\u662f\u7ecf\u5386, \u6240\u4ee5\u6211\u4eec\u4e0d\u5e94\u8be5\u751f\u6d3b\u5f97\u66f4\u597d, \u800c\u662f\u5e94\u8be5\u751f\u6d3b\u5f97\u66f4\u591a.\n\n\u5728\u4e8b\u5b9e\u4e0a, \u533b\u751f\u548c\u9632\u75ab\u5fd7\u613f\u8005\u7684\u52aa\u529b\u6709\u4ec0\u4e48\u4f5c\u7528\u5417? \u5fd7\u613f\u8005\u5c3d\u7ba1\u5f88\u52aa\u529b\u5730\u505a\u9694\u79bb\u63aa\u65bd\u7136\u800c\u75ab\u60c5\u4ecd\u7136\u75af\u72c2\u4f20\u64ad. \u91cc\u5384\u5927\u591a\u6570\u65f6\u5019\u505a\u7684\u4e8b\u60c5\u662f\u8f93\u8425\u517b\u6db2, \u5207\u5f00\u6dcb\u5df4\u7ed3, \u5e76\u773c\u7741\u7741\u770b\u7740\u75c5\u4eba\u6b7b\u53bb. \u5361\u65af\u6cf0\u5c14\u7814\u5236\u7684\u8840\u6e05, \u53ea\u80fd\u5ef6\u957f\u75c5\u4eba\u906d\u53d7\u75db\u82e6\u7684\u65f6\u95f4. \u6700\u540e\u9f20\u75ab\u662f\u83ab\u540d\u5176\u5999\u6d88\u5931\u7684, \u4e0e\u4eba\u4e3a\u52aa\u529b\u7684\u5173\u7cfb\u4f3c\u4e4e\u5e76\u4e0d\u5bc6\u5207. \u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u600e\u4e48\u505a? \u662f\u7ee7\u7eed\u6323\u624e\u8fd8\u662f\u76f4\u63a5\u6446\u70c2\u5417? \u91cc\u5384\u618e\u6076\u8fd9\u4e2a\u4e16\u754c\u7684\u79e9\u5e8f, \u6240\u4ee5\u4ed6\u8fd8\u662f\u7aed\u5c3d\u5168\u529b\u5730\u53cd\u6297, \u5c3d\u7ba1\u8fd9\u79cd\u53cd\u6297\u663e\u5f97\u65e0\u529b. \u56e0\u4e3a\u6211\u8ba8\u538c, \u800c\u4e0d\u662f\u56e0\u4e3a\u53cd\u6297\u6709\u7528, \u6240\u4ee5\u624d\u53cd\u6297. \u53e4\u8bed\u6709\u4e91: \u77e5\u5176\u4e0d\u53ef\u5948\u4f55\u800c\u5b89\u4e4b\u82e5\u547d\uff0c\u5fb7\u4e4b\u81f3\u4e5f\u3002\u4e0d\u77e5\u9053\u548c\u4e0a\u9762\u7684\u8bf4\u6cd5\u662f\u76f8\u7b26\u8fd8\u662f\u76f8\u53cd. \n</code></pre>"},{"location":"wen/LaPeste/#_3","title":"\u7b2c\u4e8c\u90e8\u7b2c\u516b\u7ae0","text":"<p>\u53d9\u8ff0\u8005\u8c08\u5230\u8fd9\u4e9b\u536b\u751f\u9632\u75ab\u7ec4\u7ec7\u7684\u91cd\u8981\u6027\uff0c\u65e0\u610f\u5938\u5927\u5176\u8bcd\u3002\u6211\u4eec\u7684\u8bb8\u591a\u540c\u80de\uff0c\u5982\u4eca\u82e5\u662f\u5904\u4e8e\u53d9\u8ff0\u8005\u7684\u4f4d\u7f6e\uff0c\u7684\u786e\u4f1a\u7ecf\u4e0d\u4f4f\u8bf1\u60d1\uff0c\u96be\u514d\u5938\u9970\u8fd9\u4e9b\u7ec4\u7ec7\u7684\u4f5c\u7528\u3002\u4f46\u662f\u53d9\u8ff0\u8005\u5b81\u613f\u76f8\u4fe1\uff0c\u8fc7\u5206\u62ac\u9ad8\u4f9d\u636e\uff0c\u6700\u7ec8\u4f1a\u95f4\u63a5\u5730\u5927\u529b\u9882\u626c\u7f6a\u6076\u3002\u56e0\u4e3a\uff0c\u8fd9\u4f1a\u8ba9\u4eba\u731c\u60f3\uff0c\u4e49\u4e3e\u5341\u5206\u7f55\u89c1\uff0c\u624d\u663e\u5f97\u5982\u6b64\u53ef\u8d35\uff0c\u800c\u51b7\u6f20\u4e0e\u90aa\u6076\u662f\u4eba\u7684\u884c\u4e3a\u66f4\u5e38\u89c1\u7684\u52a8\u529b\u3002\u8fd9\u6837\u4e00\u79cd\u770b\u6cd5\uff0c\u53d9\u8ff0\u8005\u4e0d\u80fd\u82df\u540c\u3002\u4e16\u95f4\u7684\u7f6a\u6076\uff0c\u51e0\u4e4e\u603b\u662f\u6765\u81ea\u611a\u6627\u65e0\u77e5\uff0c\u5584\u610f\u5982\u4e0d\u660e\u667a\uff0c\u5c31\u53ef\u80fd\u8ddf\u90aa\u6076\u9020\u6210\u540c\u6837\u7684\u635f\u5bb3\u3002\u4eba\u6027\u4e2d\u5584\u7684\u6210\u5206\u8fd8\u662f\u591a\u4e8e\u6076\u7684\u6210\u5206\uff0c\u4f46\u4e8b\u5b9e\u4e0a\uff0c\u95ee\u9898\u5e76\u4e0d\u5728\u8fd9\u91cc\u3002\u4eba\u65e0\u77e5\u53ea\u6709\u7a0b\u5ea6\u4e4b\u5206\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u7f8e\u5fb7\u4e0e\u6076\u884c\u4e86\u3002\u6700\u53ef\u6068\u7684\u6076\u884c\u5c31\u662f\u611a\u6627\u65e0\u77e5\u7684\u884c\u4e3a\uff0c\u81ea\u4ee5\u4e3a\u65e0\u6240\u4e0d\u77e5\uff0c\u56e0\u800c\u81ea\u8d4b\u6743\u5229\u6740\u4eba\u3002\u6740\u4eba\u51f6\u624b\u7684\u5fc3\u7075\u662f\u611a\u6627\u7684\uff0c\u800c\u6ca1\u6709\u771f\u77e5\u707c\u89c1\uff0c\u660e\u5bdf\u79cb\u6beb\uff0c\u4e5f\u5c31\u8c08\u4e0d\u4e0a\u771f\u6b63\u7684\u5584\u826f\u548c\u5d07\u9ad8\u7684\u4ec1\u7231\u3002</p> <pre><code>\u662f\u8fd9\u6837\u7684\u5417\uff1f\u771f\u662f\u4e00\u4e2a\u5bf9\u4eba\u6027\u5341\u5206\u4e50\u89c2\u7684\u53d9\u8ff0\u8005\u554a\u3002\n\n\u73b0\u5728\u6211\u5f00\u59cb\u8d5e\u540c\u8fd9\u79cd\u60f3\u6cd5\u4e86, \u4eba\u6027\u7684\u6076\u5927\u591a\u6765\u81ea\u4e8e\u611a\u6627\u65e0\u77e5\u554a.\n</code></pre>"},{"location":"wen/LaPeste/#1","title":"\u7b2c\u56db\u90e8 \u6458\u5f551","text":"<p>\u795e\u7236\u8bb2\u9053, \u4e16\u95f4\u5f53\u7136\u6709\u5584\u6076, \u4e00\u822c\u6765\u8bf4, \u4e5f\u5f88\u5bb9\u6613\u89e3\u91ca\u5584\u6076\u7684\u533a\u522b. \u7136\u800c, \u6df1\u5165\u6076\u7684\u5185\u90e8, \u5c31\u5f00\u59cb\u78b0\u5230\u96be\u9898\u4e86. \u8b6c\u5982\u8bf4, \u4e16\u95f4\u5b58\u5728\u770b\u4f3c\u5f88\u6709\u5fc5\u8981\u7684\u6076, \u4e5f\u6709\u770b\u4f3c\u6ca1\u5fc5\u8981\u7684\u6076. \u6709\u5815\u5165\u5730\u72f1\u7684\u5510\u749c, \u4e5f\u6709\u4e00\u4e2a\u5b69\u5b50\u7684\u592d\u6298. \u8981\u77e5\u9053, \u5982\u679c\u8bf4\u5510\u749c\u8fd9\u4e2a\u6d6a\u8361\u7684\u6076\u5c11\u5929\u6253\u96f7\u5288\u662f\u7f6a\u6709\u5e94\u5f97\u7684\u8bdd, \u90a3\u4e48\u8fd9\u5b69\u5b50\u906d\u53d7\u8fd9\u4e48\u5927\u7684\u7f6a, \u5c31\u65e0\u6cd5\u7406\u89e3\u4e86. \u4e8b\u5b9e\u4e0a, \u5728\u8fd9\u4eba\u4e16\u95f4, \u6700\u91cd\u8981\u7684\u4e8b\u60c5, \u83ab\u8fc7\u4e8e\u4e00\u4e2a\u5b69\u5b50\u906d\u7f6a, \u4ee5\u53ca\u8fd9\u79cd\u75db\u82e6\u6240\u5e26\u6765\u7684\u6050\u60e7, \u5e76\u4e14\u52a1\u5fc5\u627e\u51fa\u8fd9\u5176\u4e2d\u7684\u7f18\u7531. \u5728\u4eba\u751f\u7684\u5176\u4ed6\u65b9\u9762, \u4e0a\u5e1d\u5411\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u5207\u4fbf\u5229, \u56e0\u800c\u5230\u6b64\u4e3a\u6b62, \u5b97\u6559\u4e5f\u5c31\u4e4f\u5584\u53ef\u9648. \u5728\u8fd9\u91cc\u5219\u76f8\u53cd, \u5929\u4e3b\u5c06\u6211\u4eec\u903c\u5230\u5899\u6839\u513f. \u6211\u4eec\u5168\u843d\u5165\u9f20\u75ab\u7684\u56f4\u5899\u91cc, \u6211\u4eec\u5fc5\u987b\u5728\u8fd9\u79cd\u6b7b\u4ea1\u7684\u9634\u5f71\u4e2d, \u627e\u51fa\u6709\u76ca\u4e8e\u6211\u4eec\u7684\u65b9\u9762. \u5e15\u7eb3\u5362\u795e\u7236\u751a\u81f3\u4e0d\u80af\u968f\u4fbf\u5229\u7528\u5ec9\u4ef7\u7684\u4f18\u52bf, \u4e00\u4e3e\u800c\u8de8\u8d8a\u56f4\u5899. \u4ed6\u672c\u53ef\u4ee5\u8f7b\u800c\u6613\u4e3e\u5730\u8bf4\u4e00\u53e5, \u7b49\u5f85\u8fd9\u5b69\u5b50\u7684\u6c38\u798f, \u8db3\u4ee5\u8865\u507f\u4ed6\u4eec\u6240\u906d\u53d7\u7684\u75db\u82e6. \u800c\u5176\u5b9e, \u4ed6\u5bf9\u6b64\u4e00\u65e0\u6240\u77e5. \u5f52\u6839\u7ed3\u5e95, \u8c01\u53c8\u80fd\u65ad\u8a00, \u6c38\u6052\u7684\u798f\u4e50\u4fbf\u53ef\u4ee5\u8865\u507f\u4eba\u906d\u53d7\u7684\u7247\u523b\u7684\u75db\u82e6\u5462? \u65ad\u8a00\u7684\u4eba\u80af\u5b9a\u4e0d\u4f1a\u662f\u4e2a\u57fa\u7763\u5f92, \u53ea\u56e0\u543e\u4e3b\u8036\u7a23\u56db\u80a2\u548c\u5fc3\u7075\u90fd\u627f\u53d7\u8fc7\u75db\u82e6. \u795e\u7236\u4e0d\u4f1a\u90a3\u4e48\u505a, \u800c\u662f\u4f9d\u7136\u505c\u7559\u5728\u5899\u811a, \u76f4\u9762\u4e00\u4e2a\u5b69\u5b50\u7684\u75db\u82e6, \u5e76\u575a\u5b88\u8fd9\u79cd\u5341\u5b57\u67b6\u4fbf\u662f\u8c61\u5f81\u7684\u6781\u75db\u6df1\u60b2. </p> <pre><code>\u6cd5\u5b98\u7684\u513f\u5b50\u60e8\u70c8\u7684\u6b7b\u4e86, \u5e15\u7eb3\u5362\u795e\u7236\u76ee\u7779\u4e86\u5b69\u5b50\u7684\u592d\u6298, \u4e5f\u6df1\u611f\u52a8\u6447. \u53e6\u5916\u6709\u4e00\u70b9\u6211\u4e0d\u61c2, \u4e3a\u4ec0\u4e48\u6559\u58eb\u4e0d\u80fd\u770b\u533b\u751f\u5462.\n\n\u8fd9\u6bb5\u540e\u9762\u7684\u8bba\u8bc1\u6211\u5c31\u770b\u4e0d\u61c2\u4e86. \u603b\u800c\u8a00\u4e4b\u795e\u7236\u5f97\u51fa\u7684\u7ed3\u8bba\u662f, \u53ea\u80fd\u8d70\u5b8c\u5168\u7684\u6781\u7aef, \u5b8c\u5168\u7684\u76f8\u4fe1\u5929\u4e3b, \u6216\u8005\u662f\u5b8c\u5168\u7684\u5426\u5b9a\u5929\u4e3b. \n</code></pre> <p>\u91cc\u5384\u8d70\u51fa\u6559\u5802\u65f6, \u4e00\u9635\u72c2\u98ce\u4ece\u534a\u5f00\u7684\u95e8\u6247\u704c\u8fdb\u6559\u5802, \u5f84\u76f4\u6251\u5411\u6559\u5f92\u4eec\u7684\u8138. \u4e00\u80a1\u96e8\u6c34\u7684\u6c14\u5473\u548c\u6f6e\u6e7f\u7684\u4eba\u884c\u9053\u7684\u6e05\u9999, \u968f\u98ce\u8fdb\u5165\u6559\u5802, \u8ba9\u6559\u5f92\u4eec\u51fa\u53bb\u4e4b\u524d\u5c31\u9886\u7565\u5230\u57ce\u5e02\u7684\u6a21\u6837. \u5854\u9c81\u8bf4, \u5e15\u7eb3\u5362\u8bf4\u5f97\u5bf9. \u65e0\u8f9c\u7684\u4eba\u88ab\u6253\u778e\u4e86\u53cc\u773c, \u4e00\u4e2a\u57fa\u7763\u5f92\u76ee\u7779\u4e86, \u5c31\u5e94\u8be5\u653e\u5f03\u4fe1\u4ef0, \u6216\u8005\u63a5\u53d7\u628a\u81ea\u5df1\u7684\u773c\u775b\u4e5f\u5f04\u778e. \u5e15\u7eb3\u5362\u4e0d\u80af\u653e\u5f03\u4fe1\u4ef0, \u4ed6\u4e00\u5b9a\u80fd\u575a\u6301\u5230\u5e95, \u8fd9\u5c31\u662f\u4ed6\u60f3\u8981\u8868\u8fbe\u7684\u610f\u601d. </p> <pre><code>\u540e\u9762\u5e15\u7eb3\u5362\u63a5\u53d7\u4e86\u533b\u751f\u7684\u6cbb\u7597, \u4e5f\u63a5\u53d7\u4e86\u81ea\u5df1\u7684\u6b7b\u4ea1.\n</code></pre>"},{"location":"wen/LaPeste/#2","title":"\u7b2c\u56db\u90e8 \u6458\u5f552","text":"<p>\"\u4eca\u5929, \u6bd4\u8f83\u800c\u8a00, \u5373\u4f7f\u597d\u4eba\u4e5f\u96be\u514d\u6740\u4eba\u6216\u8005\u88ab\u6740, \u5373\u4f7f\u597d\u4eba\u4e5f\u96be\u514d\u6740\u4eba\u6216\u8005\u88ab\u6740, \u56e0\u4e3a\u4ed6\u4eec\u5c31\u751f\u6d3b\u5728\u8fd9\u79cd\u903b\u8f91\u4e2d, \u5728\u8fd9\u4e2a\u4e16\u754c\u4e0a, \u6211\u4eec\u7684\u4e00\u4e3e\u4e00\u52a8, \u90fd\u6709\u53ef\u80fd\u81f4\u4eba\u6b7b\u4ea1. \u662f\u7684, \u6211\u4f9d\u7136\u611f\u5230\u7f9e\u6127, \u6211\u9886\u609f\u4e86\u8fd9\u4e00\u70b9, \u4e5f\u5c31\u662f\u6211\u4eec\u6240\u6709\u4eba\u90fd\u9677\u5165\u9f20\u75ab\u4e2d, \u6211\u4e27\u5931\u4e86\u74f6\u9888, \u81f3\u4eca\u6211\u8fd8\u5728\u5bfb\u627e\u8fd9\u79cd\u5e73\u9759, \u5c3d\u91cf\u7406\u89e3\u4ed6\u4eec\u6240\u6709\u4eba, \u4e0d\u8981\u6210\u4e3a\u4efb\u4f55\u4eba\u7684\u6b7b\u654c. \u73b0\u5728\u6211\u4ec5\u4ec5\u77e5\u9053, \u5e94\u8be5\u600e\u4e48\u505a\u5c31\u600e\u4e48\u505a, \u4ee5\u4fbf\u4e0d\u8981\u6210\u4e3a\u4e00\u540d\u9f20\u75ab\u60a3\u8005, \u552f\u72ec\u8fd9\u6837, \u6211\u4eec\u624d\u80fd\u671f\u671b\u5b89\u5b81, \u5f97\u4e0d\u5230\u5b89\u5b81\u5c31\u5b89\u8be6\u5730\u6b7b\u53bb. \u552f\u72ec\u8fd9\u6837, \u624d\u80fd\u7ed9\u4eba\u5bbd\u6170, \u5373\u4f7f\u62ef\u6551\u4e0d\u4e86\u4eba, \u8d77\u7801\u4e5f\u5c11\u7ed9\u4ed6\u4eec\u9020\u6210\u4f24\u5bb3, \u6709\u65f6\u751a\u81f3\u7ed9\u4ed6\u4eec\u505a\u70b9\u597d\u4e8b. \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48, \u6211\u51b3\u5b9a\u62d2\u7edd\u4e00\u5207\u76f4\u63a5\u6216\u95f4\u63a5\u7684, \u6709\u7406\u6216\u65e0\u7406\u7684\u6740\u4eba\u884c\u4e3a, \u4e5f\u4e0d\u4e3a\u6740\u4eba\u7684\u884c\u4e3a\u8fa9\u89e3. </p> <p>\"\u5927\u5730\u4e0a\u8fd8\u6709\u707e\u96be\u548c\u53d7\u5bb3\u8005, \u4e00\u5b9a\u5f97\u5c3d\u53ef\u80fd\u62d2\u7edd, \u4e0d\u8981\u548c\u707e\u96be\u540c\u6d41\u5408\u6c61. \u6211\u542c\u8fc7\u90a3\u4e48\u591a\u9ad8\u8c08\u9614\u8bba, \u8111\u888b\u51e0\u4e4e\u7ed9\u5f04\u6655\u4e86, \u54ea\u4e9b\u9ad8\u8c08\u9614\u8bba\u4e5f\u8db3\u4ee5\u4f7f\u5176\u4ed6\u4e00\u4e9b\u4eba\u6655\u5934\u8f6c\u5411, \u7ed3\u679c\u540c\u610f\u53bb\u6740\u4eba\u4e86. \u4ece\u800c\u4e5f\u4f7f\u6211\u660e\u767d\u4e86, \u4eba\u7684\u4e0d\u5e78\u7f18\u4e8e\u4ed6\u4eec\u6ca1\u6709\u4f7f\u7528\u4e00\u79cd\u6e05\u6670\u7684\u8bed\u8a00. \u4e8e\u662f\u6211\u51b3\u5b9a\u8bb2\u8bdd\u548c\u884c\u52a8\u90fd\u8981\u660e\u660e\u767d\u767d, \u4ee5\u4fbf\u8d70\u5728\u6b63\u9053\u4e0a. \u56e0\u6b64, \u6211\u8bf4\u4e16\u95f4\u6709\u82e6\u96be\u548c\u53d7\u5bb3\u8005, \u9664\u6b64\u4e0d\u518d\u591a\u8bf4\u4ec0\u4e48. \u5982\u679c\u8bf4, \u6211\u8bf4\u8fd9\u8bdd\u5417\u672c\u8eab\u5c31\u53d8\u6210\u707e\u7978, \u90a3\u4e48\u81f3\u5c11, \u5e76\u975e\u6211\u60c5\u613f. \u6211\u8bd5\u56fe\u6210\u4e3a\u4e00\u4e2a\u65e0\u8f9c\u7684\u6740\u4eba\u8005. \u60a8\u77a7, \u8fd9\u4e0d\u662f\u4ec0\u4e48\u96c4\u5fc3\u5927\u5fd7.</p> <p>\"\u5f53\u7136\u8fd8\u5f97\u6709\u7b2c\u4e09\u5883\u754c, \u5373\u771f\u6b63\u533b\u751f\u7684\u5883\u754c. \u4f46\u662f\u8fd9\u79cd\u73b0\u8c61\u4e0d\u591a\u89c1, \u4f30\u8ba1\u662f\u5f88\u96be\u8fdb\u5165. \u56e0\u6b64, \u6211\u51b3\u5b9a\u7ad9\u5728\u53d7\u5bb3\u8005\u4e00\u8fb9, \u65e0\u8bba\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5, \u4ee5\u6c42\u51cf\u5c11\u635f\u5931. \u6211\u5728\u53d7\u5bb3\u8005\u4e2d\u95f4, \u81f3\u5c11\u53ef\u4ee5\u5bfb\u6c42\u5982\u4f55\u62b5\u8fbe\u7b2c\u4e09\u5883\u754c, \u4e5f\u5c31\u662f\u5230\u8fbe\u5b89\u5b81.\"</p> <p>\u5927\u592b\u95ee\u5854\u9c81\u662f\u5426\u6709\u4e86\u60f3\u6cd5, \u8d70\u4ec0\u4e48\u8def\u624d\u80fd\u8fbe\u5230\u5b89\u5b81.</p> <p>\"\u6709\u554a, \u5c31\u662f\u540c\u60c5.\"</p> <p>\u5728\u9632\u6ce2\u5824\u7684\u5de8\u5927\u77f3\u57fa\u811a\u4e0b, \u6d77\u5728\u8f7b\u8f7b\u5730\u547c\u5578. \u4ed6\u4eec\u767b\u4e0a\u77f3\u57fa, \u5c31\u89c9\u5f97\u6d77\u5982\u4e1d\u7ed2\u822c\u539a\u5b9e, \u53c8\u5982\u91ce\u517d\u6bdb\u76ae\u4f3c\u7684\u67d4\u8f6f\u5149\u6ed1. \u4ed6\u4eec\u5750\u5230\u5ca9\u77f3\u4e0a, \u9762\u5411\u5927\u6d77. \u6d77\u6c34\u9686\u8d77\u6765, \u53c8\u7f13\u7f13\u843d\u4e0b\u53bb, \u8fd9\u79cd\u5e73\u9759\u7684\u547c\u5438, \u5e26\u8d77\u6c34\u9762\u65f6\u73b0\u65f6\u9690\u7684\u6cb9\u4eae\u6ce2\u5149. \u773c\u524d\u9ed1\u591c\u832b\u65e0\u9645\u6daf. \u91cc\u5384\u611f\u5230\u624b\u6307\u4e0b\u5ca9\u77f3\u51f9\u51f8\u4e0d\u5e73\u7684\u9762\u5b54, \u5fc3\u7406\u5145\u6ee1\u4e86\u4e00\u79cd\u5947\u5f02\u7684\u5e78\u798f. \u4ed6\u8f6c\u5411\u5854\u9c81, \u4ece\u670b\u53cb\u5b89\u8be6\u800c\u4e25\u8083\u7684\u8138\u4e0a, \u731c\u5f97\u51fa\u540c\u6837\u7684\u5e78\u798f\u611f, \u4f46\u53c8\u672a\u5c1d\u5fd8\u8bb0\u4efb\u4f55\u4e8b\u60c5, \u5c31\u8fde\u6740\u4eba\u4e5f\u6ca1\u6709\u5fd8\u6000.</p> <pre><code>\u5854\u9c81\u63ed\u9732\u4e86\u81ea\u5df1\u7684\u5f80\u4e8b, \u4ece\u8868\u9762\u4e0a\u770b\u662f\u4e00\u4e2a\u575a\u5b9a\u7684\u5e9f\u6b7b\u4e3b\u4e49\u8005. \u6211\u4eec\u6bcf\u4e2a\u4eba\u90fd\u4f1a\u6210\u4e3a\u6076\u4eba\u4f24\u5bb3\u5230\u522b\u4eba, \u5854\u9c81\u548c\u91cc\u5384\u51b3\u5fc3\u7ad9\u5230\u53d7\u5bb3\u8005\u8fd9\u8fb9.\n</code></pre>"},{"location":"wen/LaPeste/#3","title":"\u7b2c\u56db\u90e8\u6458\u5f553","text":"<p>\u4e94\u6708\u4e00\u4e2a\u7f8e\u4e3d\u7684\u6e05\u6668, \u4e00\u4f4d\u8eab\u6750\u4fee\u957f\u7684\u5973\u9a91\u58eb, \u5ea7\u4e0b\u4e00\u5339\u534e\u8d35\u7684\u963f\u52d2\u6851\u725d\u9a6c, \u5954\u9a70\u5728\u5e03\u6d1b\u6d85\u68ee\u6797\u516c\u56ed\u5f00\u6ee1\u9c9c\u82b1\u7684\u5c0f\u5f84\u4e0a.</p> <p>Par une belle matin\u00e9e de mai, une svelte amazone, mont\u00e9e sur une somptueuse jument alezane, parcourait, au milieu des fleurs, les all\u00e9es du Bois\u2026 </p>"},{"location":"wen/LaPeste/#_4","title":"\u7b2c\u4e94\u90e8","text":"<pre><code>\u60c5\u51b5\u597d\u8d77\u6765\u4e86, \u4f46\u662f\u5854\u9c81\u6b7b\u4e86, \u5c31\u597d\u50cf\u674e\u821c\u81e3\u4e00\u6837, \u6b7b\u5728\u4e86\u80dc\u5229\u4e4b\u524d. \u4e0b\u9762\u5c31\u968f\u4fbf\u6458\u5f55\u4e86.\n</code></pre>"},{"location":"wen/LaPeste/#1_1","title":"1","text":"<p>\u4e00\u4e2a\u9ed1\u5f71\uff0c\u8f7b\u5feb\u5730\u8dd1\u5728\u5e7d\u6697\u7684\u9a6c\u8def\u4e0a\u3002\u90a3\u662f\u4e00\u53ea\u732b\uff0c\u81ea\u6625\u5929\u4ee5\u6765\u91cd\u53c8\u89c1\u5230\u7684\u7b2c\u4e00\u53ea\u732b\u3002\u732b\u505c\u7559\u5728\u9a6c\u8def\u4e2d\u95f4\uff0c\u72b9\u8c6b\u7247\u523b\uff0c\u8214\u4e86\u8214\u722a\u5b50\uff0c\u53c8\u62ac\u8d77\u722a\u5b50\u8fc5\u901f\u6320\u4e86\u4e00\u4e0b\u53f3\u8033\u6735\uff0c\u968f\u540e\u53c8\u8dd1\u8d77\u6765\uff0c\u6084\u65e0\u58f0\u606f\uff0c\u9690\u6ca1\u5728\u591c\u8272\u4e2d\u3002\u5854\u9c81\u6b23\u7136\u4e00\u7b11\u3002\u90a3\u77ee\u8001\u5934\u89c1\u4e86\u51c6\u9ad8\u5174\u3002</p>"},{"location":"wen/LaPeste/#2_1","title":"2","text":"<p>\u4eba\u4e5f\u8bb8\u53ea\u80fd\u8fbe\u5230\u8fd1\u4e4e\u5723\u4eba\u7684\u5883\u754c\u3002\u679c\u771f\u5982\u6b64\uff0c\u90a3\u5c31\u5e94\u8be5\u9002\u53ef\u800c\u6b62\uff0c\u505a\u4e00\u4e2a\u8c26\u6291\u800c\u4ec1\u6148\u7684\u6492\u65e6\u5427\u3002\u5854\u9c81\u60f3\u3002</p>"},{"location":"wen/LaPeste/#3_1","title":"3","text":"<p>\u5979\u8fd8\u5c24\u5176\u504f\u7231\u4e00\u6247\u7a97\u6237\uff1a\u90a3\u6247\u7a97\u6237\u671d\u5411\u6e05\u9759\u7684\u8857\u9053\uff0c\u6bcf\u5929\u508d\u665a\uff0c\u5979\u603b\u5750\u5728\u7a97\u524d\uff0c\u8eab\u5b50\u5fae\u5fae\u633a\u76f4\uff0c\u53cc\u624b\u5b89\u95f2\u5730\u653e\u5728\u819d\u4e0a\uff0c\u76ee\u5149\u51dd\u6ce8\uff0c\u4e00\u76f4\u5230\u669d\u8272\u4fb5\u5165\u623f\u95f4\uff0c\u5979\u6210\u4e3a\u9ed1\u8272\u7684\u5f62\u5f71\uff0c\u800c\u5468\u56f4\u7070\u8499\u8499\u7684\u5149\u4eae\u9010\u6e10\u6697\u6de1\u4e0b\u6765\uff0c\u6700\u7ec8\u878d\u5408\u4e86\u90a3\u7eb9\u4e1d\u4e0d\u52a8\u7684\u8eab\u5f71\u3002\u5854\u9c81\u8fd8\u7279\u522b\u5f3a\u8c03\uff0c\u5979\u4ece\u4e00\u4e2a\u623f\u95f4\u8d70\u5230\u53e6\u4e00\u4e2a\u623f\u95f4\uff0c\u811a\u6b65\u5f02\u5e38\u8f7b\u76c8\u3002\u5979\u90a3\u4e48\u5584\u826f\uff0c\u5374\u4ece\u672a\u5728\u5854\u9c81\u9762\u524d\u62ff\u51fa\u5177\u4f53\u7684\u4f8b\u8bc1\uff0c\u4f46\u662f\u5854\u9c81\u5728\u5979\u7684\u4e00\u8a00\u4e00\u884c\u4e2d\uff0c\u80fd\u8ba4\u51fa\u5584\u826f\u7684\u5149\u8292\u3002\u6700\u540e\u8fd8\u8c08\u5230\u4e00\u4e2a\u4e8b\u5b9e\uff0c\u5854\u9c81\u8ba4\u4e3a\uff0c\u8001\u592a\u592a\u4ece\u4e0d\u601d\u7d22\u5c31\u6d1e\u5bdf\u4e00\u5207\uff0c\u5979\u4e0e\u6c89\u9ed8\u548c\u9634\u5f71\u76f8\u4f34\uff0c\u5374\u59cb\u7ec8\u80fd\u505c\u7559\u5728\u4efb\u4f55\u5149\u660e\u7684\u9ad8\u5ea6\uff0c\u54ea\u6015\u662f\u9f20\u75ab\u7684\u4eae\u5ea6\u3002</p>"},{"location":"wen/LaPeste/#4","title":"4","text":"<p>\u4e8e\u662f\uff0c\u5979\u4fef\u8fc7\u8eab\u53bb\uff0c\u5c06\u6795\u5934\u57ab\u9ad8\u4e00\u70b9\uff0c\u76f4\u8d77\u8eab\u6765\uff0c\u4e00\u53ea\u624b\u653e\u5230\u4ed6\u90a3\u6f6e\u6e7f\u800c\u5377\u66f2\u7684\u5934\u53d1\u4e0a\uff0c\u629a\u6469\u4e86\u4e00\u4f1a\u513f\u3002\u4e8e\u662f\u5979\u542c\u89c1\u5854\u9c81\u5bf9\u5979\u8bf4\u4e00\u58f0\u201c\u8c22\u8c22\uff0c\u73b0\u5728\u4e00\u5207\u90fd\u597d\u201d\uff0c\u58f0\u97f3\u975e\u5e38\u4f4e\u6c89\uff0c\u4eff\u4f5b\u4ece\u8fdc\u5904\u4f20\u6765\u3002\u8001\u592a\u592a\u91cd\u53c8\u5750\u4e0b\u65f6\uff0c\u5854\u9c81\u5df2\u7ecf\u5408\u4e0a\u773c\u775b\uff0c\u4ed6\u90a3\u5f20\u75b2\u60eb\u7684\u8138\u5c3d\u7ba1\u53cc\u5507\u7d27\u95ed\uff0c\u5374\u4f3c\u4e4e\u91cd\u53c8\u6cdb\u8d77\u4e00\u4e1d\u5fae\u7b11\u3002</p> <p>\u4f46\u65f6\u8fc7\u4e0d\u4e45\uff0c\u4ed6\u7741\u5f00\u773c\u775b\u7684\u6b21\u6570\u8d8a\u6765\u8d8a\u7a00\u5c11\uff0c\u800c\u4ed6\u60e8\u906d\u75c5\u9b54\u6467\u6b8b\u7684\u8138\u5e9e\uff0c\u5728\u9633\u5149\u7684\u6620\u7167\u4e0b\uff0c\u6bcf\u6b21\u770b\u90fd\u66f4\u52a0\u82cd\u767d\u4e86\u3002\u9ad8\u70e7\u7684\u6025\u98ce\u66b4\u96e8\uff0c\u5f15\u53d1\u4ed6\u8eab\u4f53\u62bd\u6410\u60ca\u8df3\uff0c\u4f46\u662f\u7167\u4eae\u4ed6\u5934\u8111\u7684\u95ea\u7535\u5374\u8d8a\u6765\u8d8a\u5c11\u89c1\u4e86\uff0c\u5854\u9c81\u88ab\u7f13\u7f13\u5730\u5377\u8fdb\u8fd9\u98ce\u66b4\u7684\u6df1\u5e95\u3002\u91cc\u5384\u4ece\u6b64\u9762\u5bf9\u7684\u662f\u4e00\u526f\u7b11\u5bb9\u6d88\u5931\u800c\u6beb\u65e0\u751f\u6c14\u7684\u9762\u5177\u3002\u8fd9\u526f\u4eba\u7684\u5f62\u9ab8\uff0c\u66fe\u7ecf\u548c\u4ed6\u90a3\u4e48\u4eb2\u8fd1\uff0c\u73b0\u5728\u88ab\u75c5\u9b54\u7684\u957f\u77db\u523a\u5f97\u904d\u4f53\u9cde\u4f24\uff0c\u88ab\u4e00\u79cd\u9a87\u4eba\u7684\u75c5\u75db\u70e7\u7126\uff0c\u8fd8\u88ab\u5929\u964d\u7684\u4ec7\u6068\u4e4b\u98ce\u6240\u626d\u66f2\uff0c\u773c\u770b\u7740\u6c89\u5165\u9f20\u75ab\u7684\u75be\u6d41\u4e2d\uff0c\u91cc\u5384\u5374\u65e0\u80fd\u4e3a\u529b\uff0c\u6551\u4e0d\u4e86\u9047\u96be\u7684\u670b\u53cb\u3002\u4ed6\u53ea\u80fd\u505c\u5728\u5cb8\u8fb9\uff0c\u5fc3\u4f3c\u5200\u7ede\uff0c\u4e24\u624b\u7a7a\u7a7a\uff0c\u6ca1\u6709\u6b66\u5668\uff0c\u5b64\u7acb\u65e0\u63f4\uff0c\u9762\u5bf9\u8fd9\u573a\u52ab\u96be\uff0c\u518d\u4e00\u6b21\u675f\u624b\u65e0\u7b56\u3002\u6700\u7ec8\uff0c\u65e0\u80fd\u4e3a\u529b\u7684\u6cea\u6c34\u6a21\u7cca\u4e86\u773c\u775b\uff0c\u91cc\u5384\u672a\u80fd\u770b\u89c1\u5854\u9c81\u731b\u7136\u8f6c\u5411\u5899\u58c1\uff0c\u968f\u7740\u4e00\u58f0\u4f4e\u6c89\u7684\u54c0\u53f9\u4fbf\u54bd\u4e86\u6c14\uff0c\u5c31\u597d\u50cf\u4ed6\u4f53\u5185\u4e00\u6839\u4e3b\u5f26\u65ad\u4e86\u3002</p>"},{"location":"wen/beggar/","title":"\u4e00\u7cfb\u5217\u4e66","text":""},{"location":"wen/beggar/#_2","title":"\u8d4c\u5f92","text":""},{"location":"wen/beggar/#_3","title":"\u4e00\u4e2a\u5382\u4e3b\u7684\u65e9\u5e74\u751f\u6d3b","text":"<p>\u4e3b\u89d2\u5415\u897f\u5b89\u4ece\u5c0f\u5c31\u4e3a\u81ea\u5df1\u7684\u5b58\u5728\u800c\u56f0\u60d1\u3002\u5c0f\u670b\u53cb\u5c45\u7136\u5728\u8003\u8651\u81ea\u5df1\u505a\u7684\u4e00\u5207\u662f\u5426\u662f\u5728\u6f14\u620f\u7684\u95ee\u9898\uff0c\u4e0d\u6127\u662f\u6cd5\u56fd\u7684\u5c0f\u670b\u53cb\u3002\u4ed6\u540e\u9762\u4e0d\u95ee\u4e86\uff0c\u4e8e\u662f\u6210\u4e3a\u4e86\u5f02\u6027\u604b\uff0c\u53c2\u52a0\u653f\u6cbb\u96c6\u4f1a\uff0c\u7231\u4e00\u4e2a\u60c5\u4eba\uff0c\u6210\u4e3a\u4e00\u4e2a\u5382\u4e3b\u3002\u5c31\u597d\u50cf\u666e\u901a\u4eba\u4e00\u6837\u3002\u4f46\u662f\u6211\u89c9\u5f97\u513f\u65f6\u7684\u95ee\u9898\u4e00\u76f4\u56f0\u6270\u4ed6\u5427\u3002\u4eca\u5929\u5728\u77e5\u4e4e\u4e0a\u5237\u7684\u4e00\u4e2a\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u5415\u897f\u5b89\u4e5f\u95ee\u4e86\uff1a\u201c\u65e0\u8bba\u5982\u4f55\uff0c\u6211\u6ca1\u6709\u8981\u6c42\u51fa\u751f\u3002\u201d\u4f46\u662f\u4ed6\u8fd8\u662f\u6765\u5230\u4e86\u8fd9\u4e2a\u4e16\u4e0a\u3002\u4ed6\u8feb\u4f7f\u81ea\u5df1\u968f\u5927\u6d41\u5730\u751f\u6d3b\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u5f00\u201c\u6f14\u620f\u201d\u7684\u95ee\u9898\u5417\u3002\u4f60\u662f\u8682\u8681\uff0c\u4f60\u7684\u5b58\u5728\u662f\u4e3a\u8681\u7fa4\u670d\u52a1\uff0c\u4e0d\u4e0e\u4f17\u4e0d\u540c\u603b\u5f52\u4f7f\u81ea\u5df1\u66f4\u5b89\u5168\u3002\u611f\u89c9\u81ea\u5df1\u8868\u8fbe\u771f\u6709\u4e9b\u5dee\u4e86\uff0c\u4e0d\u4f1a\u63cf\u8ff0\u5c31\u4e0d\u4f1a\u63cf\u8ff0\u5427\u3002\u8428\u7279\u5bf9\u4eba\u5fc3\u7406\u7684\u523b\u753b\u8fd8\u7b97\u4e0d\u9519\u3002</p>"},{"location":"wen/beggar/#_4","title":"\u5b89\u5a1c\u00b7\u5361\u5217\u5c3c\u5a1c","text":"<p>\u6211\u771f\u7684\u7279\u522b\u559c\u6b22\u5979\u3002</p>"},{"location":"wen/beggar/#_5","title":"\u751f\u6b7b\u573a","text":"<p>\u8427\u7ea2\u7ec6\u817b\u7684\u6587\u5b57\u7adf\u7136\u80fd\u63cf\u5199\u51fa\u8fd9\u6837\u9ed1\u6697\u7684\u4e61\u6751\u3002\u4e3a\u5979\u7684\u9003\u79bb\u548c\u53cd\u6297\u611f\u5230\u975e\u5e38\u7684\u745e\u601d\u62dc\u3002</p> <p>\u540c\u6837\uff0c\u60f3\u5230\u6258\u5c14\u65af\u6cf0\u6700\u540e\u4ee5\u8eab\u8bc1\u9053\uff0c\u8ba9\u4eba\u611f\u52a8\u3002</p>"},{"location":"wen/kab/","title":"\u5361\u62c9\u9a6c\u4f50\u592b\u5144\u5f1f","text":"<p>\u9605\u8bfb\u65f6\u6ce8\u610f\uff0c\u5f88\u591a\u60c5\u8282\u662f\u5bf9\u8bdd\u63a8\u52a8\u7684\uff0c\u6bd4\u5982\u8001\u5361\u62c9\u9a6c\u4f50\u592b\u56e0\u5403\u918b\u628a\u81ea\u5df1\u513f\u5b50\u7684\u501f\u8d37\u8f6c\u79fb\u7ed9\u98ce\u6d41\u4f73\u4eba\u597d\u8ba9\u513f\u5b50\u5403\u5b98\u53f8\u3002</p> <p>\u4e3a\u4ec0\u4e48\u201c\u7075\u9b42\u6c38\u751f\u4e0d\u706d\u201d\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u95ee\u9898\uff1f</p> <p>\u9996\u5148\u662f\u5973\u5730\u4e3b\u63d0\u51fa\u4e86\u8d28\u7591\uff0c\u4f50\u897f\u9a6c\u957f\u8001\u56de\u7b54\u8bf4\u201c\u65e0\u6cd5\u8bc1\u660e\uff0c\u53ea\u80fd\u786e\u4fe1\uff1b\u901a\u8fc7\u5207\u5b9e\u7684\u7231\u7684\u7ecf\u9a8c\u53bb\u575a\u6301\u4e0d\u61c8\u7684\u7231\u4e16\u4eba\uff0c\u5c31\u53ef\u4ee5\u9010\u6b65\u76f8\u4fe1\u4e0a\u5e1d\u7684\u5b58\u5728\u548c\u7075\u9b42\u7684\u6c38\u751f\u3002\u201d</p> <p>\u4e3a\u4ec0\u4e48\u8fd9\u91cc\u8981\u7231\u4e16\u4eba\uff1f\u524d\u9762\u4e00\u8282\u201c\u4fe1\u5973\u201d\u63cf\u7ed8\u4e86\u5404\u5f0f\u5404\u6837\u6765\u8bf7\u6c42\u957f\u8001\u795d\u798f\u7684\u5973\u4eba\uff0c\u5979\u4eec\u771f\u7684\u5f88\u4e0d\u5e78\u3002\u9b3c\u53f7\u5a46\u5a18\uff0c\u5931\u53bb\u5b69\u5b50\u7684\u6bcd\u4eb2\u548c\u88ab\u5bb6\u66b4\u7684\u59bb\u5b50\u3002\u544a\u8bc9\u5979\u4eec\u7075\u9b42\u662f\u6c38\u751f\u7684\uff0c\u624d\u80fd\u8ba9\u5979\u4eec\u80fd\u591f\u63a5\u53d7\u6b7b\u4ea1\uff1b\u6709\u7740\u4e0a\u5e1d\u7684\u5b58\u5728\uff0c\u624d\u80fd\u63a5\u53d7\u73b0\u5b9e\u7684\u6b8b\u9177\u60b2\u60e8\uff0c\u4e0a\u5e1d\u53ef\u4ee5\u6d17\u6da4\u5fc3\u7075\u7684\u7f6a\u6076\u548c\u9b54\u9b3c\u3002\u7231\u4e16\u4eba\u662f\u5bf9\u4e16\u4eba\u7684\u4e0d\u5e78\u7684\u601c\u60af\u5417\uff1f</p> <p>\u4e0b\u4e00\u8282\u7684\u56fd\u5bb6\u5347\u7ea7\u6210\u6559\u4f1a\u4e5f\u662f\u8fd9\u4e2a\u610f\u601d\u3002\u7531\u6559\u4f1a\u6765\u5ba1\u5224\uff0c\u4e00\u4e2a\u5b8c\u5b8c\u5168\u5168\u57fa\u7763\u5f92\u7684\u4e16\u754c\uff0c\u7f6a\u72af\u4f1a\u610f\u8bc6\u5230\u81ea\u5df1\u7684\u7f6a\uff0c\u63a5\u53d7\u771f\u6b63\u7684\u60e9\u7f5a\uff08\u800c\u4e0d\u662f\u673a\u68b0\u7684\uff0c\u5982\u52b3\u5f79\u3001\u6740\u5934\uff09\uff0c\u800c\u662f\u5fc3\u7075\u7684\u4e0d\u5b89\uff0c\u800c\u51cf\u5c11\u72af\u7f6a\uff0c\u56e0\u4e3a\u6709\u4e0a\u5e1d\uff0c\u4e0a\u5e1d\u8fd8\u80fd\u5bbd\u6055\u4f60\u7684\u7f6a\u8fc7\uff0c\u800c\u4e0d\u81f4\u8ba9\u4f60\u7834\u7f50\u7834\u6454\u3002</p> <p>\u6700\u540e\u662f\u65e0\u795e\u8bba\u8005\u4f0a\u51e1\u7684\u53d1\u8a00\uff0c\u5982\u679c\u7075\u9b42\u4e0d\u6c38\u751f\uff0c\u53c8\u5982\u4f55\uff1f</p> <p>\u201c\u6211\u518d\u6b21\u8bf7\u6c42\u8fd9\u4e2a\u9898\u76ee\u5c31\u522b\u518d\u8c08\u4e0b\u53bb\u4e86\uff0c\u201d\u5f7c\u5f97\u00b7\u4e9a\u5386\u5c71\u5fb7\u7f57\u7ef4\u5947\u53c8\u8bf4\u9053\uff0c\u201c\u8bf8\u4f4d\uff0c\u8fd8\u662f\u8ba9\u6211\u6765\u7ed9\u4f60\u4eec\u53e6\u5916\u8bb2\u4e00\u5219\u4f0a\u4e07\u00b7\u8d39\u5965\u591a\u7f57\u7ef4\u5947\u81ea\u5df1\u7684\u8f76\u4e8b\u5427\uff0c\u90a3\u662f\u6781\u5176\u6709\u610f\u601d\u800c\u53c8\u6781\u5176\u8bf4\u660e\u95ee\u9898\u7684\u3002\u4ec5\u4ec5\u4e94\u5929\u4ee5\u524d\uff0c\u672c\u5730\u6709\u4e00\u6b21\u4ee5\u5973\u58eb\u5c45\u591a\u7684\u805a\u4f1a\uff0c\u4ed6\u5728\u90a3\u91cc\u7684\u4e89\u8bba\u4e2d\u90d1\u91cd\u5176\u4e8b\u5730\u5ba3\u79f0\uff0c\u4e16\u4e0a\u6ca1\u6709\u4efb\u4f55\u529b\u91cf\u80fd\u8feb\u4f7f\u4eba\u4eec\u7231\u5176\u540c\u7c7b\uff0c\u4eba\u7231\u4eba\u7c7b\u8fd9\u6837\u7684\u81ea\u7136\u6cd5\u5219\u6839\u672c\u4e0d\u5b58\u5728\uff0c\u5982\u679c\u8bf4\u8fc4\u4eca\u4e3a\u6b62\u4e16\u4e0a\u6709\u7231\u6216\u6709\u8fc7\u7231\uff0c\u90a3\u5e76\u4e0d\u662f\u81ea\u7136\u6cd5\u5219\u4f7f\u7136\uff0c\u800c\u7eaf\u7cb9\u662f\u56e0\u4e3a\u4eba\u4eec\u76f8\u4fe1\u81ea\u5df1\u53ef\u4ee5\u6c38\u751f\u3002\u4f0a\u4e07\u00b7\u8d39\u5965\u591a\u7f57\u7ef4\u5947\u8bf4\u5230\u8fd9\u91cc\u4f5c\u4e86\u4e00\u70b9\u8865\u5145\uff1a\u5168\u90e8\u81ea\u7136\u6cd5\u5219\u5c3d\u5728\u4e8e\u6b64\uff0c\u6240\u4ee5\uff0c\u5018\u82e5\u628a\u4eba\u7c7b\u8ba4\u4e3a\u81ea\u5df1\u53ef\u4ee5\u6c38\u751f\u7684\u4fe1\u5ff5\u52a0\u4ee5\u6467\u6bc1\uff0c\u90a3\u4e48\uff0c\u4e0d\u4ec5\u4eba\u7c7b\u8eab\u4e0a\u7684\u7231\u4f1a\u67af\u7aed\uff0c\u800c\u4e14\u4eba\u7c7b\u8d56\u4ee5\u7ef4\u6301\u5c18\u4e16\u751f\u6d3b\u7684\u4e00\u5207\u751f\u547d\u529b\u90fd\u5c06\u67af\u7aed\u3002\u8fd9\u4e14\u4e0d\u8bf4\u3002\u5230\u90a3\u65f6\u5c31\u6ca1\u6709\u4ec0\u4e48\u662f\u4e0d\u9053\u5fb7\u7684\u4e86\uff0c\u5230\u90a3\u65f6\u5c06\u65e0\u6240\u4e0d\u53ef\uff0c\u751a\u81f3\u53ef\u4ee5\u5403\u4eba\u8089\u3002\u4f46\u8fd9\u8fd8\u6ca1\u5b8c\u3002\u6700\u540e\u4ed6\u65ad\u8a00\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u65e2\u4e0d\u4fe1\u4e0a\u5e1d\u3001\u4e5f\u4e0d\u4fe1\u81ea\u5df1\u80fd\u6c38\u751f\u7684\u4e2a\u4eba\u6765\u8bf4\uff0c\u5982\u6211\u4eec\u73b0\u5728\u4fbf\u662f\uff0c\u81ea\u7136\u7684\u9053\u5fb7\u6cd5\u5219\u5fc5\u987b\u9a6c\u4e0a\u4e00\u53cd\u8fc7\u53bb\u7684\u5b97\u6559\u6cd5\u5219\uff1b\u4eba\u7684\u5229\u5df1\u4e3b\u4e49\uff0c\u54ea\u6015\u662f\u7f6a\u6076\u884c\u4e3a\uff0c\u4e0d\u4f46\u5e94\u5f53\u5141\u8bb8\uff0c\u751a\u81f3\u5e94\u5f53\u627f\u8ba4\u5904\u5728\u4ed6\u7684\u5883\u5730\u90a3\u662f\u4e0d\u53ef\u907f\u514d\u7684\u3001\u6700\u5408\u60c5\u5408\u7406\u7684\u3001\u7b80\u76f4\u65e0\u6bd4\u9ad8\u5c1a\u7684\u89e3\u51b3\u529e\u6cd5\u3002\u8bf8\u4f4d\uff0c\u6839\u636e\u8fd9\u756a\u602a\u8bba\u4f60\u4eec\u4e0d\u96be\u63a8\u65ad\uff0c\u6211\u4eec\u4eb2\u7231\u7684\u5947\u8c08\u602a\u8bba\u5bb6\u4f0a\u4e07\u00b7\u8d39\u5965\u591a\u7f57\u7ef4\u5947\u6240\u53d1\u8868\u7684\u4ee5\u53ca\u4ed6\u4e5f\u8bb8\u8fd8\u6253\u7b97\u53d1\u8868\u7684\u5176\u4f59\u79cd\u79cd\u662f\u4e9b\u4ec0\u4e48\u4e86\u3002\u201d</p> <p>\u6240\u4ee5\u4e3a\u4ec0\u4e48\u7075\u9b42\u7684\u6c38\u5b58\u548c\u9053\u5fb7\u7ed1\u5b9a\uff1f\u7075\u9b42\u4e0d\u6c38\u5b58\uff0c\u610f\u5473\u7740\u5931\u53bb\u4e86\u7ea6\u675f</p> <p>\u9640\u6c0f\u7684\u4f5c\u54c1\u7684\u4eba\u7269\u7684\u611f\u60c5\u90fd\u597d\u70bd\u70c8\uff1a</p> <p>\u73b0\u5728\u6211\u60f3\u8ddf\u4f60\u8c08\u8c08\u4e0a\u5e1d\u8d50\u7ed9\u4e86\u5b83\u4eec\u60c5\u6b32\u7684\u4e00\u79cd\u866b\u5b50\uff1a\u7ed9\u866b\u5b50\u7684\u662f\u60c5\u6b32\uff01\u5144\u5f1f\uff0c\u6211\u4fbf\u662f\u8fd9\u6837\u4e00\u53ea\u866b\u5b50\uff0c\u90a3\u8bdd\u6307\u7684\u5c31\u662f\u6211\u3002\u54b1\u4eec\u5361\u62c9\u9a6c\u4f50\u592b\u5bb6\u7684\u4eba\u90fd\u662f\u8fd9\u6837\uff0c\u4f60\u867d\u7136\u662f\u5929\u4f7f\uff0c\u53ef\u662f\u5728\u4f60\u8eab\u4e0a\u4e5f\u6f5c\u4f0f\u7740\u8fd9\u866b\u5b50\uff0c\u5b83\u4f1a\u5728\u4f60\u7684\u8840\u6db2\u91cc\u5174\u98ce\u4f5c\u6d6a\u3002\u5bf9\uff0c\u786e\u5b9e\u4f1a\u5174\u98ce\u4f5c\u6d6a\uff0c\u56e0\u4e3a\u60c5\u6b32\u5c31\u662f\u72c2\u98ce\u6076\u6d6a\uff0c\u751a\u81f3\u6bd4\u8fd9\u66f4\u51f6\u731b\uff01\u7f8e\u662f\u5f88\u53ef\u6015\u3001\u602a\u5413\u4eba\u7684\uff01\u4e4b\u6240\u4ee5\u53ef\u6015\uff0c\u56e0\u4e3a\u5b83\u795e\u79d8\u83ab\u6d4b\uff1b\u4e4b\u6240\u4ee5\u795e\u79d8\u83ab\u6d4b\uff0c\u662f\u56e0\u4e3a\u4e0a\u5e1d\u5c3d\u51fa\u4e9b\u8ba9\u4eba\u731c\u4e0d\u900f\u7684\u8c1c\u3002\u8fd9\u91cc\u597d\u591a\u754c\u9650\u662f\u6a21\u7cca\u4e0d\u6e05\u7684\uff0c\u5404\u79cd\u5404\u6837\u7684\u77db\u76fe\u4ea4\u7ec7\u5728\u4e00\u8d77\u3002\u5144\u5f1f\uff0c\u6211\u6ca1\u4ec0\u4e48\u5b66\u95ee\uff0c\u4f46\u6211\u5bf9\u8fd9\u4e8b\u513f\u60f3\u5f97\u5f88\u591a\u3002\u5176\u4e2d\u7684\u5965\u79d8\u591a\u5f97\u4e0d\u5f97\u4e86\uff01\u4e16\u4e0a\u6709\u592a\u591a\u592a\u591a\u7684\u8c1c\u538b\u5f97\u4eba\u5598\u4e0d\u8fc7\u6c14\u6765\u3002\u4f60\u5f97\u60f3\u5c3d\u529e\u6cd5\u53bb\u89e3\u7b54\uff0c\u8fd8\u5f97\u5e72\u5e72\u51c0\u51c0\u8131\u8eab\u3002\u7f8e\uff01\u4e0d\u8fc7\uff0c\u6709\u7684\u4eba\u5fc3\u5730\u9ad8\u6d01\u3001\u667a\u6167\u51fa\u4f17\uff0c\u4ed6\u4eec\u773c\u91cc\u7684\u7f8e\u4ee5\u5723\u6d01\u7684\u7406\u60f3\u5f00\u59cb\uff0c\u5374\u4ee5\u8089\u6b32\u7684\u5316\u8eab\u544a\u7ec8\uff0c\u90a3\u6211\u5b9e\u5728\u53d7\u4e0d\u4e86\u3002\u66f4\u53ef\u6015\u7684\u662f\uff1a\u6709\u7684\u4eba\u5fc3\u4e2d\u5df2\u7ecf\u6709\u4e86\u8089\u6b32\u7684\u5316\u8eab\uff0c\u5374\u53c8\u4e0d\u5426\u5b9a\u5723\u6d01\u7684\u7406\u60f3\uff0c\u800c\u4e14\u4ed6\u7684\u5fc3\u4e5f\u80fd\u4e3a\u4e4b\u71c3\u70e7\uff0c\u5c31\u50cf\u5728\u767d\u74a7\u65e0\u7455\u7684\u5c11\u5e74\u65f6\u4ee3\u90a3\u6837\u4e0d\u6298\u4e0d\u6263\u5730\u71c3\u70e7\u3002\u786e\u5b9e\u5982\u6b64\uff0c\u4eba\u7684\u60f3\u6cd5\u5e45\u5ea6\u5bbd\u5f97\u5f88\uff0c\u800c\u4e14\u592a\u5bbd\u4e86\uff0c\u53ef\u60dc\u6211\u6ca1\u6cd5\u4f7f\u5b83\u53d8\u5f97\u7a84\u4e00\u4e9b\u3002\u9b3c\u77e5\u9053\u90a3\u7a76\u7adf\u662f\u600e\u4e48\u56de\u4e8b\uff0c\u771f\u7684\uff01\u7406\u667a\u8ba4\u4e3a\u662f\u803b\u8fb1\u7684\uff0c\u611f\u60c5\u504f\u504f\u5f53\u4f5c\u7edd\u5bf9\u7684\u7f8e\u3002\u7f8e\u662f\u5426\u610f\u5473\u7740\u8089\u6b32\uff1f\u76f8\u4fe1\u6211\uff0c\u5bf9\u4e8e\u5f88\u5927\u4e00\u90e8\u5206\u4eba\u6765\u8bf4\uff0c\u7f8e\u5c31\u5728\u8089\u6b32\u4e4b\u4e2d\uff0c\u2014\u2014\u2014\u2014\u8fd9\u5965\u79d8\u4f60\u77e5\u4e0d\u77e5\u9053\uff1f\u8981\u547d\u7684\u662f\uff0c\u7f8e\u8fd9\u4e2a\u4e1c\u897f\u4e0d\u4f46\u53ef\u6015\uff0c\u800c\u4e14\u795e\u79d8\u3002\u56f4\u7ed5\u7740\u8fd9\u4e8b\u513f\uff0c\u4e0a\u5e1d\u4e0e\u9b54\u9b3c\u5728\u90a3\u91cc\u640f\u6597\uff0c\u6218\u573a\u4fbf\u5728\u4eba\u4eec\u5fc3\u4e2d\u3002\u771f\u6ca1\u529e\u6cd5\uff0c\u4eba\u6709\u4ec0\u4e48\u5fc3\u75c5\uff0c\u4ed6\u5c31\u51c0\u8bf4\u8fd9\u75c5\u3002</p> <p>\u4e0a\u5e1d\u7684\u5b58\u5728\u4e0e\u5426\u5bf9\u4eba\u7684\u5f71\u54cd</p> <p>\u201c\u6784\u6210\u662f\u8db3\u4ee5\u6784\u6210\uff0c\u4f46\u60a8\u60f3\u60f3\uff0c\u683c\u91cc\u679c\u5229\u00b7\u74e6\u897f\u91cc\u8036\u7ef4\u5947\uff0c\u6b63\u56e0\u4e3a\u8fd9\u6784\u6210\u7f6a\u8fc7\uff0c\u624d\u66f4\u5e94\u5f53\u4ece\u8f7b\u53d1\u843d\u3002\u8981\u77e5\u9053\uff0c\u5018\u82e5\u5f53\u65f6\u6211\u50cf\u4e00\u4e2a\u771f\u6b63\u7684\u57fa\u7763\u5f92\u90a3\u6837\u4fe1\u4ef0\u771f\u7406\uff0c\u90a3\u4e48\uff0c\u6211\u62d2\u4e0d\u6b89\u6559\u5e76\u4e14\u6539\u5b97\u7a46\u7f55\u9ed8\u5fb7\u7684\u90aa\u6559\u786e\u5b9e\u662f\u7f6a\u8fc7\u3002\u7136\u800c\u5f53\u65f6\u5e76\u4e0d\u4f1a\u51fa\u73b0\u975e\u6b89\u96be\u4e0d\u53ef\u7684\u5c40\u9762\uff0c\u56e0\u4e3a\u53ea\u8981\u6211\u5bf9\u90a3\u5ea7\u5c71\u8bf4\uff1a\u2018\u79fb\u52a8\u8d77\u6765\uff0c\u628a\u654c\u4eba\u538b\u6b7b\uff01\u2019\u9877\u523b\u4e4b\u95f4\u5b83\u5c31\u4f1a\u79fb\u52a8\u8d77\u6765\uff0c\u9877\u523b\u4e4b\u95f4\u5c31\u4f1a\u628a\u654c\u4eba\u538b\u6b7b\uff0c\u50cf\u8e29\u6b7b\u87d1\u8782\u4e00\u6837\uff0c\u6211\u4fbf\u53ef\u4ee5\u5531\u7740\u9882\u626c\u4e0a\u5e1d\u7684\u8d5e\u6b4c\u626c\u957f\u800c\u53bb\u3002\u53ef\u662f\uff0c\u504f\u504f\u5728\u90a3\u4e2a\u65f6\u523b\u8fd9\u4e9b\u62db\u6570\u6211\u90fd\u8bd5\u8fc7\u4e86\uff0c\u5e76\u4e14\u7279\u5730\u5411\u7740\u90a3\u5ea7\u5c71\u9ad8\u558a\uff1a\u2018\u538b\u6b7b\u8fd9\u4e9b\u523d\u5b50\u624b\uff01\u2019\u2014\u2014\u5948\u4f55\u5b83\u5c31\u662f\u4e0d\u538b\u3002\u8bf7\u95ee\uff1a\u90a3\u65f6\u6211\u80fd\u4e0d\u52a8\u6447\uff1f\u5728\u5982\u6b64\u53ef\u6015\u7684\u65f6\u523b\uff0c\u9762\u5bf9\u504c\u5927\u7684\u6b7b\u4ea1\u5a01\u80c1\uff0c\u6211\u80fd\u4e0d\u52a8\u6447\uff1f\u6211\u77e5\u9053\u81ea\u5df1\u53cd\u6b63\u4e0d\u53ef\u80fd\u5b8c\u5b8c\u5168\u5168\u8fbe\u5230\u8fdb\u5165\u5929\u56fd\u7684\u76ee\u6807\uff08\u56e0\u4e3a\u5c71\u6ca1\u6709\u7167\u6211\u7684\u8bdd\u79fb\u52a8\u8d77\u6765\uff0c\u8fd9\u8868\u660e\u90a3\u8fb9\u4e0d\u592a\u76f8\u4fe1\u6211\u7684\u8654\u8bda\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u53e6\u4e00\u4e2a\u4e16\u754c\u6ca1\u6709\u592a\u5927\u7684\u5956\u8d4f\u5728\u7b49\u7740\u6211\uff09\uff0c\u90a3\u6211\u5e72\u5417\u8fd8\u8981\u5728\u5f97\u4e0d\u5230\u4efb\u4f55\u597d\u5904\u7684\u60c5\u51b5\u4e0b\u8ba9\u4eba\u5bb6\u6252\u6211\u7684\u76ae\uff1f\u56e0\u4e3a\u6211\u7684\u76ae\u5373\u4f7f\u5df2\u7ecf\u4ece\u80cc\u4e0a\u7ed9\u6252\u4e0b\u4e00\u534a\uff0c\u90a3\u5ea7\u5c71\u4e5f\u4e0d\u4f1a\u9075\u7167\u6211\u7684\u8a00\u8bed\u6216\u558a\u53eb\u79fb\u52a8\u8d77\u6765\u3002\u4eba\u5230\u90a3\u6837\u7684\u5173\u5934\u522b\u8bf4\u662f\u53d1\u751f\u52a8\u6447\uff0c\u751a\u81f3\u7531\u4e8e\u5bb3\u6015\u800c\u4e27\u5931\u7406\u667a\u4e5f\u6709\u53ef\u80fd\uff0c\u6240\u4ee5\u60f3\u8981\u4ed4\u7ec6\u8003\u8651\u6839\u672c\u505a\u4e0d\u5230\u3002\u65e2\u7136\u5728\u8fd9\u4e00\u4e2a\u4e16\u754c\u548c\u53e6\u4e00\u4e2a\u4e16\u754c\uff0c\u6211\u54ea\u513f\u90fd\u635e\u4e0d\u5230\u597d\u5904\uff0c\u5f97\u4e0d\u5230\u5956\u8d4f\uff0c\u90a3\u4e48\uff0c\u5982\u679c\u6211\u9009\u62e9\u4e86\u81f3\u5c11\u8fd8\u80fd\u4fdd\u4f4f\u81ea\u5df1\u4e00\u5f20\u76ae\u7684\u505a\u6cd5\uff0c\u53c8\u6709\u4ec0\u4e48\u5927\u4e0d\u4e86\u7684\u8fc7\u9519\uff1f\u6b63\u56e0\u4e3a\u5982\u6b64\uff0c\u5728\u5bf9\u4e0a\u5e1d\u7684\u4ec1\u6148\u6df1\u4fe1\u4e0d\u7591\u7684\u540c\u65f6\uff0c\u6211\u62b1\u7740\u4e00\u4e2a\u5e0c\u671b\uff0c\u90a3\u5c31\u662f\uff1a\u6211\u4f1a\u5f97\u5230\u5b8c\u5168\u7684\u5bbd\u6055\u2026\u2026\u201d</p> <p>\u4e89\u8bba\u7ed3\u675f\u4e86\uff0c\u4f46\u8bf4\u4e5f\u5947\u602a\uff0c\u521a\u624d\u90a3\u4e48\u5174\u9ad8\u91c7\u70c8\u7684\u8d39\u5965\u591a\u5c14\u00b7\u5df4\u752b\u6d1b\u7ef4\u5947\u4e34\u4e86\u8138\u8272\u7a81\u7136\u9634\u4e86\u4e0b\u6765\u3002\u4ed6\u9634\u7740\u8138\uff0c\u628a\u767d\u5170\u5730\u4e00\u996e\u800c\u5c3d\u3002\u8fd9\u4e00\u676f\u5b8c\u5168\u662f\u591a\u4f59\u7684\u4e86\u3002</p> <p>\u201c\u4f60\u4eec\u8fd9\u4e9b\u8036\u7a23\u4f1a\u58eb\uff0c\u7ed9\u6211\u6eda\uff0c\u201d\u4ed6\u51b2\u4e24\u540d\u4ec6\u4eba\u5927\u559d\uff0c\u201c\u6eda\uff0c\u65af\u4e5c\u5c14\u52a0\u79d1\u592b\u3002\u4eca\u5929\u8bb8\u4e0b\u7684\u4e00\u4e2a\u91d1\u5e01\u6211\u4f1a\u8d4f\u7ed9\u4f60\u7684\uff0c\u53ef\u4f60\u7ed9\u6211\u6eda\u5f00\uff01\u522b\u54ed\uff0c\u683c\u91cc\u679c\u5229\uff0c\u56de\u5230\u739b\u5c14\u6cd5\u90a3\u513f\u53bb\uff0c\u8ba9\u5979\u5b89\u6170\u4f60\uff0c\u5b89\u6392\u4f60\u7761\u89c9\u3002\u201d</p> <p>\u201c\u5988\u7684\uff0c\u4e5f\u4e0d\u8ba9\u4eba\u996d\u540e\u5b89\u5b89\u9759\u9759\u5750\u4e00\u4f1a\u513f\uff0c\u201d\u5728\u4e24\u540d\u4ec6\u4eba\u6309\u4ed6\u7684\u547d\u4ee4\u968f\u5373\u9000\u4e0b\u540e\uff0c\u4ed6\u5ffd\u7136\u60bb\u60bb\u7136\u62b1\u6028\u9053\u3002\u201c\u5982\u4eca\u65af\u4e5c\u5c14\u52a0\u79d1\u592b\u4e5f\u6bcf\u6b21\u5728\u7528\u9910\u65f6\u95f4\u5f80\u8fd9\u513f\u94bb\uff0c\u4ee4\u4ed6\u5982\u6b64\u611f\u5174\u8da3\u7684\u662f\u4f60\uff0c\u201d\u63a5\u7740\u4ed6\u9762\u5411\u4f0a\u4e07\u00b7\u8d39\u5965\u591a\u7f57\u7ef4\u5947\u8bf4\uff0c\u201c\u4f60\u7a76\u7adf\u6709\u4ec0\u4e48\u5730\u65b9\u5bf9\u4ed6\u4ea7\u751f\u8fd9\u6837\u7684\u5438\u5f15\u529b\uff1f\u201d</p> <pre><code>\u81ea\u77e5\u4f5c\u6076\u591a\u7aef\u7684\u4eba\u4e5f\u5e0c\u671b\u4e0a\u5e1d\u7684\u5b58\u5728\uff0c\u81f3\u5c11\u4ed6\u4eec\u80fd\u5f97\u5230\u5bbd\u6055\u3002\n</code></pre> <p>\u201c\u2018\u4f60\u77a7\uff0c\u2019\u6211\u8bf4\uff0c\u2018\u4f60\u77a7\uff0c\u8fd9\u662f\u4f60\u7684\u5723\u50cf\uff0c\u6211\u8fd9\u5c31\u628a\u5b83\u6458\u4e0b\u6765\u3002\u4f60\u77a7\u7740\uff0c\u4f60\u628a\u5b83\u5f53\u4f5c\u4f1a\u663e\u7075\u7684\u5b9d\u8d1d\uff0c\u53ef\u6211\u8fd9\u5c31\u5f53\u4f60\u7684\u9762\u51b2\u5b83\u553e\u53e3\u6cab\uff0c\u6211\u8fd9\u4e48\u5e72\u7167\u6837\u4ec0\u4e48\u4e8b\u513f\u4e5f\u6ca1\u6709\uff01\u2026\u2026\u2019</p> <p>\u201c\u5979\u770b\u89c1\u4e86\uff0c\u5929\u54ea\uff0c\u6211\u5fc3\u60f3\uff1a\u8fd9\u4e0b\u5979\u975e\u6740\u4e86\u6211\u4e0d\u53ef\u3002\u4f46\u5979\u53ea\u662f\u970d\u5730\u7ad9\u8d77\u6765\uff0c\u4e24\u624b\u626d\u7ede\u5728\u4e00\u8d77\uff0c\u63a5\u7740\u7a81\u7136\u53cc\u624b\u63a9\u9762\uff0c\u6d51\u8eab\u53d1\u6296\uff0c\u5012\u5728\u5730\u4e0a\u2026\u2026\u7f29\u4f5c\u4e00\u56e2\u2026\u2026\u963f\u8fbd\u6c99\uff0c\u963f\u8fbd\u6c99\uff01\u4f60\u600e\u4e48\u5566\uff0c\u4f60\u600e\u4e48\u5566\uff1f\u201d</p>"},{"location":"wen/kab/#_2","title":"\u7247\u6bb5","text":"<p>\u201c\u4e8c\u54e5\uff0c\u5141\u8bb8\u6211\u518d\u63d0\u4e00\u4e2a\u95ee\u9898\u3002\u4efb\u4f55\u4eba\u77a7\u7740\u5176\u4f59\u6240\u6709\u7684\u4eba\uff0c\u662f\u5426\u90fd\u6709\u6743\u4f5c\u51fa\u5224\u65ad\uff1a\u4ed6\u4eec\u4e2d\u8c01\u6709\u8d44\u683c\u6d3b\u5728\u4e16\u4e0a\uff0c\u8c01\u4e0d\u592a\u6709\u8fd9\u79cd\u8d44\u683c\uff1f\u201d</p> <p>\u201c\u4e3a\u4ec0\u4e48\u8981\u628a\u6709\u6ca1\u6709\u8d44\u683c\u7684\u4e8b\u626f\u8fdb\u6765\uff1f\u8fd9\u95ee\u9898\u591a\u534a\u5728\u4eba\u4eec\u5fc3\u4e2d\u89e3\u51b3\uff0c\u5b8c\u5168\u4e0d\u662f\u4f9d\u636e\u6709\u6ca1\u6709\u8d44\u683c\uff0c\u800c\u662f\u4ee5\u53e6\u5916\u4e00\u4e9b\u5177\u4f53\u5f97\u591a\u7684\u7406\u7531\u4e3a\u4f9d\u636e\u3002\u81f3\u4e8e\u8bf4\u5230\u6743\u5229\uff0c\u8c01\u90fd\u6709\u6743\u5fc3\u5b58\u613f\u671b\uff0c\u4f60\u8bf4\u662f\u4e0d\u662f\uff1f\u201d</p> <p>\u201c\u8be5\u4e0d\u662f\u4f46\u613f\u522b\u4eba\u6b7b\u5427\uff1f\u201d</p> <p>\u201c\u5373\u4fbf\u5982\u6b64\u53c8\u600e\u6837\uff1f\u770b\u5230\u6240\u6709\u7684\u4eba\u90fd\u8fd9\u6837\u6d3b\u7740\uff0c\u800c\u4e14\u6050\u6015\u4e0d\u53ef\u80fd\u6362\u4e00\u79cd\u6d3b\u6cd5\uff0c\u53c8\u4f55\u5fc5\u5bf9\u81ea\u5df1\u6492\u8c0e\u5462\uff1f\u4f60\u662f\u6307\u6211\u521a\u624d\u8bf4\u8fc7\u6709\u5173\u4e24\u6761\u722c\u866b\u81ea\u76f8\u6b8b\u6740\u7684\u8bdd\u5427\uff1f\u90a3\u4e48\uff0c\u5141\u8bb8\u6211\u4e5f\u5411\u4f60\u63d0\u95ee\uff1a\u4f60\u662f\u5426\u8ba4\u4e3a\u6211\u4e5f\u548c\u5fb7\u7c73\u7279\u91cc\u4e00\u6837\u4f1a\u8981\u8001\u5c0f\u4e11\u6d41\u8840\uff0c\u4f1a\u6740\u4ed6\uff0c\u554a\uff1f\u201d</p> <p>\u201c\u8bb0\u4f4f\uff0c\u5e74\u8f7b\u4eba\uff0c\u7262\u7262\u8bb0\u4f4f\uff0c\u201d\u5e15\u4f0a\u897f\u795e\u7236\u5f00\u95e8\u89c1\u5c71\u5730\u8bf4\uff0c\u201c\u4e16\u95f4\u7684\u79d1\u5b66\u5df2\u6c47\u805a\u6210\u4f1f\u5927\u7684\u529b\u91cf\uff0c\u7279\u522b\u662f\u8fd1\u4e00\u4e2a\u4e16\u7eaa\u4ee5\u6765\uff0c\u5bf9\u5723\u8d24\u4e66\u4e2d\u4f20\u7ed9\u6211\u4eec\u7684\u5929\u7ecf\u5730\u4e49\u901a\u901a\u4f5c\u4e86\u89e3\u5256\u3002\u7ecf\u8fc7\u6b8b\u9177\u7684\u5256\u6790\uff0c\u8fc7\u53bb\u8ba4\u4e3a\u795e\u5723\u7684\u4e00\u5207\uff0c\u5728\u4e16\u4e0a\u7684\u5b66\u8005\u5fc3\u4e2d\u5df2\u7ecf\u8361\u7136\u65e0\u5b58\u3002\u4f46\u662f\uff0c\u4ed6\u4eec\u53ea\u662f\u89e3\u5256\u5404\u4e2a\u5c40\u90e8\uff0c\u5374\u6ca1\u6709\u770b\u5230\u6574\u4f53\uff0c\u800c\u4e14\u90a3\u79cd\u89c6\u800c\u4e0d\u89c1\u7684\u76f2\u76ee\u7a0b\u5ea6\u59d4\u5b9e\u4ee4\u4eba\u5403\u60ca\u3002\u4e8b\u5b9e\u4e0a\u6574\u4f53\u4ecd\u5728\u4ed6\u4eec\u773c\u524d\u5c79\u7acb\u4e0d\u52a8\uff0c\u5730\u72f1\u4e4b\u95e8\u4e5f\u5948\u4f55\u5b83\u4e0d\u5f97\u3002\u5b83\u4e0d\u662f\u5b58\u5728\u4e86\u5341\u4e5d\u4e2a\u4e16\u7eaa\u5417\uff1f\u5b83\u4e0d\u662f\u81f3\u4eca\u4ecd\u5b58\u5728\u4e8e\u4e2a\u522b\u4eba\u548c\u4eba\u6c11\u7fa4\u4f17\u7684\u5fc3\u76ee\u4e4b\u4e2d\u5417\uff1f\u751a\u81f3\u5728\u90a3\u4e9b\u6bc1\u574f\u4e00\u5207\u7684\u65e0\u795e\u8bba\u8005\u5fc3\u76ee\u4e2d\uff0c\u5b83\u4e0d\u662f\u548c\u4ee5\u524d\u4e00\u6837\u5c79\u7acb\u4e0d\u52a8\u5417\uff1f\u56e0\u4e3a\u5373\u4f7f\u90a3\u4e9b\u80cc\u5f03\u57fa\u7763\u6559\u3001\u53cd\u53db\u57fa\u7763\u6559\u7684\u4eba\u81ea\u5df1\uff0c\u5b9e\u8d28\u4e0a\u9075\u5faa\u7684\u4ecd\u7136\u662f\u57fa\u7763\u7684\u601d\u60f3\u672a\u53d8\uff0c\u56e0\u4e3a\u65e0\u8bba\u4ed6\u4eec\u7684\u667a\u6167\u8fd8\u662f\u4ed6\u4eec\u7684\u70ed\u60c5\uff0c\u90fd\u672a\u80fd\u521b\u9020\u51fa\u4e00\u4e2a\u6bd4\u57fa\u7763\u65e9\u5c31\u505a\u51fa\u7684\u699c\u6837\u66f4\u9ad8\u7684\u7406\u60f3\u6765\u4ee3\u8868\u4eba\u548c\u4eba\u7684\u7f8e\u5fb7\u3002\u81f3\u4e8e\u5148\u540e\u505a\u8fc7\u7684\u591a\u6b21\u5c1d\u8bd5\uff0c\u5176\u7ed3\u679c\u4e00\u6982\u90fd\u662f\u4e9b\u56db\u4e0d\u50cf\u7684\u4e11\u516b\u602a\u3002\u8fd9\u70b9\u4f60\u8981\u7279\u522b\u7262\u8bb0\uff0c\u5e74\u8f7b\u4eba\uff0c\u56e0\u4e3a\u4f60\u90a3\u884c\u5c06\u79bb\u53bb\u7684\u957f\u8001\u8981\u6307\u6d3e\u4f60\u8d70\u5411\u5c18\u4e16\u3002\u5c06\u6765\u4f60\u56de\u5fc6\u4eca\u5929\u8fd9\u4e2a\u4f1f\u5927\u7684\u65e5\u5b50\uff0c\u4e5f\u8bb8\u4e0d\u4f1a\u5fd8\u8bb0\u6211\u53d1\u81ea\u5185\u5fc3\u7ed9\u4f60\u7684\u4e34\u522b\u8d60\u8a00\uff0c\u56e0\u4e3a\u4f60\u8fd8\u5e74\u8f7b\uff0c\u800c\u5c18\u4e16\u7684\u8bf1\u60d1\u5982\u91cd\u91cd\u78e8\u96be\uff0c\u4e0d\u662f\u4f60\u6240\u80fd\u7ecf\u53d7\u5f97\u4f4f\u7684\u3002\u73b0\u5728\u4f60\u53bb\u5427\uff0c\u53ef\u601c\u7684\u5b64\u513f\u3002\u201d</p> <p>\u201c\u5c0f\u5fc3\uff0c\u201d\u5b69\u5b50\u4eec\u5728\u540e\u9762\u5927\u58f0\u8b66\u544a\u4ed6\uff0c\u201c\u4ed6\u4e0d\u6015\u60a8\uff0c\u4ed6\u4f1a\u4e58\u60a8\u4e0d\u9632\u5907\u6345\u51b7\u5200\u5b50\u2026\u2026\u5c31\u50cf\u5bf9\u514b\u62c9\u7d22\u7279\u91d1\u90a3\u6837\u3002\u201d</p> <p>\u90a3\u7537\u5b69\u7ad9\u5728\u539f\u5730\u7b49\u4ed6\u3002\u963f\u8fbd\u6c99\u8d70\u5230\u4ed6\u8ddf\u524d\uff0c\u770b\u6e05\u695a\u8fd9\u662f\u4e00\u4e2a\u9876\u591a\u4e5d\u5c81\u7684\u5b69\u5b50\uff0c\u7fb8\u5f31\u800c\u53c8\u77ee\u5c0f\uff0c\u7626\u524a\u7684\u957f\u8138\u6ca1\u6709\u4ec0\u4e48\u8840\u8272\uff0c\u4e00\u53cc\u9ed1\u9ed1\u7684\u5927\u773c\u775b\u6076\u72e0\u72e0\u5730\u77aa\u7740\u4ed6\u3002\u5b69\u5b50\u8eab\u4e0a\u7684\u7ae5\u88c5\u5927\u8863\u7834\u65e7\u5f97\u76f8\u5f53\u5389\u5bb3\uff0c\u5df2\u7ecf\u4e0d\u5408\u4ed6\u7684\u8eab\uff0c\u663e\u5f97\u602a\u96be\u770b\u7684\u3002\u4e24\u6761\u5149\u624b\u81c2\u9732\u5728\u8896\u5916\u3002\u88e4\u5b50\u7684\u53f3\u819d\u5904\u6253\u7740\u4e00\u5927\u5757\u8865\u4e01\uff0c\u53f3\u8fb9\u4e00\u53ea\u9774\u5b50\u5c16\u4e0a\u76f8\u5f53\u4e8e\u5927\u811a\u8dbe\u7684\u5730\u65b9\u6709\u4e00\u4e2a\u5927\u7a9f\u7abf\uff0c\u770b\u5f97\u51fa\u90a3\u91cc\u6d82\u4e86\u4e0d\u5c11\u58a8\u6c34\u3002\u5927\u8863\u4e24\u8fb9\u9f13\u9f13\u7684\u515c\u91cc\u63e3\u7740\u8bb8\u591a\u77f3\u5757\u3002\u963f\u8fbd\u6c99\u8d70\u5230\u79bb\u4ed6\u53ea\u6709\u4e24\u6b65\u7684\u5730\u65b9\u7ad9\u4f4f\uff0c\u7528\u7591\u95ee\u7684\u76ee\u5149\u671b\u7740\u4ed6\u3002\u5b69\u5b50\u4ece\u963f\u8fbd\u6c99\u7684\u773c\u795e\u7acb\u5373\u770b\u51fa\u963f\u8fbd\u6c99\u4e0d\u60f3\u6253\u4ed6\uff0c\u4e5f\u5c31\u653e\u4e0b\u597d\u6597\u7684\u67b6\u52bf\uff0c\u751a\u81f3\u4e3b\u52a8\u8ddf\u4ed6\u8bf4\u8bdd\u3002</p> <p>\u201c\u6211\u4e00\u4e2a\uff0c\u4ed6\u4eec\u516d\u4e2a\u3002\u6211\u4e00\u4e2a\u4eba\u80fd\u628a\u4ed6\u4eec\u901a\u901a\u6253\u9000\u3002\u201d\u4ed6\u5ffd\u95ea\u7740\u773c\u775b\u7a81\u7136\u8bf4\u3002</p> <p>\u201c\u6709\u4e00\u5757\u77f3\u5934\u6253\u4e2d\u4e86\u4f60\uff0c\u4e00\u5b9a\u75bc\u5f97\u5389\u5bb3\u3002\u201d\u963f\u8fbd\u6c99\u6307\u51fa\u3002</p> <p>\u201c\u53ef\u6211\u6253\u4e2d\u4e86\u65af\u7a46\u7f57\u592b\u7684\u8111\u888b\uff01\u201d\u5b69\u5b50\u5927\u58f0\u53eb\u9053\u3002</p> <p>\u201c\u4ed6\u4eec\u5728\u90a3\u8fb9\u544a\u8bc9\u6211\uff0c\u8bf4\u4f60\u8ba4\u8bc6\u6211\uff0c\u6545\u610f\u5411\u6211\u6254\u77f3\u5757\uff0c\u662f\u5417\uff1f\u201d\u963f\u8fbd\u6c99\u95ee\u3002</p> <p>\u5b69\u5b50\u9634\u7740\u8138\u7785\u4ed6\u3002</p> <p>\u201c\u6211\u4e0d\u8ba4\u8bc6\u4f60\u3002\u96be\u9053\u4f60\u8ba4\u8bc6\u6211\uff1f\u201d\u963f\u8fbd\u6c99\u7ee7\u7eed\u95ee\u4ed6\u3002</p> <p>\u201c\u522b\u6765\u70e6\u6211\uff01\u201d\u5b69\u5b50\u84e6\u7136\u53d1\u706b\u4e86\uff0c\u4e0d\u8fc7\u4ed6\u4ecd\u7ad9\u5728\u539f\u5730\uff0c\u597d\u50cf\u5728\u7b49\u5f85\u4ec0\u4e48\uff0c\u773c\u775b\u91cc\u53c8\u95ea\u8d77\u51f6\u5149\u3002</p> <p>\u201c\u597d\u5427\uff0c\u6211\u8d70\uff0c\u201d\u963f\u8fbd\u6c99\u8bf4\uff0c\u201c\u53ea\u662f\u6211\u4e0d\u8ba4\u8bc6\u4f60\uff0c\u4e5f\u4e0d\u60f3\u60f9\u4f60\u3002\u4ed6\u4eec\u544a\u8bc9\u6211\u4eba\u5bb6\u662f\u600e\u6837\u60f9\u4f60\u7684\uff0c\u53ef\u6211\u4e0d\u60f3\u60f9\u4f60\uff0c\u518d\u89c1\u5427\uff01\u201d</p> <p>\u201c\u7a7f\u786c\u7f0e\u88e4\u5b50\u7684\u4fee\u58eb\uff01\u201d\u5b69\u5b50\u558a\u4e86\u8fd9\u4e48\u4e00\u53e5\uff0c\u4ed6\u8fd8\u662f\u4ee5\u51f6\u72e0\u548c\u6311\u6218\u7684\u773c\u795e\u76ee\u9001\u7740\u963f\u8fbd\u6c99\uff0c\u987a\u52bf\u6446\u597d\u67b6\u5b50\uff0c\u56e0\u4e3a\u4ed6\u4f30\u6478\u7740\u73b0\u5728\u963f\u8fbd\u6c99\u4e00\u5b9a\u4f1a\u5411\u4ed6\u6251\u8fc7\u53bb\u7684\u3002\u7136\u800c\u963f\u8fbd\u6c99\u56de\u5934\u770b\u4e86\u4ed6\u4e00\u773c\uff0c\u5c31\u8d70\u5f00\u4e86\u3002</p> <p>\u53ef\u662f\uff0c\u4ed6\u624d\u8fc8\u4e86\u4e09\u6b65\uff0c\u80cc\u4e0a\u4fbf\u6328\u4e86\u75bc\u75db\u7684\u4e00\u51fb\uff0c\u90a3\u5b69\u5b50\u6295\u6765\u7684\u662f\u4ed6\u515c\u91cc\u6700\u5927\u7684\u4e00\u5757\u5706\u77f3\u3002</p> <p>\u201c\u4f60\u4ece\u80cc\u540e\u4e0b\u624b\uff1f\u8fd9\u6837\u770b\u6765\uff0c\u4ed6\u4eec\u8bf4\u4f60\u8d81\u4eba\u4e0d\u5907\u641e\u5077\u88ad\uff0c\u8fd9\u8bdd\u4e0d\u5047\u55bd\uff1f\u201d\u963f\u8fbd\u6c99\u53c8\u56de\u8fc7\u5934\u6765\uff0c\u4f46\u8fd9\u4e00\u56de\u5b69\u5b50\u72e0\u547d\u5730\u5411\u963f\u8fbd\u6c99\u53c8\u6254\u4e86\u4e00\u5757\u77f3\u5934\uff0c\u800c\u4e14\u662f\u76f4\u63a5\u51b2\u4ed6\u8138\u4e0a\u6254\u7684\uff1b\u963f\u8fbd\u6c99\u603b\u7b97\u6321\u5f97\u53ca\u65f6\uff0c\u77f3\u5757\u6253\u5728\u4ed6\u80f3\u818a\u8098\u4e0a\u3002</p> <p>\u201c\u4f60\u771f\u4e0d\u5bb3\u81ca\uff01\u6211\u5bf9\u4f60\u505a\u4e86\u4ec0\u4e48\uff1f\u201d\u4ed6\u558a\u53eb\u8d77\u6765\u3002</p> <p>\u5b69\u5b50\u6446\u51fa\u4e00\u526f\u6311\u8845\u7684\u59ff\u6001\u9ed8\u9ed8\u5730\u7b49\u7740\uff0c\u5355\u7b49\u963f\u8fbd\u6c99\u8fd9\u4e00\u56de\u5fc5\u5b9a\u8981\u8ddf\u4ed6\u7b97\u8d26\u3002\u53ef\u662f\u773c\u770b\u963f\u8fbd\u6c99\u5230\u4e86\u8fd9\u4e2a\u5206\u513f\u4e0a\u8fd8\u4e0d\u5411\u4ed6\u8fdb\u653b\uff0c\u4ed6\u50cf\u4e00\u53ea\u5c0f\u91ce\u517d\u4f3c\u7684\u607c\u6012\u5230\u4e86\u6781\u70b9\uff0c\u7d22\u6027\u7eb5\u8eab\u4e00\u8dc3\uff0c\u4e3b\u52a8\u5411\u963f\u8fbd\u6c99\u6251\u8fc7\u6765\u3002\u963f\u8fbd\u6c99\u8fd8\u6765\u4e0d\u53ca\u8eb2\u95ea\uff0c\u90a3\u51f6\u6076\u7684\u7537\u5b69\u5df2\u7ecf\u4f4e\u7740\u5934\u7528\u4e24\u53ea\u624b\u6293\u4f4f\u4ed6\u7684\u5de6\u624b\uff0c\u72e0\u72e0\u5730\u4e00\u53e3\u54ac\u5728\u4e2d\u6307\u4e0a\u3002\u4ed6\u7684\u7259\u9f7f\u5d4c\u8fdb\u963f\u8fbd\u6c99\u7684\u4e2d\u6307\uff0c\u6709\u5c06\u8fd1\u5341\u79d2\u949f\u4e0d\u653e\u3002\u963f\u8fbd\u6c99\u75bc\u5f97\u5927\u53eb\uff0c\u62fc\u547d\u60f3\u628a\u624b\u6307\u62bd\u51fa\u6765\u3002\u5b69\u5b50\u603b\u7b97\u677e\u4e86\u53e3\uff0c\u8df3\u56de\u5230\u539f\u5148\u7684\u8ddd\u79bb\u4e4b\u5916\u3002\u963f\u8fbd\u6c99\u7684\u624b\u6307\u88ab\u54ac\u5f97\u75bc\u6781\u4e86\uff0c\u5728\u7d27\u9760\u6307\u7532\u7684\u90e8\u4f4d\u521b\u53e3\u6df1\u53ef\u53ca\u9aa8\uff0c\u9c9c\u8840\u76f4\u6dcc\u3002\u963f\u8fbd\u6c99\u638f\u51fa\u4e00\u65b9\u624b\u5e15\uff0c\u628a\u5b83\u7d27\u7d27\u7f20\u5728\u53d7\u4f24\u7684\u6307\u5934\u4e0a\u3002\u5305\u624e\u8db3\u8db3\u82b1\u4e86\u5c06\u8fd1\u4e00\u5206\u949f\u3002\u8fd9\u6bb5\u65f6\u95f4\u5185\u90a3\u5b69\u5b50\u59cb\u7ec8\u7ad9\u5728\u90a3\u513f\u7b49\u7740\u3002\u963f\u8fbd\u6c99\u7ec8\u4e8e\u62ac\u8d77\u5934\u6765\uff0c\u7528\u5e73\u9759\u7684\u76ee\u5149\u671b\u7740\u4ed6\u3002</p> <p>\u201c\u597d\u4e86\uff0c\u201d\u963f\u8fbd\u6c99\u8bf4\uff0c\u201c\u77a7\uff0c\u4f60\u628a\u6211\u54ac\u5f97\u591a\u4e48\u5389\u5bb3\uff0c\u603b\u8be5\u6ee1\u610f\u4e86\u5427\uff1f\u73b0\u5728\u8bf7\u4f60\u544a\u8bc9\u6211\uff0c\u6211\u5bf9\u4f60\u505a\u8fc7\u4ec0\u4e48\uff1f\u201d</p> <p>\u5b69\u5b50\u60ca\u8bb6\u5730\u7741\u5927\u773c\u775b\u3002</p> <p>\u201c\u867d\u7136\u6211\u8ddf\u4f60\u5b8c\u5168\u4e0d\u8ba4\u8bc6\uff0c\u4eca\u5929\u662f\u7b2c\u4e00\u6b21\u89c1\u5230\u4f60\uff0c\u201d\u963f\u8fbd\u6c99\u4f9d\u7136\u5fc3\u5e73\u6c14\u548c\u5730\u7ee7\u7eed\u8bf4\uff0c\u201c\u4f46\u662f\u4e0d\u53ef\u80fd\u6211\u6ca1\u6709\u5bf9\u4f60\u505a\u8fc7\u4ec0\u4e48\uff0c\u2014\u2014\u4f60\u4e0d\u4f1a\u65e0\u7f18\u65e0\u6545\u8fd9\u6837\u8ddf\u6211\u8fc7\u4e0d\u53bb\u3002\u90a3\u4e48\uff0c\u6211\u7a76\u7adf\u5e72\u4e86\u4ec0\u4e48\uff0c\u6211\u6709\u4ec0\u4e48\u5730\u65b9\u5bf9\u4e0d\u8d77\u4f60\uff0c\u80fd\u544a\u8bc9\u6211\u5417\uff1f\u201d</p> <p>\u5b69\u5b50\u6ca1\u6709\u56de\u7b54\uff0c\u53cd\u800c\u84e6\u5730\u653e\u58f0\u5927\u54ed\u8d77\u6765\uff0c\u5e76\u4e14\u4e00\u4e0b\u5b50\u4ece\u963f\u8fbd\u6c99\u9762\u524d\u9003\u8dd1\u4e86\u3002\u963f\u8fbd\u6c99\u8ddf\u5728\u4ed6\u540e\u9762\u5b89\u6b65\u5411\u7c73\u54c8\u4f9d\u6d1b\u592b\u8857\u8d70\u53bb\uff0c\u63a5\u7740\u8fd8\u6709\u76f8\u5f53\u957f\u4e00\u6bb5\u65f6\u95f4\u4ed6\u770b\u5f97\u89c1\u90a3\u5b69\u5b50\u5728\u8fdc\u5904\u5954\u8dd1\uff0c\u65e2\u4e0d\u653e\u6162\u811a\u6b65\uff0c\u4e5f\u4e0d\u626d\u5934\u56de\u987e\uff0c\u800c\u4e14\u516b\u6210\u4e00\u8def\u4ecd\u5728\u653e\u58f0\u5927\u54ed\u3002\u963f\u8fbd\u6c99\u6697\u4e0b\u51b3\u5fc3\uff0c\u4e00\u6709\u65f6\u95f4\u5b9a\u8981\u627e\u5230\u90a3\u4e2a\u5b69\u5b50\uff0c\u89e3\u5f00\u8fd9\u4e2a\u4f7f\u4ed6\u5927\u4e3a\u9707\u60ca\u7684\u8c1c\u3002\u773c\u4e0b\u4ed6\u5b9e\u5728\u6ca1\u6709\u5de5\u592b\u3002</p> <p>\u201c\u4f60\u9519\u4e86\uff0c\u6211\u7684\u597d\u5fc3\u7684\u963f\u8fbd\u6c99\uff0c\u201d\u4ed6\u8bf4\u8fd9\u8bdd\u65f6\u7684\u8868\u60c5\u963f\u8fbd\u6c99\u8fd8\u4ece\u672a\u5728\u4ed6\u8138\u4e0a\u89c1\u5230\u8fc7\uff0c\u2014\u2014\u90a3\u662f\u4e00\u79cd\u671d\u6c14\u84ec\u52c3\u3001\u771f\u8bda\u5766\u8361\u7684\u611f\u60c5\u6d41\u9732\uff0c\u201c\u5361\u6377\u7433\u5a1c\u00b7\u4f0a\u4e07\u8bfa\u592b\u5a1c\u4ece\u6765\u6ca1\u6709\u7231\u8fc7\u6211\uff01\u5979\u4e00\u76f4\u77e5\u9053\u6211\u7231\u5979\uff0c\u5c3d\u7ba1\u6211\u59cb\u7ec8\u6ca1\u6709\u53ea\u8a00\u7247\u8bed\u5411\u5979\u5410\u9732\u8fc7\u6211\u7684\u7231\u6155\u4e4b\u60c5\uff0c\u2014\u2014\u5979\u660e\u660e\u77e5\u9053\uff0c\u4f46\u5e76\u4e0d\u7231\u6211\u3002\u6211\u4e5f\u59cb\u7ec8\u6ca1\u6709\u505a\u8fc7\u5979\u7684\u670b\u53cb\uff0c\u4e00\u5929\u4e5f\u6ca1\u6709\uff1a\u50b2\u6162\u7684\u5973\u6027\u4e0d\u9700\u8981\u6211\u7684\u53cb\u8c0a\u3002\u5979\u628a\u6211\u7559\u5728\u8eab\u8fb9\u662f\u4e3a\u4e86\u4e0d\u65ad\u8fdb\u884c\u62a5\u590d\u3002\u5979\u5bf9\u6211\u5e76\u5229\u7528\u6211\u8fdb\u884c\u62a5\u590d\uff0c\u51e1\u662f\u8fd9\u6bb5\u65f6\u95f4\u4ee5\u6765\u5979\u4ece\u5fb7\u7c73\u7279\u91cc\u90a3\u513f\u7ecf\u5e38\u548c\u6bcf\u65f6\u6bcf\u523b\u53d7\u5230\u7684\u4fae\u8fb1\uff0c\u4ece\u4ed6\u4eec\u7b2c\u4e00\u6b21\u89c1\u9762\u5f00\u59cb\uff0c\u5979\u90fd\u775a\u7726\u5fc5\u62a5\u2026\u2026\u56e0\u4e3a\u4ed6\u4eec\u7684\u7b2c\u4e00\u6b21\u89c1\u9762\u5df2\u4f5c\u4e3a\u4e00\u6b21\u4fae\u8fb1\u7559\u5728\u5979\u7684\u5fc3\u4e2d\u3002\u8fd9\u4fbf\u662f\u5979\u7684\u5fc3\uff01\u8fd9\u4e48\u591a\u65e5\u5b50\u6211\u4ece\u5979\u53e3\u4e2d\u542c\u5230\u7684\u5c3d\u662f\u5979\u5bf9\u5fb7\u7c73\u7279\u91cc\u7684\u7231\u3002\u73b0\u5728\u6211\u8981\u8d70\u4e86\uff0c\u4f46\u6211\u8981\u8bf4\uff0c\u5361\u6377\u7433\u5a1c\u00b7\u4f0a\u4e07\u8bfa\u592b\u5a1c\uff0c\u60a8\u786e\u5b9e\u53ea\u7231\u4ed6\u3002\u800c\u4e14\uff0c\u4ed6\u7ed9\u60a8\u7684\u4fae\u8fb1\u8d8a\u591a\uff0c\u60a8\u5bf9\u4ed6\u7684\u7231\u5c31\u8d8a\u6df1\u3002\u8fd9\u5c31\u662f\u5728\u60a8\u8eab\u4e0a\u7684\u602a\u4e8b\u4e00\u6869\u3002\u60a8\u7231\u7684\u6b63\u662f\u4ed6\u7684\u672c\u6765\u9762\u76ee\uff0c\u7231\u7684\u662f\u90a3\u4e2a\u4fae\u8fb1\u60a8\u7684\u4ed6\u3002\u5982\u679c\u4ed6\u5f03\u65e7\u56fe\u65b0\uff0c\u60a8\u9a6c\u4e0a\u5c31\u4f1a\u628a\u4ed6\u6254\u4e86\uff0c\u518d\u4e5f\u4e0d\u7231\u4ed6\u3002\u4f46\u60a8\u9700\u8981\u4ed6\uff0c\u4ee5\u4fbf\u4e0d\u65ad\u6b23\u8d4f\u60a8\u77e2\u5fd7\u4e0d\u79fb\u7684\u58ee\u4e3e\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u65ad\u8c34\u8d23\u4ed6\u7684\u4e0d\u5fe0\u3002\u8fd9\u4e00\u5207\u65e0\u4e0d\u51fa\u4e8e\u60a8\u7684\u50b2\u6c14\u3002\u5662\uff0c\u8fd9\u81ea\u7136\u5c11\u4e0d\u4e86\u957f\u671f\u5fcd\u8fb1\u8d1f\u91cd\u7684\u80fd\u8010\uff0c\u4f46\u662f\u4e3a\u4e86\u50b2\u6c14\u4ec0\u4e48\u90fd\u4e0d\u5728\u8bdd\u4e0b\u2026\u2026\u3002\u6211\u592a\u5e74\u8f7b\uff0c\u4e00\u76f4\u592a\u7231\u60a8\u4e86\u3002\u6211\u77e5\u9053\u4e0d\u8be5\u5bf9\u60a8\u8bf4\u8fd9\u8bdd\uff1b\u5c31\u6211\u8fd9\u65b9\u9762\u800c\u8a00\uff0c\u79bb\u5f00\u60a8\u4e00\u8d70\u4e86\u4e4b\u4f1a\u591a\u4e00\u4e9b\u4f53\u9762\uff0c\u5bf9\u60a8\u4e5f\u5c11\u4e00\u4e9b\u4f24\u5bb3\u3002\u4f46\u6211\u6b64\u53bb\u8def\u8fdc\u8fe2\u8fe2\uff0c\u800c\u4e14\u6c38\u4e0d\u518d\u6765\u3002\u8fd9\u5c31\u7b97\u662f\u6c38\u522b\u4e86\u2026\u2026\u3002\u6211\u4e0d\u613f\u5b88\u7740\u4e00\u6869\u602a\u4e8b\u505a\u966a\u5ba2\u2026\u2026\u3002\u6211\u5df2\u4e0d\u4f1a\u518d\u8bf4\u8bdd\uff0c\u6240\u6709\u7684\u8bdd\u90fd\u8bf4\u4e86\u2026\u2026\u3002\u522b\u4e86\uff0c\u5361\u6377\u7433\u5a1c\u00b7\u4f0a\u4e07\u8bfa\u592b\u5a1c\uff0c\u60a8\u4e0d\u53ef\u4ee5\u751f\u6211\u7684\u6c14\uff0c\u56e0\u4e3a\u6211\u53d7\u5230\u7684\u60e9\u7f5a\u662f\u60a8\u7684\u4e00\u767e\u500d\uff0c\u5355\u5355\u6211\u518d\u4e5f\u89c1\u4e0d\u5230\u60a8\u8fd9\u4e00\u70b9\u5df2\u7ecf\u591f\u4e86\u3002\u522b\u4e86\u3002\u6211\u4e0d\u9700\u8981\u60a8\u8bb8\u5a5a\u3002\u60a8\u4e00\u76f4\u5728\u81ea\u89c9\u5730\u6298\u78e8\u6211\uff0c\u592a\u81ea\u89c9\u4e86\uff0c\u6545\u800c\u6b64\u523b\u6211\u4e0d\u80fd\u539f\u8c05\u60a8\u3002\u5c06\u6765\u6211\u4f1a\u539f\u8c05\uff0c\u4f46\u73b0\u5728\u6211\u4e0d\u8981\u60a8\u8bb8\u5a5a\u3002</p> <p>\u5973\u58eb\uff0c\u6211\u5e76\u4e0d\u8981\u6c42\u5f97\u5230\u916c\u62a5\u3002\u201d</p> <p>\u672b\u4e86\u4e00\u53e5\u4ed6\u662f\u9762\u5e26\u51b7\u7b11\u52a0\u4e0a\u7684\uff0c\u4ece\u800c\u5b8c\u5168\u51fa\u4eba\u610f\u6599\u5730\u8868\u660e\u4ed6\u4e5f\u80fd\u719f\u8bfb\u5e2d\u52d2\u5230\u80cc\u8bf5\u7684\u7a0b\u5ea6\uff0c\u8fd9\u5728\u8fc7\u53bb\u963f\u8fbd\u6c99\u662f\u4e0d\u4f1a\u76f8\u4fe1\u7684\u3002\u4f0a\u4e07\u4ece\u623f\u95f4\u91cc\u8d70\u4e86\u51fa\u53bb\uff0c\u751a\u81f3\u6ca1\u6709\u5411\u5973\u4e3b\u4eba\u970d\u8d6b\u62c9\u79d1\u5a03\u592a\u592a\u9053\u522b\u3002\u963f\u8fbd\u6c99\u6025\u5f97\u628a\u4e24\u624b\u4e00\u62cd\u3002</p>"},{"location":"wen/kab/#_3","title":"\u5b97\u6559\u5927\u6cd5\u5b98","text":"<p>\u592a\u62bd\u8c61\u4e86\u8fd9\u4e00\u8282\u3002\u4e0d\u662f\u5e73\u65f6\u5410\u69fd\u7684\u62bd\u8c61\u7684\u62bd\u8c61\u800c\u662f\u5b9e\u5728\u7684\u62bd\u8c61\uff0c\u56e0\u4e3a\u6211\u5bf9\u57fa\u7763\u7684\u601d\u60f3\u8fd8\u4e0d\u751a\u4e86\u89e3\u3002</p> <p>\u9996\u5148\u57fa\u7763\u51fa\u573a\uff0c\u5c55\u73b0\u4e86\u4ed6\u7684\u795e\u8ff9\uff0c\u8001\u6cd5\u5b98\u5374\u8981\u5c06\u4ed6\u6293\u8d77\u6765\uff0c\u4f5c\u4e3a\u5f02\u7aef\u70e7\u6b7b\u3002\u8036\u7a23\u5f53\u5e74\u88ab\u8bd5\u63a2\u4e09\u4e2a\u95ee\u9898\uff1a\u5141\u8bb8\u628a\u77f3\u5934\u53d8\u6210\u9762\u5305\u3001\u5141\u8bb8\u65e0\u4f24\u6389\u843d\u3001\u5141\u8bb8\u62e5\u6709\u81f3\u9ad8\u6743\u529b\uff0c\u4f46\u8036\u7a23\u90fd\u4e00\u4e00\u62d2\u7edd\u3002</p> <p>\u9996\u5148\u8036\u7a23\u62d2\u7edd\u7b2c\u4e00\u4e2a\u95ee\u9898\u7684\u7f18\u7531\u662f\uff1a\u201c\u8981\u662f\u628a\u77f3\u5934\u53d8\u6210\u9762\u5305\uff0c\u4eba\u7c7b\u4fbf\u4f1a\u50cf\u611f\u6069\u800c\u9a6f\u670d\u7684\u7f8a\u7fa4\u8ddf\u7740\u4f60\u8dd1\uff0c\u5c3d\u7ba1\u8001\u662f\u63d0\u5fc3\u540a\u80c6\uff0c\u751f\u6015\u4f60\u628a\u624b\u7f29\u56de\u53bb\uff0c\u4ed6\u4eec\u7684\u9762\u5305\u4e5f\u5c31\u6ca1\u4e86\u3002\u5982\u679c\u987a\u4ece\u662f\u7528\u9762\u5305\u6536\u4e70\u7684\uff0c\u8fd8\u8c08\u5f97\u4e0a\u4ec0\u4e48\u81ea\u7531\uff1f\u201d\u8036\u7a23\u5e0c\u671b\u4eba\u80fd\u591f\u81ea\u7531\u5730\u4fe1\u4ef0\uff0c\u5373\u60f3\u4fe1\u4ef0\u4ec0\u4e48\u5c31\u4fe1\u4ef0\u4ec0\u4e48\uff0c\u90a3\u4e48\u4ed6\u4eec\u5bf9\u4e0a\u5e1d\u7684\u4fe1\u4ef0\u4e5f\u662f\u81ea\u53d1\u7684\u3001\u7eaf\u7cb9\u7684\u3002\u4f46\u5982\u679c\u7528\u9762\u5305\u6536\u4e70\uff0c\u8fd9\u5c42\u4fe1\u4ef0\u5c31\u4e0d\u518d\u7eaf\u7cb9\u4e86\uff0c\u800c\u662f\u5e26\u6709\u4e86\u529f\u5229\u7684\u6027\u8d28\uff0c\u5c31\u597d\u6bd4\u4e2d\u56fd\u7684\u4e16\u4fd7\u4eba\u4fe1\u4f5b\u4e00\u6837\uff0c\u4e0d\u662f\u56e0\u4e3a\u5176\u4ed6\uff0c\u800c\u662f\u56e0\u4e3a\u4f5b\u80fd\u4fdd\u4f51\u4ed6\u4eec\uff0c\u5e26\u7ed9\u4ed6\u4eec\u597d\u5904\u3002\u53ef\u662f\u5bf9\u5927\u591a\u6570\u60b2\u82e6\u7684\u4eba\u6765\u8bf4\uff0c\u4ed6\u4eec\u8fde\u9762\u5305\u90fd\u5403\u4e0d\u4e0a\uff0c\u54ea\u91cc\u80fd\u8003\u8651\u5230\u66f4\u9ad8\u4e00\u5c42\u7684\u81ea\u7531\uff1f\u4e8e\u662f\u4ed6\u4eec\u628a\u81ea\u7531\u8ba9\u6e21\u7ed9\u4e86\u5927\u6cd5\u5b98\u6240\u5728\u7684\u6559\u4f1a\uff0c\u201c\u5b81\u53ef\u8ba9\u4f60\u4eec\u5974\u5f79\u6211\u4eec\uff0c\u53ea\u8981\u8ba9\u6211\u4eec\u5403\u9971\u3002\u201d</p> <p>\u5c18\u4e16\u4e2d\u7684\u4eba\u53d7\u5c3d\u75db\u82e6\uff0c\u4ed6\u4eec\u4fe1\u4ef0\u7684\u539f\u56e0\u4e0d\u662f\u56e0\u4e3a\u81ea\u7531\uff0c\u800c\u662f\u5e0c\u671b\u80fd\u6709\u8fd9\u4e48\u4e00\u4e2a\u4eba\u7684\u51fa\u73b0\uff0c\u80fd\u591f\u62ef\u6551\u4ed6\u4eec\u3002\u8036\u7a23\u5e0c\u671b\u4ed6\u4eec\u80fd\u4e3a\u4e86\u201c\u5929\u56fd\u7684\u9762\u5305\u201d\u800c\u4fe1\u4ef0\uff0c\u800c\u5927\u591a\u6570\u4eba\u4eec\u505a\u4e0d\u5230\uff0c\u56e0\u4e3a\u81ea\u7531\u5f80\u5f80\u9700\u8981\u820d\u5f03\u201c\u5730\u4e0a\u7684\u9762\u5305\u201d\u800c\u53d7\u82e6\u3002\u6700\u540e\u6559\u4f1a\u4e3a\u4e86\u62ef\u6551\u4ed6\u4eec\uff0c\u4fbf\u4ee5\u8036\u7a23\u7684\u540d\u4e49\uff0c\u6d3e\u53d1\u5730\u4e0a\u7684\u9762\u5305\uff0c\u5bf9\u4ed6\u4eec\u8fdb\u884c\u7edf\u6cbb\u3002\u6559\u4f1a\u8bf4\uff0c\u8036\u7a23\u4f1a\u7ed9\u4f60\u4eec\u9762\u5305\uff0c\u4f1a\u6765\u62ef\u6551\u4f60\u4eec\u7684\u3002\u8fd9\u662f\u4e00\u79cd\u8c0e\u8a00\uff0c\u8ba9\u4eba\u4eec\u6709\u7edf\u4e00\u7684\u4fe1\u4ef0\uff0c\u6bd5\u7adf\u8036\u7a23\u5e76\u6ca1\u6709\u63a5\u53d7\u81ea\u5df1\u5f53\u5076\u50cf\u3002</p> <p>\u4eba\u4eec\u662f\u8fd9\u6837\u7684\uff1a\u201c\u4eba\u6700\u4f24\u8111\u7b4b\u7684\u662f\u627e\u5230\u90a3\u4e2a\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5c3d\u5feb\u628a\u8fd9\u4e2a\u53ef\u601c\u7684\u4eba\u751f\u6765\u5c31\u6709\u7684\u81ea\u7531\u4ea4\u7ed9\u4ed6\u3002\u201d\u53ef\u662f\u8036\u7a23\u5374\u6307\u671b\uff1a\u201c\u4eba\u4eec\u5f97\u5230\u81ea\u7531\u7684\u7231\uff0c\u7528\u81ea\u7531\u7684\u5fc3\u53d6\u4ee3\u53e4\u8001\u7684\u5b9a\u5219\uff0c\u81ea\u884c\u5224\u65ad\u4ec0\u4e48\u662f\u5584\uff0c\u4ec0\u4e48\u662f\u6076\uff0c\u4f60\u7684\u5f62\u8c61\u4ec5\u4ec5\u5728\u524d\u9762\u7ed9\u4ed6\u4eec\u6307\u5f15\u65b9\u5411\u3002\u201d\u201c\u7136\u800c\u5982\u679c\u4eba\u4eec\u53d7\u5230\u9009\u62e9\u81ea\u7531\u7684\u538b\u8feb\uff0c\u4e0d\u582a\u5982\u6b64\u53ef\u6015\u7684\u91cd\u8d1f\uff0c\u4ed6\u4eec\u6700\u7ec8\u4e5f\u4f1a\u629b\u5f03\u4f60\u7684\u5f62\u8c61\uff0c\u751a\u81f3\u5bf9\u4f60\u7684\u5f62\u8c61\u548c\u4f60\u7684\u771f\u7406\u63d0\u51fa\u4e89\u8bae\u3002\u201d</p> <p>\u540e\u9762\u6559\u4f1a\u7684\u4ea7\u751f\uff0c\u4e5f\u6b63\u662f\u5bf9\u8036\u7a23\u7684\u53cd\u5bf9\uff0c\u5229\u7528\u63a7\u5236\u4eba\u4eec\u4fe1\u4ef0\u7684\u201c\u5947\u8ff9\u3001\u79d8\u5bc6\u548c\u6743\u5a01\u201d\uff0c\u7edf\u6cbb\u7740\u4e16\u754c\uff0c\u7b97\u662f\u4e00\u79cd\u59a5\u534f\u3002\u201c\u4e16\u754c\u4e0a\u7684\u5927\u591a\u6570\uff0c\u5343\u5343\u4e07\u4e07\u7684\u751f\u547d\u4f53\u4ec5\u4ec5\u662f\u4f5c\u4e3a\u4e00\u79cd\u5632\u5f04\u88ab\u521b\u9020\u51fa\u6765\u7684\uff0c\u4ed6\u4eec\u6c38\u8fdc\u4e0d\u61c2\u5982\u4f55\u8fd0\u7528\u4ed6\u4eec\u7684\u81ea\u7531\u201d\u3002\u4ed6\u4eec\u53ea\u9700\u8981\u627e\u5230\u80fd\u4fe1\u4ef0\u7684\u4e1c\u897f\u4f5c\u4e3a\u843d\u811a\uff0c\u5c31\u80fd\u83b7\u5f97\u5185\u5fc3\u7684\u6ee1\u8db3\uff0c\u4ed6\u4eec\u4e0d\u4f1a\u4e0d\u5b89\uff0c\u56e0\u4e3a\u4fe1\u4ef0\u4f1a\u4fdd\u4f51\u4ed6\u4eec\uff0c\u4f1a\u5bbd\u6055\u4ed6\u4eec\u7684\u7f6a\u8fc7\u3002\u800c\u5c11\u6570\u4eba\u4fdd\u5b88\u8c0e\u8a00\u7684\u79d8\u5bc6\uff0c\u8c0e\u8a00\u5c31\u662f\u8fd9\u4e2a\u4fe1\u4ef0\u7684\u4e1c\u897f\u662f\u7531\u4ed6\u4eec\u634f\u9020\u7684\u3002\u56e0\u6b64\u4ed6\u4eec\u6ca1\u6709\u529e\u6cd5\u7528\u4fe1\u4ef0\u6765\u89e3\u8131\uff0c\u4ed6\u4eec\u201c\u62c5\u5f53\u4e86\u8ba4\u8bc6\u5584\u6076\u7684\u8bc5\u5492\u201d\u3002</p> <p>\u6211\u60f3\u5230\u300a\u7f8e\u4e3d\u65b0\u4e16\u754c\u300b\uff0c\u4f3c\u4e4e\u5c31\u662f\u6781\u7aef\u5316\u8fd9\u79cd\u72b6\u6001\u3002\u53ea\u6709\u5c11\u6570\u4eba\u77e5\u9053\u8fd9\u4e2a\u4e16\u754c\u7684\u539f\u7406\uff0c\u4ed6\u4eec\u7ecf\u53d7\u75db\u82e6\u3002\u5927\u591a\u6570\u4eba\u5a31\u4e50\u81f3\u6b7b\u3002</p> <p>\u7edf\u6cbb\u7684\u4eba\u4e2d\uff0c\u6709\u6743\u6b32\u718f\u5fc3\u7684\u5c31\u6709\u60b2\u5929\u60af\u4eba\u7684\uff0c\u4ed6\u4eec\u4e5f\u662f\u75db\u82e6\u7684\u3002\u201c\u5168\u90e8\u79d8\u5bc6\u786e\u5b9e\u5c3d\u5728\u4e8e\u6b64\uff0c\u4f46\u662f\uff0c\u5bf9\u4e8e\u4ed6\u8fd9\u6837\u4e00\u4e2a\u6bd5\u751f\u5728\u65f7\u91ce\u82e6\u4fee\u800c\u4e14\u59cb\u7ec8\u6ca1\u6709\u6cbb\u6108\u7231\u4eba\u7c7b\u75fc\u75be\u7684\u4eba\u6765\u8bf4\uff0c\u96be\u9053\u8fd9\u4e0d\u7b97\u4e00\u5927\u52ab\u96be\uff1f\u4ed6\u5728\u5782\u66ae\u4e4b\u5e74\u6e05\u695a\u5730\u8ba4\u8bc6\u5230\uff0c\u53ea\u6709\u90a3\u53ef\u6015\u7684\u4f1f\u5927\u7cbe\u7075\u51fa\u7684\u4e3b\u610f\u4e5f\u8bb8\u591a\u5c11\u80fd\u628a\u53cd\u53db\u7684\u5f31\u8005\u2014\u2014\u2018\u90a3\u4e9b\u88ab\u9020\u51fa\u6765\u60f9\u4eba\u5632\u7b11\u7684\u6b8b\u6b21\u8bd5\u9a8c\u54c1\u2019\u2014\u2014\u5b89\u7f6e\u5728\u67d0\u79cd\u8fd8\u8fc7\u5f97\u53bb\u7684\u79e9\u5e8f\u4e4b\u4e2d\u3002\u786e\u7acb\u4e86\u8fd9\u4e00\u4fe1\u5ff5\u4e4b\u540e\uff0c\u4ed6\u770b\u5230\u5fc5\u987b\u8d70\u806a\u660e\u7684\u7cbe\u7075\u3001\u6b7b\u4ea1\u548c\u6bc1\u706d\u7684\u53ef\u6015\u7cbe\u7075\u6240\u6307\u5f15\u7684\u8def\uff0c\u4e3a\u6b64\u4fbf\u63a5\u53d7\u4e86\u8c0e\u8a00\u548c\u6b3a\u9a97\uff0c\u63a5\u4e0b\u6765\u5df2\u7ecf\u662f\u81ea\u89c9\u5730\u5e26\u9886\u4eba\u4eec\u8d70\u5411\u6b7b\u4ea1\u548c\u6bc1\u706d\uff0c\u540c\u65f6\u4e00\u8def\u54c4\u9a97\u4ed6\u4eec\uff0c\u4e0d\u8ba9\u4ed6\u4eec\u5bdf\u89c9\u81ea\u5df1\u6b63\u88ab\u5e26\u5f80\u4f55\u5904\u53bb\uff0c\u4f7f\u8fd9\u4e9b\u76f2\u76ee\u7684\u53ef\u601c\u866b\u81f3\u5c11\u5728\u8def\u4e0a\u89c9\u5f97\u81ea\u5df1\u662f\u5e78\u798f\u7684\u3002\u6ce8\u610f\uff0c\u6b3a\u9a97\u7528\u7684\u662f\u8001\u4eba\u6bd5\u751f\u7b03\u4fe1\u5176\u7406\u60f3\u7684\u90a3\u4e2a\u4eba\u7684\u540d\u4e49\uff01\u96be\u9053\u8fd9\u8fd8\u7b97\u4e0d\u5f97\u4e0d\u5e78\uff1f\u201d</p> <p>\u7136\u540e\u6211\u4eec\u77e5\u9053\uff0c\u4f0a\u51e1\u662f\u77e5\u9053\u8fd9\u4e2a\u79d8\u5bc6\u7684\uff0c\u56e0\u4e3a\u5728\u524d\u6587\u4e2d\u6211\u4eec\u770b\u5230\uff0c\u4f0a\u51e1\u6ca1\u6709\u529e\u6cd5\u63a5\u53d7\u8fd9\u6837\u7684\u5bbd\u6055\uff0c\u6240\u4ee5\u53ea\u80fd\u505a\u4fdd\u5b88\u79d8\u5bc6\u7684\u75db\u82e6\u7684\u4eba\u3002\u8bf4\u8d77\u6765\u4f0a\u51e1\u4e5f\u662f\u9887\u6709\u8352\u8bde\u4e3b\u4e49\u7684\uff1a</p> <p>\u6211\u8bf4\uff1a\u5373\u4f7f\u6211\u4e0d\u518d\u76f8\u4fe1\u751f\u6d3b\uff0c\u5373\u4f7f\u6211\u5bf9\u73cd\u7231\u7684\u5973\u4eba\u5931\u53bb\u4fe1\u5fc3\uff0c\u5bf9\u5e38\u7406\u5931\u53bb\u4fe1\u5fc3\uff0c\u76f8\u53cd\uff0c\u751a\u81f3\u786e\u4fe1\u4e00\u5207\u90fd\u662f\u6df7\u4e71\u3001\u53ef\u6076\u4e43\u81f3\u88ab\u9b54\u9b3c\u64cd\u7eb5\u7684\u4e00\u56e2\u7cdf\uff0c\u5373\u4f7f\u4e00\u4e2a\u4eba\u7edd\u671b\u65f6\u7684\u79cd\u79cd\u6050\u6016\u901a\u901a\u4e34\u5230\u6211\u5934\u4e0a\u2014\u2014\u6211\u8fd8\u662f\u8981\u6d3b\u4e0b\u53bb\uff0c\u4e00\u65e6\u4ece\u676f\u4e2d\u62bf\u4e86\u4e00\u53e3\uff0c\u4fbf\u518d\u4e5f\u4e0d\u613f\u820d\u5f03\u5b83\uff0c\u76f4\u5230\u628a\u9152\u559d\u5e72\u4e3a\u6b62\uff01\u4e0d\u8fc7\uff0c\u5230\u4e09\u5341\u5c81\u6211\u4e00\u5b9a\u628a\u676f\u5b50\u6254\u6389\uff0c\u54ea\u6015\u6ca1\u6709\u559d\u5b8c\u4e5f\u6254\u6389\uff0c\u7136\u540e\u79bb\u53bb\u2026\u2026\u4e0d\u77e5\u9053\u53bb\u4f55\u65b9\uff01\u4f46\u662f\uff0c\u6211\u575a\u4fe1\u5728\u4e09\u5341\u5c81\u4e4b\u524d\u6211\u7684\u9752\u6625\u5c06\u6218\u80dc\u4e00\u5207\uff0c\u6218\u80dc\u5bf9\u751f\u6d3b\u7684\u79cd\u79cd\u5931\u671b\u548c\u538c\u6076\u5fc3\u7406\u3002\u6211\u66fe\u591a\u6b21\u81ea\u95ee\uff1a\u4e16\u4e0a\u6709\u6ca1\u6709\u4e00\u79cd\u4e0d\u987e\u4e00\u5207\u7684\u51b2\u52a8\u80fd\u538b\u5012\u6211\u8eab\u4e0a\u8fd9\u4efd\u72c2\u70ed\u7684\u3001\u6216\u8bb8\u6709\u5931\u4f53\u7edf\u7684\u6e34\u671b\u2014\u2014\u751f\u7684\u6e34\u671b\uff1f\u7ed3\u8bba\u662f\u5927\u6982\u4e0d\u5b58\u5728\uff0c\u5e94\u8be5\u8bf4\u540c\u6837\u4e5f\u662f\u5728\u4e09\u5341\u5c81\u4e4b\u524d\u4e0d\u5b58\u5728\uff1b\u8fc7\u4e86\u4e09\u5341\u6211\u81ea\u5df1\u4f1a\u5931\u53bb\u8fd9\u4efd\u72c2\u70ed\uff0c\u6211\u6709\u8fd9\u611f\u89c9\u3002\u67d0\u4e9b\u60a3\u75e8\u75c5\u7684\u9ec4\u53e3\u9053\u5fb7\u5bb6\uff0c\u5c24\u5176\u662f\u8bd7\u4eba\uff0c\u5f80\u5f80\u79f0\u8fd9\u79cd\u751f\u7684\u6e34\u671b\u662f\u5351\u9119\u7684\u3002\u5b83\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u662f\u5361\u62c9\u9a6c\u4f50\u592b\u7684\u7279\u5f81\uff0c\u8fd9\u662f\u4e8b\u5b9e\u3002\u4e0d\u7ba1\u600e\u6837\uff0c\u4f60\u8eab\u4e0a\u4e00\u5b9a\u4e5f\u6709\u8fd9\u79cd\u751f\u7684\u6e34\u671b\uff0c\u4f46\u4e3a\u4ec0\u4e48\u5b83\u662f\u5351\u9119\u7684\u5462\uff1f\u5728\u6211\u4eec\u8fd9\u4e2a\u661f\u7403\u4e0a\uff0c\u5411\u5fc3\u529b\u8fd8\u5f3a\u5927\u5f97\u53ef\u6015\uff0c\u963f\u8fbd\u6c99\u3002\u5c31\u662f\u60f3\u6d3b\u4e0b\u53bb\uff0c\u6211\u6123\u662f\u6d3b\u7740\uff0c\u54ea\u6015\u4e0d\u5408\u903b\u8f91\u3002\u5c3d\u7ba1\u6211\u4e0d\u4fe1\u4e07\u8c61\u6709\u5e8f\uff0c\u4f46\u6211\u73cd\u7231\u9ecf\u7cca\u7cca\u7684\u3001\u6625\u5929\u53d1\u82bd\u7684\u53f6\u7247\uff0c\u73cd\u7231\u84dd\u5929\uff0c\u73cd\u7231\u6709\u65f6\u81ea\u5df1\u4e5f\u4e0d\u77e5\u9053\u2014\u2014\u4fe1\u4e0d\u4fe1\u7531\u4f60\u2014\u2014\u4e3a\u4ec0\u4e48\u4f1a\u7231\u7684\u67d0\u4e9b\u4eba\uff0c\u73cd\u7231\u4eba\u7c7b\u7684\u67d0\u4e9b\u58ee\u4e3e\uff0c\u4e5f\u8bb8\u6211\u65e9\u5df2\u4e0d\u518d\u76f8\u4fe1\u8fd9\u7b49\u4e30\u529f\u4f1f\u7ee9\uff0c\u4f46\u4ecd\u51fa\u4e8e\u65e7\u89c2\u5ff5\u6253\u5fc3\u773c\u91cc\u5bf9\u4e4b\u6000\u6709\u656c\u610f\u3002</p>"},{"location":"wen/kab/#_4","title":"\u7c73\u5609","text":"<p>\u5fcc\u5992\uff01\u666e\u5e0c\u91d1\u8bf4\u8fc7\uff1a\u201c\u5965\u8d5b\u7f57\u5e76\u4e0d\u5584\u5992\uff0c\u4ed6\u662f\u76f8\u4fe1\u4eba\u7684\u3002\u201d\u5355\u662f\u8fd9\u4e00\u53e5\u8bdd\u5373\u5df2\u8db3\u8bc1\uff0c\u6211\u4eec\u8fd9\u4f4d\u5927\u8bd7\u4eba\u7684\u667a\u6167\u5f02\u5e38\u6df1\u9083\u3002\u5965\u8d5b\u7f57\u7684\u5fc3\u7075\u5df2\u906d\u7c89\u788e\uff0c\u4ed6\u773c\u775b\u91cc\u770b\u5230\u7684\u6574\u4e2a\u4e16\u754c\u5df2\u53d8\u6210\u4e00\u7247\u6df7\u6c8c\uff0c\u53ea\u56e0\u4e3a\u4ed6\u7684\u7406\u60f3\u7834\u706d\u4e86 \u3002\u4f46\u5965\u8d5b\u7f57\u4e0d\u4f1a\u8eb2\u8d77\u6765\u91c7\u53d6\u76d1\u89c6\u3001\u7aa5\u63a2\u7684\u505a\u6cd5\uff0c\u56e0\u4e3a\u4ed6\u76f8\u4fe1\u4eba\u3002\u76f8\u53cd\uff0c\u5fc5\u987b\u82b1\u5927\u529b\u6c14\u52a0\u4ee5\u8bf1\u5bfc\u3001\u63a8\u52a8\u3001\u717d\u60d1\uff0c\u624d\u80fd\u4f7f\u4ed6\u7591\u5fc3\u6709\u4eba\u5bf9\u4ed6\u4e0d\u5fe0\u3002\u771f\u6b63\u5584\u5992\u7684\u4eba\u4e0d\u662f\u8fd9\u6837\u7684\u3002\u5584\u5992\u7684\u4eba\u4ec0\u4e48\u606c\u4e0d\u77e5\u803b\u548c\u9053\u5fb7\u6ca6\u4e27\u7684\u4e8b\u90fd\u5e72\u5f97\u51fa\u6765\uff0c\u800c\u4e14\u4e1d\u6beb\u4e0d\u53d7\u826f\u5fc3\u7684\u8c34\u8d23\uff0c\u771f\u96be\u4ee5\u60f3\u8c61\u3002\u5012\u4e0d\u662f\u8bf4\u8fd9\u4e9b\u4eba\u4e00\u4e2a\u4e2a\u90fd\u662f\u54c1\u884c\u7325\u7410\u3001\u7075\u9b42\u80ae\u810f\u3002\u76f8\u53cd\uff0c\u80f8\u6000\u9ad8\u5c1a\u7684\u611f\u60c5\u548c\u7eaf\u6d01\u7684\u7231\u5fc3\u3001\u5bcc\u6709\u81ea\u6211\u727a\u7272\u7cbe\u795e\u7684\u4eba\uff0c\u7167\u6837\u53ef\u80fd\u85cf\u5728\u684c\u5b50\u5e95\u4e0b\uff0c\u4e70\u901a\u5351\u9119\u5c0f\u4eba\uff0c\u5e72\u7aa5\u63a2\u548c\u5077\u542c\u4e4b\u7c7b\u4ee4\u4eba\u9f7f\u51b7\u7684\u52fe\u5f53\u3002</p> <p>\u5965\u8d5b\u7f57\u4e0d\u662f\u4e0d\u80fd\u5bbd\u6055\u4e0d\u5fe0\uff0c\u800c\u662f\u7edd\u5bf9\u4e0d\u53ef\u80fd\u4e0e\u4e0d\u5fe0\u59a5\u534f\uff0c\u5c3d\u7ba1\u4ed6\u4e0d\u662f\u4e00\u4e2a\u72e0\u6bd2\u7684\u4eba\uff0c\u4ed6\u7684\u5fc3\u4e0e\u5a74\u513f\u7684\u5fc3\u4e00\u6837\u7eaf\u6d01\u65e0\u90aa\u3002\u800c\u771f\u6b63\u5584\u5992\u7684\u4eba\u5219\u4e0d\u7136\uff1a\u67d0\u4e9b\u5584\u5992\u8005\u7adf\u80fd\u59d4\u66f2\u6c42\u5168\u3001\u59d1\u606f\u5bbd\u5bb9\u5230\u96be\u4ee5\u7f6e\u4fe1\u7684\u5730\u6b65\uff01\u5584\u5992\u8005\u662f\u6700\u80fd\u59d1\u606f\u5bbd\u5bb9\u7684\uff0c\u8fd9\u4e00\u70b9\u51e1\u662f\u5973\u4eba\u90fd\u77e5\u9053\u3002\u5584\u5992\u7684\u7537\u4eba\u5bbd\u6055\u5f97\u7279\u522b\u5feb\uff08\u6700\u521d\u81ea\u7136\u514d\u4e0d\u4e86\u8981\u5927\u95f9\u4e00\u573a\uff09\uff0c\u4ed6\u4eec\u80fd\u5bbd\u6055\u4f8b\u5982\u51e0\u4e4e\u5df2\u7ecf\u5750\u5b9e\u7684\u4e0d\u5fe0\uff0c\u5bbd\u6055\u4ed6\u4eec\u4eb2\u773c\u76ee\u7779\u7684\u62e5\u62b1\u548c\u63a5\u543b\uff0c\u53ea\u8981\u4ed6\u4eec\u540c\u65f6\u80fd\u591f\u76f8\u4fe1\u8fd9\u662f\u201c\u6700\u540e\u4e00\u6b21\u201d\uff0c\u76f8\u4fe1\u4ed6\u4eec\u7684\u60c5\u654c\u4ece\u6b64\u5c06\u5230\u6d77\u89d2\u5929\u6daf\u53bb\u9500\u58f0\u533f\u8ff9\uff0c\u6216\u8005\u4ed6\u4eec\u81ea\u5df1\u5c06\u628a\u5973\u7684\u5e26\u5f80\u53ef\u6015\u7684\u60c5\u654c\u518d\u4e5f\u53bb\u4e0d\u4e86\u7684\u5730\u65b9\u3002\u5f53\u7136\uff0c\u8fd9\u79cd\u59d4\u66f2\u6c42\u5168\u7684\u59a5\u534f\u53ea\u662f\u6682\u65f6\u7684\uff0c\u56e0\u4e3a\u5373\u4fbf\u60c5\u654c\u771f\u7684\u9500\u58f0\u533f\u8ff9\u4e86\uff0c\u4ed6\u4eec\u660e\u5929\u53c8\u4f1a\u5fc3\u9020\u51fa\u53e6\u5916\u7684\u3001\u65b0\u7684\u60c5\u654c\u6765\u4f5c\u4e3a\u81ea\u5df1\u5fcc\u5992\u7684\u5bf9\u8c61\u3002\u4eba\u4eec\u4e0d\u7981\u8981\u95ee\uff1a\u9700\u8981\u8fd9\u6837\u76d1\u89c6\u7684\u7231\u60c5\u8fd8\u6709\u4ec0\u4e48\u610f\u601d\uff1f\u5fc5\u987b\u5982\u6b64\u4e25\u52a0\u9632\u8303\u7684\u7231\u60c5\u8fd8\u6709\u4ec0\u4e48\u4ef7\u503c\uff1f\u4f46\u8fd9\u4e00\u70b9\u6070\u6070\u662f\u771f\u6b63\u5584\u5992\u7684\u4eba\u6c38\u8fdc\u65e0\u6cd5\u7406\u89e3\u7684\uff0c\u800c\u5728\u4ed6\u4eec\u4e2d\u95f4\u53c8\u786e\u5b9e\u4f1a\u6709\u5fc3\u7075\u9ad8\u5c1a\u7684\u4eba\u3002\u8fd8\u6709\u4e00\u70b9\u503c\u5f97\u6ce8\u610f\uff1a\u8fd9\u4e9b\u5fc3\u7075\u9ad8\u5c1a\u7684\u4eba\u8eb2\u5728\u67d0\u4e2a\u6597\u5ba4\u65ee\u65ef\u5077\u542c\u548c\u7aa5\u63a2\u7684\u65f6\u5019\uff0c\u867d\u7136\u51ed\u7740\u201c\u9ad8\u5c1a\u7684\u5fc3\u7075\u201d\u6e05\u695a\u5730\u610f\u8bc6\u5230\u4ed6\u4eec\u81ea\u613f\u9677\u5165\u7684\u5883\u5730\u6709\u591a\u4e48\u4e22\u4eba\uff0c\u7136\u800c\u81f3\u5c11\u5728\u4ed6\u4eec\u85cf\u8eab\u6597\u5ba4\u65ee\u65ef\u7684\u90a3\u4e2a\u65f6\u5019\uff0c\u662f\u51b3\u4e0d\u4f1a\u95ee\u5fc3\u6709\u6127\u7684\u3002</p>"},{"location":"wen/kab/#_5","title":"\u4f0a\u51e1","text":"<p>\u5f88\u4e45\u4ee5\u540e\uff0c\u6bcf\u5f53\u56de\u5fc6\u8fd9\u4e00\u591c\u7684\u60c5\u5f62\u65f6\uff0c\u4f0a\u4e07\u00b7\u8d39\u5965\u591a\u7f57\u7ef4\u5947\u603b\u4f1a\u7279\u522b\u6076\u5fc3\u5730\u60f3\u8d77\u81ea\u5df1\u66fe\u970d\u5730\u4ece\u6c99\u53d1\u4e0a\u7ad9\u8d77\u6765\uff0c\u8e51\u624b\u8e51\u811a\u3001\u751f\u6015\u88ab\u4eba\u7aa5\u89c1\u4f3c\u7684\u628a\u95e8\u6253\u5f00\uff0c\u8d70\u5230\u697c\u68af\u4e0a\u542c\u4e0b\u9762\u5c4b\u5b50\u91cc\u7684\u52a8\u9759\uff0c\u542c\u8d39\u5965\u591a\u5c14\u00b7\u5df4\u752b\u6d1b\u7ef4\u5947\u5728\u697c\u4e0b\u7ab8\u7ab8\u7aa3\u7aa3\u8d70\u52a8\u7684\u58f0\u97f3\uff0c\u6bcf\u6b21\u90fd\u8981\u542c\u5f88\u957f\u65f6\u95f4\uff0c\u6709\u4e94\u5206\u949f\u5de6\u53f3\uff0c\u63d0\u7740\u4e00\u9897\u83ab\u540d\u5176\u5999\u3001\u6026\u6026\u76f4\u8df3\u7684\u597d\u5947\u5fc3\u5c4f\u606f\u9759\u542c\uff0c\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u505a\uff0c\u4e3a\u4ec0\u4e48\u8981\u51dd\u795e\u8c1b\u542c\u2014\u2014\u4ed6\u81ea\u5df1\u5f53\u7136\u4e0d\u77e5\u9053\u3002\u4e8b\u540e\u4ed6\u6bd5\u5176\u4e00\u751f\u59cb\u7ec8\u79f0\u4e4b\u4e3a\u201c\u89c1\u4e0d\u5f97\u4eba\u7684\u4e3e\u52a8\u201d\uff0c\u5e76\u4e14\u6bd5\u5176\u4e00\u751f\u5728\u5fc3\u5e95\u91cc\uff0c\u5728\u7075\u9b42\u6df1\u5904\u59cb\u7ec8\u8ba4\u4e3a\uff0c\u8fd9\u662f\u4ed6\u4e00\u8f88\u5b50\u6700\u5351\u9119\u7684\u4e3e\u52a8\u3002</p> <p>\u611f\u89c9\u767e\u5e74\u5b64\u72ec\u4e5f\u4e0d\u8fc7\u662f\u81f4\u656c\u8fd9\u91cc\u7684\u63cf\u5199\u4e86\u3002PS\uff1a\u89c1\u4e0d\u5f97\u4eba\u662f\u56e0\u4e3a\u4ed6\u540e\u6765\u8ba4\u4e3a\u81ea\u5df1\u5f53\u65f6\u5e0c\u671b\u81ea\u5df1\u7684\u7236\u4eb2\u8d76\u5feb\u6b7b\u6389\uff0c\u89c9\u5f97\u8fd9\u79cd\u60f3\u6cd5\u975e\u5e38\u5351\u52a3\u3002</p>"},{"location":"wen/kab/#_6","title":"\u9b54\u9b3c","text":"<p>\u4f0a\u51e1\u7684\u9b54\u9b3c\u8bf4\u8bdd\uff0c\u53c8\u662f\u7ecf\u5178\u7684\u4e00\u8282\u3002</p> <p>\u201c\u4ed6\u620f\u5f04\u6211\uff01\u5e94\u8be5\u627f\u8ba4\uff0c\u4ed6\u5f88\u6709\u4e00\u5957\u3002\u2018\u826f\u5fc3\uff01\u826f\u5fc3\u7b97\u4ec0\u4e48\uff1f\u6211\u81ea\u5df1\u5c31\u4f1a\u505a\u826f\u5fc3\u3002\u6211\u4e3a\u4ec0\u4e48\u82e6\u607c\uff1f\u90a3\u662f\u4e60\u60ef\u3002\u90a3\u662f\u4e03\u5343\u5e74\u5f62\u6210\u7684\u5168\u4e16\u754c\u4eba\u7c7b\u7684\u4e60\u60ef\u3002\u5c06\u6765\u6212\u6389\u4e86\u8fd9\u79cd\u4e60\u60ef\uff0c\u54b1\u4eec\u5c31\u6210\u4e86\u795e\u3002\u2019\u8fd9\u662f\u4ed6\u8bf4\u7684\uff0c\u8fd9\u662f\u4ed6\u8bf4\u7684\uff01\u201d</p>"},{"location":"wen/kab/#_7","title":"\u5ba1\u5224","text":"<p>\u5982\u679c\u6211\u4eec\u5f04\u9519\u4e86\u4e8b\u5b9e\u5c31\u5ba1\u5224\uff0c\u90a3\u6211\u4eec\u4e5f\u540c\u6837\u662f\u6709\u7f6a\u7684\u3002</p>"},{"location":"wen/outsider/","title":"\u5c40\u5916\u4eba","text":"<p>\u770b\u8fc7\u897f\u897f\u5f17\u795e\u8bdd\u4ee5\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u4e3b\u89d2\u83ab\u5c14\u7d22\u662f\u52a0\u7f2a\u5851\u9020\u7684\u8352\u8bde\u7684\u4eba\u7684\u5178\u578b\u3002\u6211\u603b\u662f\u611f\u89c9\u52a0\u7f2a\u7684\u6587\u7b14\u770b\u4e0a\u53bb\u5e73\u5e73\u65e0\u5947\uff0c\u4f46\u662f\u4ed4\u7ec6\u8bfb\u8d77\u6765\u5f88\u7ec6\u817b\uff0c\u5f88\u51c6\u786e\u3002</p> <p>\u4ed6\u8d70\u4e86\u4ee5\u540e\uff0c\u6211\u5e73\u9759\u4e0b\u6765\u3002\u6211\u7d2f\u6781\u4e86\uff0c\u4e00\u4e0b\u5b50\u6251\u5012\u5e8a\u4e0a\u3002\u6211\u8ba4\u4e3a\u6211\u662f\u7761\u7740\u4e86\uff0c\u56e0\u4e3a\u6211\u9192\u6765\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u6ee1\u5929\u661f\u6597\u7167\u5728\u6211\u7684\u8138\u4e0a\u3002\u7530\u91ce\u4e0a\u7684\u58f0\u97f3\u4e00\u76f4\u4f20\u5230\u6211\u7684\u8033\u7554\u3002\u591c\u7684\u6c14\u5473\u3001\u571f\u5730\u7684\u6c14\u5473\u3001\u6d77\u76d0\u7684\u6c14\u5473\uff0c\u4f7f\u6211\u7684\u4e24\u9b13\u611f\u5230\u6e05\u51c9\u3002\u8fd9\u6c89\u7761\u7684\u590f\u591c\u7684\u5947\u5999\u5b89\u9759\uff0c\u50cf\u6f6e\u6c34\u4e00\u822c\u6d78\u900f\u6211\u7684\u5168\u8eab\u3002\u8fd9\u65f6\uff0c\u957f\u591c\u5c06\u5c3d\uff0c\u6c7d\u7b1b\u53eb\u4e86\u8d77\u6765\u3002\u5b83\u5ba3\u5e03\u6709\u4e9b\u4eba\u8981\u8e0f\u4e0a\u65c5\u9014\uff0c\u8981\u53bb\u4e00\u4e2a\u4ece\u6b64\u548c\u6211\u65e0\u5173\u75db\u75d2\u7684\u4e16\u754c\u3002\u5f88\u4e45\u4ee5\u6765\uff0c\u6211\u7b2c\u4e00\u6b21\u60f3\u8d77\u4e86\u5988\u5988\u3002\u6211\u89c9\u5f97\u6211\u660e\u767d\u4e86\u4e3a\u4ec0\u4e48\u5979\u8981\u5728\u665a\u5e74\u53c8\u627e\u4e86\u4e2a\u201c\u672a\u5a5a\u592b\u201d\uff0c\u4e3a\u4ec0\u4e48\u5979\u53c8\u73a9\u8d77\u4e86\u201c\u91cd\u65b0\u518d\u6765\u201d\u7684\u6e38\u620f\u3002\u90a3\u8fb9\uff0c\u90a3\u8fb9\u4e5f\u4e00\u6837\uff0c\u5728\u4e00\u4e2a\u4e2a\u751f\u547d\u5c06\u5c3d\u7684\u517b\u8001\u9662\u5468\u56f4\uff0c\u591c\u665a\u5982\u540c\u4e00\u6bb5\u4ee4\u4eba\u4f24\u611f\u7684\u65f6\u523b\u3002\u5988\u5988\u5df2\u7ecf\u79bb\u6b7b\u4ea1\u90a3\u4e48\u8fd1\u4e86\uff0c\u8be5\u662f\u611f\u5230\u4e86\u89e3\u8131\uff0c\u51c6\u5907\u628a\u4e00\u5207\u518d\u91cd\u65b0\u8fc7\u4e00\u904d\u3002\u4efb\u4f55\u4eba\uff0c\u4efb\u4f55\u4eba\u4e5f\u6ca1\u6709\u6743\u5229\u54ed\u5979\u3002\u6211\u4e5f\u662f\uff0c\u6211\u4e5f\u611f\u5230\u51c6\u5907\u597d\u628a\u4e00\u5207\u518d\u8fc7\u4e00\u904d\u3002\u597d\u50cf\u8fd9\u5de8\u5927\u7684\u6124\u6012\u6e05\u9664\u4e86\u6211\u7cbe\u795e\u4e0a\u7684\u75db\u82e6\uff0c\u4e5f\u4f7f\u6211\u5931\u53bb\u4e86\u5e0c\u671b\u3002\u9762\u5bf9\u8fd9\u5145\u6ee1\u4fe1\u606f\u4e0e\u661f\u6597\u7684\u591c\uff0c\u6211\u7b2c\u4e00\u6b21\u50cf\u8fd9\u4e2a\u4e16\u754c\u7684\u52a8\u4eba\u7684\u51b7\u6f20\u655e\u5f00\u4e86\u5fc3\u6249\u3002\u6211\u4f53\u9a8c\u5230\u8fd9\u4e2a\u4e16\u754c\u5982\u6b64\u50cf\u6211\uff0c\u5982\u6b64\u53cb\u7231\uff0c\u6211\u89c9\u5f97\u6211\u8fc7\u53bb\u66fe\u7ecf\u662f\u5e78\u798f\u7684\uff0c\u6211\u73b0\u5728\u4ecd\u7136\u662f\u5e78\u798f\u7684\u3002\u4e3a\u4e86\u628a\u4e00\u5207\u90fd\u505a\u5f97\u5b8c\u5584\uff0c\u4e3a\u4e86\u4f7f\u6211\u611f\u5230\u4e0d\u90a3\u4e48\u5b64\u72ec\uff0c\u6211\u8fd8\u5e0c\u671b\u5904\u51b3\u6211\u7684\u90a3\u4e00\u5929\u5f88\u591a\u4eba\u6765\u89c2\u770b\uff0c\u5e0c\u671b\u4ed6\u4eec\u5bf9\u6211\u62a5\u4ee5\u4ec7\u6068\u7684\u558a\u53eb\u58f0\u3002</p>"},{"location":"wen/sisyphe/","title":"\u897f\u897f\u5f17\u795e\u8bdd","text":""},{"location":"wen/sisyphe/#_2","title":"\u8352\u8bde\u7684\u81ea\u7531","text":"<p>\u6211\u4e0d\u77e5\u9053\u8fd9\u4e16\u754c\u662f\u5426\u6709\u4e00\u79cd\u8d85\u8d8a\u5b83\u7684\u610f\u4e49. \u4f46\u662f\u6211\u77e5\u9053\u6211\u4e0d\u8ba4\u8bc6\u8fd9\u610f\u4e49, \u76ee\u524d\u6211\u4e5f\u4e0d\u53ef\u80fd\u8ba4\u8bc6\u4ed6. \u5bf9\u6211\u6765\u8bf4, \u4e00\u79cd\u8d85\u8d8a\u6211\u7684\u73af\u5883\u610f\u5473\u7740\u4ec0\u4e48? \u6211\u53ea\u80fd\u4ee5\u4eba\u7684\u672f\u8bed\u6765\u7406\u89e3. \u6211\u6349\u6478\u5230\u7684, \u62b5\u6297\u7740\u6211\u7684, \u6211\u7406\u89e3\u7684\u5c31\u662f\u8fd9\u4e9b. \u8fd9\u4e24\u79cd\u53ef\u9760\u7684\u4e1c\u897f, \u5373\u6211\u5bf9\u7edd\u5bf9\u548c\u7edf\u4e00\u7684\u6e34\u671b\u53ca\u8fd9\u4e2a\u4e16\u754c\u5bf9\u4e00\u79cd\u7406\u6027\u7684\u5408\u7406\u7684\u539f\u5219\u7684\u4e0d\u53ef\u8fd8\u539f\u6027, \u6211\u8fd8\u77e5\u9053\u6211\u4e0d\u80fd\u4f7f\u4e24\u8005\u548c\u89e3. </p> <pre><code>Peter \u89c9\u5f97\u4e0b\u9762\u8fd9\u4e00\u6bb5\u8bdd\u8bf4\u7684\u771f\u597d, \u4eba\u539f\u672c\u662f\u5c5e\u4e8e\u8fd9\u4e2a\u4e16\u754c\u7684, \u4f46\u662f\u4eba\u7684\u610f\u8bc6, \u4eba\u7684\u7406\u6027\u8feb\u4f7f\u4eba\u548c\u8fd9\u4e2a\u8352\u8bde\u7684\u4e16\u754c\u76f8\u5bf9\u7acb. \u56e0\u4e3a, \u4eba\u5bf9\u7edd\u5bf9\u548c\u7edf\u4e00\u7684\u6e34\u671b\u548c\u8fd9\u4e2a\u4e16\u754c\u5bf9\u4e00\u79cd\u7406\u6027\u7684\u5408\u7406\u7684\u539f\u5219\u7684\u4e0d\u53ef\u8fd8\u539f\u6027, \u8fd9\u4e24\u8005\u96be\u4ee5\u548c\u89e3. \u8fd9\u6bb5\u540e\u9762\u7684\u5185\u5bb9\u662f, \u4eba\u7684\u7cbe\u795e\u63a5\u53d7\u4e86\u8352\u8bde\u4e4b\u540e\u7684\u6539\u53d8: \u8eaf\u4f53, \u6e29\u60c5, \u521b\u9020, \u884c\u4e3a, \u4eba\u7c7b\u7684\u9ad8\u8d35, \u8ba9\u6211\u4eec\u5728\u8fd9\u75af\u72c2\u7684\u4e16\u754c\u4e2d\u91cd\u65b0\u83b7\u5f97\u5b83\u4eec\u7684\u4f4d\u7f6e\u5427. \u53e6\u5916: \u54f2\u5b66\u610f\u4e49\u4e0b\u7684 \"\u8df3\u8dc3\" \u662f\u4ec0\u4e48\u542b\u4e49? \n</code></pre> <p>\u5047\u5982\u6211\u662f\u6811\u4e2d\u7684\u4e00\u68f5\u6811, \u52a8\u7269\u4e2d\u7684\u4e00\u53ea\u732b, \u8fd9\u4eba\u751f\u53ef\u80fd\u4f1a\u6709\u4e00\u79cd\u610f\u4e49, \u6216\u8005\u66f4\u786e\u5207\u7684\u8bf4, \u8fd9\u4e2a\u95ee\u9898\u53ef\u80fd\u6ca1\u6709\u610f\u4e49, \u56e0\u4e3a\u6211\u662f\u4e16\u754c\u7684\u4e00\u90e8\u5206. \u6211\u53ef\u80fd\u4f1a\u5c5e\u4e8e\u8fd9\u4e2a\u4e16\u754c. \u800c\u73b0\u5728\u6211\u4ee5\u6211\u5168\u90e8\u7684\u610f\u8bc6\u548c\u6211\u5bf9\u719f\u8bc6\u7684\u5168\u90e8\u8981\u6c42\u6765\u548c\u8fd9\u4e2a\u4e16\u754c\u76f8\u5bf9\u7acb. \u6b63\u662f\u8fd9\u4e2a\u5982\u6b64\u53ef\u7b11\u7684\u7406\u6027\u4f7f\u6211\u548c\u4efb\u4f55\u521b\u9020\u76f8\u5bf9\u7acb.\u6211\u4e0d\u80fd\u628a\u5b83(\u6211\u7684\u7406\u6027)\u4e00\u7b14\u62b9\u715e. \u6211\u76f8\u4fe1\u51e1\u662f\u771f\u5b9e\u7684\u4e1c\u897f, \u6211\u5c31\u5e94\u8be5\u575a\u6301. \u6211\u89c9\u5f97\u5982\u6b64\u660e\u663e\u7684\u4e1c\u897f, \u5373\u4fbf\u662f\u53cd\u5bf9\u6211\u7684, \u6211\u4e5f\u5e94\u8be5\u575a\u6301. \u662f\u4ec0\u4e48\u9020\u6210\u4e86\u8fd9\u51b2\u7a81\u7684\u5185\u5bb9\u4ee5\u53ca\u4e16\u754c\u548c\u6211\u7684\u7cbe\u795e\u4e4b\u95f4\u7684\u8fd9\u79cd\u5206\u88c2, \u5982\u679c\u4e0d\u662f\u6211\u5bf9\u6b64\u6240\u5177\u6709\u7684\u610f\u8bc6\u7684\u8bdd? \u5982\u679c\u6211\u60f3\u4fdd\u6301\u8fd9\u79cd\u72b6\u51b5, \u90a3\u662f\u901a\u8fc7\u4e00\u79cd\u4e0d\u65ad\u7684, \u603b\u5728\u66f4\u65b0\u7684, \u603b\u662f\u7d27\u5f20\u7684\u610f\u8bc6. \u8fd9\u5c31\u662f\u6211\u773c\u4e0b\u5e94\u8be5\u8bb0\u4f4f\u7684\u4e1c\u897f. \u8fd9\u65f6, \u8352\u8bde\u65e2\u662f\u5982\u6b64\u660e\u663e, \u53c8\u662f\u5982\u6b64\u96be\u4ee5\u5f81\u670d. \u5b83\u8fdb\u5165\u4e00\u4e2a\u4eba\u7684\u751f\u6d3b\u4e4b\u4e2d, \u5e76\u627e\u5230\u4e86\u5b83\u7684\u6545\u4e61. \u4e5f\u662f\u5728\u8fd9\u4e2a\u65f6\u5019, \u7cbe\u795e\u53ef\u4ee5\u79bb\u5f00\u6e05\u9192\u7684\u52aa\u529b\u7684\u90a3\u6761\u8352\u51c9\u5e72\u71e5\u7684\u9053\u8def. \u8fd9\u6761\u9053\u8def\u73b0\u5728\u4f38\u8fdb\u4e86\u65e5\u5e38\u751f\u6d3b. \u5b83\u53c8\u627e\u5230\u4e86\u65e0\u540d\u6c0f\u7684\u4e16\u754c, \u800c\u4eba\u4e5f\u5e26\u7740\u4ed6\u7684\u53cd\u6297\u548c\u8fdc\u89c1\u4ece\u6b64\u56de\u5230\u8fd9\u4e16\u754c\u53bb. \u4ed6\u4e0d\u4f1a\u518d\u5e0c\u671b\u4e86. \u8fd9\u4e2a\u73b0\u5b9e\u7684\u5730\u72f1, \u7ec8\u4e8e\u6210\u4e86\u4ed6\u7684\u738b\u56fd. \u6240\u6709\u7684\u95ee\u9898\u91cd\u53c8\u9732\u51fa\u950b\u8292. \u62bd\u8c61\u7684\u4e8b\u5b9e\u5728\u5f62\u5f0f\u548c\u8272\u5f69\u7684\u6292\u60c5\u9762\u524d\u9000\u5374\u4e86. \u7cbe\u795e\u7684\u51b2\u7a81\u5177\u8c61\u5316\u4e86, \u53c8\u627e\u5230\u4e86\u4eba\u5fc3\u7684\u60b2\u60e8\u800c\u51fa\u8272\u7684\u9690\u853d\u5904. \u4ec0\u4e48\u4e5f\u6ca1\u6709\u89e3\u51b3. \u4f46\u662f\u4e00\u5207\u53c8\u90fd\u6539\u89c2\u4e86. \u4eba\u4eec\u5c06\u6b7b\u53bb, \u4ee5\u8df3\u8dc3\u6765\u9003\u907f, \u91cd\u65b0\u76d6\u8d77\u4e00\u5ea7\u9002\u5408\u4ed6\u7684\u89c2\u5ff5\u548c\u5f62\u5f0f\u7684\u623f\u5b50\u5417? \u8fd8\u662f\u76f8\u53cd, \u4eba\u4eec\u5c06\u63a5\u53d7\u8352\u8bde\u7684\u4ee4\u4eba\u75db\u82e6\u7684\u5374\u53c8\u5947\u5999\u65e0\u6bd4\u7684\u6311\u6218? \u8ba9\u6211\u4eec\u4e3a\u6b64\u505a\u51fa\u6700\u540e\u7684\u52aa\u529b\u5e76\u5f97\u51fa\u6211\u4eec\u7684\u4e00\u5207\u540e\u679c\u5427. \u8eaf\u4f53, \u6e29\u60c5, \u521b\u9020, \u884c\u4e3a, \u4eba\u7c7b\u7684\u9ad8\u8d35, \u8ba9\u6211\u4eec\u5728\u8fd9\u75af\u72c2\u7684\u4e16\u754c\u4e2d\u91cd\u65b0\u83b7\u5f97\u5b83\u4eec\u7684\u4f4d\u7f6e\u5427. \u4eba\u5c06\u7ec8\u4e8e\u5728\u90a3\u91cc\u83b7\u5f97\u4ed6\u7684\u4f1f\u5927\u8d56\u4ee5\u4e3a\u751f\u5b58\u7684\u8352\u8bde\u4e4b\u9152\u548c\u51b7\u6f20\u4e4b\u7cae.</p> <p>\u8ba9\u6211\u518d\u6b21\u5f3a\u8c03\u65b9\u6cd5: \u95ee\u9898\u5728\u4e8e\u575a\u6301. \u5728\u4ed6\u7684\u9053\u8def\u7684\u67d0\u4e00\u70b9\u4e0a, \u8352\u8bde\u7684\u4eba\u53d7\u5230\u5438\u5f15. \u5386\u53f2\u4e0d\u4e4f\u5b97\u6559\u548c\u9884\u8a00\u5bb6, \u4f46\u6ca1\u6709\u795e. \u4eba\u4eec\u8981\u6c42\u4ed6\u8df3\u8dc3. \u4ed6\u6240\u80fd\u591f\u56de\u7b54\u7684, \u5c31\u662f\u4ed6\u4e0d\u592a\u7406\u89e3, \u4e8b\u60c5\u4e0d\u660e\u663e. \u800c\u4ed6\u6070\u6070\u53ea\u60f3\u505a\u4ed6\u7406\u89e3\u7684\u4e8b\u60c5. \u4eba\u4eec\u5411\u4ed6\u80af\u5b9a\u8fd9\u662f\u9a84\u50b2\u4e4b\u7f6a, \u4f46\u662f\u4ed6\u4e0d\u61c2\u7f6a\u5b7d\u7684\u6982\u5ff5; \u4eba\u4eec\u5411\u4ed6\u80af\u5b9a\u4e5f\u8bb8\u5730\u72f1\u5c31\u5728\u5c3d\u5934, \u4f46\u662f\u4ed6\u6ca1\u6709\u8db3\u591f\u7684\u60f3\u8c61\u529b, \u65e0\u6cd5\u7ed9\u81ea\u5df1\u63cf\u7ed8\u51fa\u8fd9\u79cd\u5947\u602a\u7684\u524d\u9014; \u4eba\u4eec\u8fd8\u5411\u4ed6\u80af\u5b9a\u4ed6\u8981\u5931\u53bb\u6c38\u6052\u7684\u751f\u547d, \u4f46\u662f\u4ed6\u5374\u89c9\u5f97\u8fd9\u5fae\u4e0d\u8db3\u9053. \u4eba\u4eec\u60f3\u8981\u8ba9\u4ed6\u627f\u8ba4\u4ed6\u7684\u7f6a\u8fc7, \u4ed6\u5374\u89c9\u5f97\u81ea\u5df1\u662f\u6e05\u767d\u7684. \u8bf4\u771f\u7684, \u4ed6\u53ea\u611f\u89c9\u5230\u4e00\u70b9, \u4ed6\u90a3\u65e0\u6cd5\u633d\u56de\u7684\u6e05\u767d. \u6b63\u662f\u8fd9\u6e05\u767d\u4f7f\u4ed6\u4e3a\u6240\u6b32\u4e3a. \u8fd9\u6837, \u4ed6\u8981\u6c42\u4e8e\u81ea\u5df1\u7684, \u5c31\u662f\u5355\u5355\u9760\u7740\u4ed6\u6240\u77e5\u9053\u7684\u4e8b\u60c5\u800c\u6d3b, \u4e0e\u5b58\u5728\u7684\u4e1c\u897f\u53d6\u5f97\u4e00\u81f4\u4ee5\u53ca\u4e0d\u4f7f\u4efb\u4f55\u4e0d\u53ef\u9760\u7684\u4e1c\u897f\u4ecb\u5165. \u4eba\u4eec\u5bf9\u4ed6\u56de\u7b54\u8bf4\u4e00\u5207\u90fd\u662f\u4e0d\u53ef\u9760\u7684. \u4f46\u662f, \u81f3\u5c11\u8fd9\u5c31\u662f\u4e00\u79cd\u53ef\u9760\u7684\u4e1c\u897f(\u5373\u4e00\u5207\u90fd\u662f\u4e0d\u53ef\u9760\u7684). \u4ed6\u4e0e\u4e4b\u6253\u4ea4\u9053\u7684\u5c31\u662f\u8fd9\u4e1c\u897f: \u4ed6\u60f3\u77e5\u9053\u662f\u5426\u53ef\u80fd\u4e49\u65e0\u53cd\u987e\u5730\u53bb\u751f\u6d3b. </p>"},{"location":"wen/sisyphe/#_3","title":"\u53cd\u6297","text":"<pre><code>\u4eba\u7684\u610f\u8bc6\u548c\u4e16\u754c\u7684\u8352\u8bde\u6240\u4ea7\u751f\u7684\u5bf9\u7acb\u662f\u5929\u7136\u7684. \u610f\u8bc6\u610f\u8bc6\u5230\u8fd9\u79cd\u8352\u8bde, \u5929\u7136\u5c31\u4f1a\u53cd\u6297. \u5426\u5b9a\u8352\u8bde, \u6216\u662f\u5426\u5b9a\u53cd\u6297, \u90fd\u662f\u4e00\u79cd\u9003\u907f. \u6545\u800c\u8bf4, \u4f53\u9a8c\u4e00\u79cd\u547d\u8fd0, \u5c31\u662f\u5168\u76d8\u5730\u63a5\u53d7; \u534f\u8c03\u4e00\u81f4\u7684\u54f2\u5b66\u7acb\u573a\u4e4b\u4e00, \u5c31\u662f\u53cd\u6297. \n\n\u4e8e\u662f\u54f2\u5b66\u610f\u4e49\u4e0a\u7684\u81ea\u6740, \u662f\u5bf9\u8fd9\u79cd\u8352\u8bde\u7684\u4e00\u79cd\u62d2\u7edd, \u5b83\u4e0d\u662f\u53cd\u6297, \u800c\u662f\u4e00\u79cd\u9003\u907f, \u6240\u4ee5\u5b83\u5e76\u4e0d\u662f\u8352\u8bde\u7684\u89e3\u51b3\u65b9\u5f0f.\n</code></pre> <p>\u73b0\u5728\u6211\u6765\u8c08\u81ea\u6740\u7684\u6982\u5ff5. \u4eba\u4eec\u5df2\u7ecf\u611f\u89c9\u5230\u53ef\u80fd\u7ed9\u4e88\u5b83\u4ec0\u4e48\u6837\u7684\u89e3\u51b3. \u5728\u8fd9\u4e00\u70b9\u4e0a, \u95ee\u9898\u88ab\u98a0\u5012\u8fc7\u6765\u4e86. \u5148\u524d\u7684\u95ee\u9898\u662f\u77e5\u9053\u4eba\u751f\u8981\u503c\u5f97\u8fc7\u662f\u5426\u5c31\u5f97\u6709\u4e00\u79cd\u610f\u4e49. \u8fd9\u91cc\u6b63\u76f8\u53cd, \u770b\u6765\u4eba\u751f\u8d8a\u6ca1\u6709\u610f\u4e49\u5c31\u8d8a\u503c\u5f97\u8fc7. \u4f53\u9a8c\u4e00\u79cd\u7ecf\u9a8c, \u4e00\u79cd\u547d\u8fd0, \u5c31\u662f\u5b8c\u5168\u5730\u63a5\u53d7. \u7136\u800c, \u5047\u5982\u4eba\u4eec\u4e0d\u662f\u5343\u65b9\u767e\u8ba1\u5730\u5728\u81ea\u5df1\u9762\u524d\u4fdd\u6301\u8fd9\u79cd\u7ecf\u8fc7\u610f\u8bc6\u9010\u65e5\u6574\u7406\u8fc7\u7684\u8352\u8bde, \u4ed6\u65e2\u77e5\u9053\u8fd9\u547d\u8fd0\u662f\u8352\u8bde\u7684, \u90a3\u5c31\u4e0d\u4f1a\u4f53\u9a8c\u8fd9\u547d\u8fd0. \u5426\u5b9a\u4ed6\u8d56\u4ee5\u751f\u6d3b\u7684\u5bf9\u7acb\u7684\u67d0\u4e00\u9879, \u5c31\u662f\u9003\u907f\u8fd9\u79cd\u5bf9\u7acb. \u53d6\u6d88\u610f\u8bc6\u7684\u53cd\u6297, \u5c31\u662f\u56de\u907f\u95ee\u9898. \u4e0d\u65ad\u9769\u547d\u8fd9\u4e00\u4e3b\u9898\u5c31\u8fd9\u6837\u8f6c\u79fb\u5230\u4e2a\u4eba\u7684\u7ecf\u9a8c\u4e2d\u53bb\u4e86. \u6d3b\u7740, \u5c31\u662f\u4f7f\u8352\u8bde\u6d3b\u7740. \u4f7f\u8352\u8bde\u6d3b\u7740, \u9996\u5148\u5c31\u662f\u6b63\u89c6\u5b83. \u4e0e\u6b27\u5f8b\u72c4\u523b\u76f8\u53cd, \u8352\u8bde\u53ea\u6709\u5728\u4eba\u79bb\u5f00\u5b83\u65f6\u4ed6\u624d\u6b7b\u53bb. \u56e0\u6b64, \u534f\u8c03\u4e00\u81f4\u7684\u54f2\u5b66\u7acb\u573a\u4e4b\u4e00, \u5c31\u662f\u53cd\u6297. \u53cd\u6297\u5c31\u662f\u4eba\u548c\u4ed6\u81ea\u5df1\u7684\u9634\u6697\u9762\u4e4b\u95f4\u7684\u6c38\u6052\u5bf9\u6297. \u5b83\u8981\u6c42\u4e00\u79cd\u4e0d\u53ef\u80fd\u7684\u900f\u660e. \u5b83\u65f6\u65f6\u523b\u523b\u90fd\u5bf9\u4e16\u754c\u63d0\u51fa\u7591\u95ee. \u6b63\u5982\u5371\u9669\u5411\u4eba\u63d0\u4f9b\u4e86\u4e0d\u53ef\u66ff\u4ee3\u7684\u628a\u63e1\u4e16\u754c\u7684\u673a\u4f1a, \u5f62\u800c\u4e0a\u7684\u53cd\u6297\u628a\u610f\u8bc6\u8d2f\u7a7f\u4e8e\u7ecf\u9a8c\u7684\u59cb\u7ec8. \u5b83\u5c31\u662f\u4eba\u5bf9\u4ed6\u81ea\u5df1\u7684\u90a3\u79cd\u4e0d\u53d8\u7684\u5b58\u5728. \u5b83(\u53cd\u6297)\u4e0d\u662f\u5411\u5f80, \u5b83\u6ca1\u6709\u5e0c\u671b. \u8fd9\u79cd\u53cd\u6297\u53ea\u662f\u4e00\u4e2a\u4e0d\u53ef\u62b5\u6297\u7684\u547d\u8fd0\u7684\u4fdd\u8bc1, \u5374\u6ca1\u6709\u672c\u5e94\u4f34\u540c\u8fd9\u4fdd\u8bc1\u7684\u90a3\u79cd\u987a\u4ece. </p> <p>\u6b63\u662f\u5728\u8fd9\u91cc, \u4eba\u4eec\u770b\u5230\u8352\u8bde\u7684\u7ecf\u9a8c\u8ddd\u79bb\u81ea\u6740\u6709\u591a\u4e48\u8fdc. \u4eba\u4eec\u53ef\u80fd\u8ba4\u4e3a\u81ea\u6740\u7d27\u8ddf\u7740\u53cd\u6297. \u4f46\u662f\u4e0d\u5bf9. \u56e0\u4e3a\u81ea\u6740\u8868\u73b0\u51fa\u53cd\u6297\u7684\u903b\u8f91\u7684\u7ed3\u5c40. \u56e0\u4e3a\u6839\u636e\u5b83\u63d0\u51fa\u7684\u5141\u8bfa(\u4ec0\u4e48\u5141\u8bfa?), \u5b83\u6b63\u662f\u53cd\u6297\u7684\u53cd\u9762. \u5982\u540c\u8df3\u8dc3\u4e00\u6837, \u81ea\u6740\u662f\u5c3d\u5176\u6240\u80fd\u7684\u63a5\u53d7. \u4e00\u5207\u90fd\u81f3\u5584\u81f3\u7f8e\u4e86, \u4eba\u53c8\u56de\u5230\u4ed6\u7684\u672c\u8d28\u7684\u5386\u53f2\u4e2d\u53bb\u4e86. \u4ed6\u7684\u672a\u6765, \u552f\u4e00\u7684\u53ef\u6015\u7684\u672a\u6765, \u4ed6\u5df2\u7ecf\u5206\u8fa8\u51fa\u6765, \u5e76\u6295\u5165\u5176\u4e2d. \u81ea\u6740\u4ee5\u5b83\u7684\u65b9\u5f0f\u89e3\u51b3\u4e86\u8352\u8bde. \u5b83\u628a\u5b83\u62d6\u5165\u5230\u540c\u4e00\u79cd\u6b7b\u4ea1\u4e2d\u53bb. \u4f46\u662f\u6211\u77e5\u9053, \u8352\u8bde\u662f\u575a\u6301\u4e0d\u61c8\u7684, \u4e0d\u80fd\u89e3\u51b3. \u8352\u8bde\u9003\u8131\u4e86\u81ea\u6740, \u56e0\u4e3a\u5b83\u540c\u65f6\u662f\u5bf9\u6b7b\u4ea1\u7684\u610f\u8bc6\u548c\u62d2\u7edd. </p> <pre><code>\u8352\u8bde\u8fd9\u4e2a\u4e8b\u5b9e\u662f\u65e2\u5b9a\u7684. \u5916\u5728\u7684\u7406\u8bba(\u5b97\u6559\u7b49)\u5728\u524a\u51cf\u4e16\u754c\u7684\u8352\u8bde\u65f6, \u4e5f\u524a\u51cf\u4e86\u4eba\u7684\u529b\u91cf, \u56e0\u4e3a\u5bf9\u8fd9\u4e9b\u8bd5\u56fe\u6d88\u706d\u8352\u8bde\u7684\u5916\u5728\u7406\u8bba\u7684\u4fe1\u4ef0\u662f\u5bf9\u8352\u8bde\u672c\u8eab\u7684\u4e00\u79cd\u9003\u907f.\n</code></pre> <p>\u8fd9\u53cd\u6297\u628a\u5b83\u7684\u4ef7\u503c\u7ed9\u4e86\u4eba\u751f. \u53cd\u6297\u8d2f\u7a7f\u7740\u751f\u5b58\u7684\u59cb\u7ec8, \u6062\u590d\u4e86\u751f\u5b58\u7684\u4f1f\u5927. \u5bf9\u4e8e\u4e00\u4e2a\u773c\u754c\u5f00\u9614\u7684\u4eba\u6765\u8bf4, \u6700\u7f8e\u7684\u666f\u8c61\u83ab\u8fc7\u4e8e\u667a\u529b\u548c\u4e00\u79cd\u8d85\u8d8a\u4ed6\u7684\u73b0\u5b9e\u4e4b\u95f4\u7684\u640f\u6597. \u4eba\u7c7b\u9a84\u50b2\u7684\u666f\u8c61\u662f\u65e0\u4e0e\u4f26\u6bd4\u7684. \u4efb\u4f55\u8d2c\u503c\u90fd\u83ab\u5948\u4ed6\u4f55. \u7cbe\u795e\u7ed9\u81ea\u5df1\u89c4\u5b9a\u7684\u8fd9\u79cd\u7eaa\u5f8b, \u8fd9\u79cd\u953b\u9020\u5f97\u65e0\u61c8\u53ef\u51fb\u7684\u610f\u5fd7, \u8fd9\u79cd\u9762\u5bf9\u9762, \u662f\u6709\u7740\u67d0\u79cd\u5f3a\u5927\u800c\u5947\u5f02\u7684\u4e1c\u897f\u7684. \u975e\u4eba\u6027\u7528\u8fd9\u79cd\u73b0\u5b9e\u9020\u5c31\u4e86\u4eba\u7684\u4f1f\u5927, \u4f7f\u8fd9\u79cd\u73b0\u5b9e\u8d2b\u4e4f, \u5c31\u662f\u4f7f\u81ea\u5df1\u8d2b\u4e4f. \u4e8e\u662f, \u6211\u660e\u767d\u4e86\u4e3a\u4ec0\u4e48\u5bf9\u6211\u89e3\u91ca\u4e00\u5207\u7684\u8fd9\u4e9b\u7406\u8bba\u540c\u65f6\u4e5f\u4f7f\u6211\u8870\u5f31. \u5b83\u4eec\u628a\u6211\u81ea\u5df1\u7684\u751f\u6d3b\u7684\u91cd\u8d1f\u4ece\u6211\u8eab\u4e0a\u5378\u4e0b, \u800c\u6211\u662f\u5e94\u5f53\u72ec\u7acb\u627f\u62c5\u7684. </p> <p>\u610f\u8bc6\u548c\u53cd\u6297, \u8fd9\u4e9b\u62d2\u7edd\u662f\u51fa\u4e16\u7684\u53cd\u9762. \u4eba\u5fc3\u4e2d\u4e00\u5207\u4e0d\u53ef\u514b\u670d\u548c\u5145\u6ee1\u6fc0\u60c5\u7684\u4e1c\u897f\u90fd\u5411\u7740\u4ed6\u7684\u751f\u6d3b\u7684\u53cd\u9762\u6fc0\u52b1\u7740\u5b83\u4eec. \u8981\u672a\u66fe\u548c\u89e3\u5730\u6b7b, \u4e0d\u80fd\u5fc3\u7518\u60c5\u613f\u5730\u6b7b. \u81ea\u6740\u662f\u4e2a\u672a\u77e5\u6570. \u8352\u8bde\u7684\u4eba\u53ea\u80fd\u7a77\u5c3d\u4e00\u5207, \u5e76\u4e14\u7a77\u5c3d\u81ea\u5df1. \u8352\u8bde\u662f\u4ed6\u7684\u6700\u6781\u7aef\u7684\u5f20\u529b, \u662f\u4ed6\u4ee5\u4e00\u79cd\u5b64\u72ec\u5730\u52aa\u529b\u4e0d\u65ad\u4fdd\u6301\u7740\u7684\u5f20\u529b, \u56e0\u4e3a\u4ed6\u77e5\u9053, \u5728\u8fd9\u79cd\u65e5\u590d\u4e00\u65e5\u7684\u610f\u8bc6\u548c\u53cd\u6297\u4e2d, \u4ed6\u663e\u793a\u51fa\u4ed6\u7684\u552f\u4e00\u7684\u771f\u7406, \u5373\u6311\u6218. \u8fd9\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u540e\u679c. </p> <pre><code>\u5176\u5b9e\u6211\u5f88\u60f3\u77e5\u9053\u52a0\u7f2a\u7ecf\u5386\u4e86\u4ec0\u4e48, \u5728\u4ed6\u7684\u7406\u8bba\u4e2d, \u610f\u8bc6\u5bf9\u4e16\u754c\u7684\u53cd\u6297\u5c31\u4eff\u4f5b\u4e00\u79cd\u672c\u80fd.\n</code></pre>"},{"location":"wen/sisyphe/#_4","title":"\u81ea\u7531","text":"<p>\u8fd9\u79cd\u7ecf\u8fc7\u534f\u5546\u7684\u7acb\u573a\u5728\u4e8e\u5f15\u51fa\u7531\u4e00\u79cd\u660e\u663e\u7684\u6982\u5ff5\u5e26\u6765\u7684\u5168\u90e8\u540e\u679c\uff0c \u6211\u82e5\u575a\u6301\u8fd9\u79cd\u7acb\u573a\uff0c \u5c31\u9762\u4e34\u7b2c\u4e8c\u4e2a\u53cd\u5e38\u73b0\u8c61\u3002 \u4e3a\u4e86\u5fe0\u4e8e\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6211\u6beb\u4e0d\u7406\u4f1a\u5f62\u800c\u4e0a\u7684\u81ea\u7531\u8fd9\u4e2a\u95ee\u9898\u3002\u77e5\u9053\u4eba\u662f\u5426\u662f\u81ea\u7531\u7684\uff0c\u8fd9\u6211\u6ca1\u6709\u5174\u8da3\u3002\u6211\u53ea\u80fd\u4f53\u9a8c\u5230\u6211\u81ea\u5df1\u7684\u81ea\u7531\u3002\u5bf9\u4e8e\u8fd9\u79cd\u81ea\u7531\uff0c\u6211\u4e0d\u80fd\u83b7\u5f97\u4e00\u822c\u7684\u6982\u5ff5\uff0c\u4f46\u6709\u4e00\u4e9b\u660e\u786e\u7684\u4f30\u8ba1\u3002\u201c\u81ea\u5728\u7684\u81ea\u7531\u201d\u8fd9\u4e2a\u95ee\u9898\u6ca1\u6709\u610f\u4e49\u3002\u56e0\u4e3a\u5b83\u4ee5\u5b8c\u5168\u4e0d\u540c\u7684\u65b9\u5f0f\u4e0e\u4e0a\u5e1d\u7684\u95ee\u9898\u76f8\u8fde\u3002\u77e5\u9053\u4eba\u662f\u5426\u662f\u81ea\u7531\u7684\uff0c\u8fd9\u8981\u6c42\u4eba\u4eec\u77e5\u9053\u4ed6\u80fd\u5426\u6709\u4e00\u4e2a\u4e3b\u4eba\u3002\u8fd9\u4e2a\u95ee\u9898\u7684\u7279\u6b8a\u7684\u8352\u8bde\u6027\u6765\u6e90\u4e8e\u6982\u5ff5\u672c\u8eab\u4f7f\u81ea\u7531\u95ee\u9898\u6210\u4e3a\u53ef\u80fd\uff0c\u540c\u65f6\u53c8\u53d6\u6d88\u4ed6\u7684\u5168\u90e8\u610f\u4e49\u3002\u56e0\u4e3a\u5728\u4e0a\u5e1d\u9762\u524d\uff0c\u6076\u7684\u95ee\u9898\u66f4\u80dc\u4e8e\u81ea\u7531\u7684\u95ee\u9898\u3002\u4eba\u4eec\u77e5\u9053\u8fd9\u79cd\u6289\u62e9\uff0c\u6216\u8005\u6211\u4eec\u4e0d\u662f\u81ea\u7531\u7684\uff0c\u6216\u8005\u4e07\u80fd\u7684\u4e0a\u5e1d\u5bf9\u6b64\u8d1f\u6709\u8d23\u4efb\uff0c\u6216\u8005\u6211\u4eec\u662f\u81ea\u7531\u7684\uff0c\u8d1f\u6709\u8d23\u4efb\u7684\uff0c\u800c\u4e0a\u5e1d\u4e0d\u662f\u4e07\u80fd\u7684\u3002</p> <pre><code>\u8fd9\u6bb5\u8bdd\u7684\u610f\u601d\u662f\uff0c\u95ee\u201c\u4eba\u81ea\u4e0d\u81ea\u7531\u201d\u8fd9\u79cd\u95ee\u9898\u6ca1\u6709\u610f\u4e49\uff0c\u56e0\u4e3a\u5f53\u4f60\u95ee\u51fa\u8fd9\u95ee\u9898\u7684\u4e00\u5239\u90a3\uff0c\u4f60\u5c31\u5df2\u7ecf\u5c06\u4eba\u7684\u81ea\u7531\u6258\u4ed8\u7ed9\u4e86\u522b\u4eba\uff0c\u6bd4\u5982\u4e0a\u5e1d\uff0c\u7136\u800c\u6258\u4ed8\u7ed9\u4e0a\u5e1d\u52bf\u5fc5\u4f1a\u5f15\u53d1\u4e0a\u8ff0\u7684\u4e00\u4e2a\u77db\u76fe\u3002\u6240\u4ee5\u95ee\u51fa\u81ea\u4e0d\u81ea\u7531\u7684\u540c\u65f6\uff0c\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u4eba\u5df2\u7ecf\u662f\u4e0d\u81ea\u7531\u7684\u4e86\u3002\u6240\u4ee5\u8bf4\uff0c\u5bf9\u8352\u8bde\u7684\u4eba\u6765\u8bf4\uff0c\u4ed6\u4eec\u53ea\u5728\u4e4e\u81ea\u5df1\u4f53\u4f1a\u5230\u7684\u81ea\u7531\u3002\n</code></pre> <p>\u8fd9\u5c31\u662f\u6211\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u8ff7\u5931\u5728\u5bf9\u4e00\u79cd\u6982\u5ff5\u7684\u9882\u626c\u6216\u7b80\u5355\u5b9a\u4e49\u4e4b\u4e2d\uff0c\u8fd9\u79cd\u6982\u5ff5\u4ece\u8d85\u51fa\u6211\u7684\u4e2a\u4eba\u7ecf\u9a8c\u90a3\u4e00\u523b\u8d77\u5c31\u9003\u8131\u4e86\u6211\u7684\u628a\u63e1\u5e76\u5931\u53bb\u4e86\u610f\u4e49\u3002\u6211\u4e0d\u80fd\u7406\u89e3\u4e00\u79cd\u7531\u67d0\u4e2a\u66f4\u9ad8\u4e00\u7ea7\u7684\u5b58\u5728\u7ed9\u4e88\u6211\u7684\u81ea\u7531\u80fd\u662f\u4ec0\u4e48\u4e1c\u897f\u3002\u6211\u5df2\u7ecf\u5931\u53bb\u4e86\u7b49\u7ea7\u611f\u3002\u6211\u5bf9\u81ea\u7531\u53ea\u80fd\u6709\u56da\u5f92\u6216\u8005\u56fd\u5bb6\u4e2d\u7684\u73b0\u4ee3\u4e2a\u4eba\u7684\u7406\u89e3\u3002\u6211\u6240\u8ba4\u8bc6\u7684\u552f\u4e00\u81ea\u7531\uff0c\u662f\u7cbe\u795e\u548c\u884c\u52a8\u7684\u81ea\u7531\u3002\u5982\u679c\u8bf4\u8352\u8bde\u53d6\u6d88\u4e86\u6211\u5bf9\u6c38\u6052\u81ea\u7531\u7684\u4e00\u5207\u673a\u4f1a\uff0c\u5b83\u5374\u7ed9\u6211\u5e76\u6fc0\u53d1\u4e86\u6211\u7684\u884c\u52a8\u7684\u81ea\u7531\u3002\u8fd9\u79cd\u5bf9\u5e0c\u671b\u548c\u672a\u6765\u7684\u5265\u593a\u589e\u52a0\u4e86\u4eba\u7684\u4e0d\u53d7\u7ea6\u675f\u6027\u3002</p> <pre><code>\u63a5\u4e0a\u6587\uff0c\u8352\u8bde\u53d6\u6d88\u4e86\u4e0a\u4e00\u7ea7\u7684\u5b58\u5728\u7ed9\u4e88\u7684\u81ea\u7531\u800c\u8d4b\u4e88\u4eba\u672c\u8eab\u7684\u81ea\u7531\u3002(\u8fd9\u79cd\u4eba\u672c\u8eab\u7684\u81ea\u7531\u4f3c\u4e4e\u4f1a\u88ab\u4ed6\u4eba\u201c\u5265\u593a\u201d\uff08\u4e0d\u662f\u201c\u53d6\u6d88\u201d\uff09)\n</code></pre> <p>\u5728\u4e0e\u8352\u8bde\u76f8\u9047\u4e4b\u524d\uff0c\u5e73\u5e38\u7684\u4eba\u662f\u5e26\u7740\u82e5\u5e72\u76ee\u7684\u3001\u5bf9\u672a\u6765\u6216\u5bf9\u8fa9\u89e3\u7684\u5173\u5fc3\u6765\u751f\u6d3b\u7684\u3002\u4ed6\u4f30\u91cf\u4ed6\u7684\u8fd0\u6c14\uff0c\u628a\u5e0c\u671b\u5bc4\u6258\u5728\u6765\u65e5\u3001\u9000\u4f11\u6216\u513f\u5b50\u7684\u5de5\u4f5c\u4e0a\u3002\u4ed6\u8fd8\u76f8\u4fe1\u4ed6\u751f\u6d3b\u4e2d\u7684\u67d0\u79cd\u4e1c\u897f\u80fd\u6709\u6240\u53d1\u5c55\u3002\u5b9e\u9645\u4e0a\uff0c\u4ed6\u884c\u52a8\u8d77\u6765\u5c31\u50cf\u4ed6\u662f\u81ea\u7531\u7684\u4e00\u6837\uff0c\u5c3d\u7ba1\u6240\u6709\u7684\u4e8b\u5b9e\u90fd\u4f7f\u8fd9\u79cd\u81ea\u7531\u5145\u6ee1\u4e86\u77db\u76fe\u3002\u5728\u9047\u5230\u8352\u8bde\u4e4b\u540e\uff0c\u4e00\u5207\u90fd\u88ab\u9707\u52a8\u4e86\u3002\u8fd9\u79cd\u6211\u5728\u7684\u60f3\u6cd5\uff0c\u6211\u7684\u4eff\u4f5b\u4e00\u5207\u90fd\u6709\u4e00\u79cd\u610f\u4e49\u7684\u90a3\u79cd\u884c\u52a8\u65b9\u5f0f\uff0c\u8fd9\u4e00\u5207\u90fd\u88ab\u4e00\u79cd\u53ef\u80fd\u7684\u6b7b\u4ea1\u6240\u5177\u6709\u7684\u8352\u8bde\u6027\u4ee5\u4e00\u79cd\u4ee4\u4eba\u7729\u6655\u7684\u65b9\u5f0f\u63a8\u7ffb\u4e86\u3002\u60f3\u5230\u6765\u65e5\uff0c\u786e\u7acb\u4e00\u79cd\u76ee\u7684\u3001\u6709\u6240\u504f\u597d\uff0c\u8fd9\u4e00\u5207\u90fd\u4ee5\u76f8\u4fe1\u81ea\u7531\u4e3a\u524d\u63d0\uff0c\u5c3d\u7ba1\u4eba\u4eec\u6709\u65f6\u4e5f\u786e\u4fe1\u5e76\u6ca1\u6709\u611f\u53d7\u5230\u81ea\u7531\u3002\u4f46\u662f\u5728\u8fd9\u4e2a\u65f6\u5019\uff0c\u8fd9\u79cd\u9ad8\u7ea7\u7684\u81ea\u7531\uff0c\u8fd9\u79cd\u552f\u72ec\u80fd\u591f\u5efa\u7acb\u4e00\u79cd\u771f\u7406\u7684\u5b58\u5728\u7684\u81ea\u7531\uff0c\u6211\u77e5\u9053\u5f97\u5f88\u6e05\u695a\uff0c\u662f\u5e76\u4e0d\u5b58\u5728\u7684\u3002\u4f5c\u4e3a\u552f\u4e00\u7684\u73b0\u5b9e\uff0c\u6b7b\u4ea1\u5c31\u5728\u90a3\u513f\u3002\u6b7b\u4ea1\u4e4b\u540e\uff0c\u4e00\u5207\u5c31\u90fd\u5b8c\u4e86\u3002\u6211\u4e5f\u6ca1\u6709\u6c38\u5b58\u7684\u81ea\u7531\uff0c\u6211\u662f\u5974\u96b6\uff0c\u5c24\u5176\u662f\u4e00\u4e2a\u6ca1\u6709\u6c38\u6052\u9769\u547d\u5e0c\u671b\u7684\u3001\u4e0d\u6c42\u52a9\u4e8e\u8511\u89c6\u7684\u5974\u96b6\u3002\u800c\u8c01\u6ca1\u6709\u9769\u547d\u3001\u6ca1\u6709\u8511\u89c6\u5374\u80fd\u59cb\u7ec8\u662f\u4e00\u4e2a\u5974\u96b6\uff1f\u4ec0\u4e48\u6837\u7684\u81ea\u7531\u6ca1\u6709\u6c38\u6052\u7684\u4fdd\u8bc1\u80fd\u591f\u5728\u5145\u5206\u7684\u610f\u4e49\u4e0a\u5b58\u5728\uff1f</p> <p>\u4f46\u662f\u540c\u65f6\uff0c\u8352\u8bde\u7684\u4eba\u4e5f\u660e\u767d\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4ed6\u4e00\u76f4\u4e0e\u5efa\u7acb\u5728\u8d56\u4ee5\u4e3a\u751f\u7684\u5e7b\u60f3\u4e4b\u4e0a\u7684\u90a3\u4e2a\u5173\u4e8e\u81ea\u7531\u7684\u516c\u8bbe\u8fde\u5728\u4e00\u8d77\u3002\u4ece\u67d0\u79cd\u610f\u4e49\u4e0a\u8bf4\uff0c\u8fd9\u675f\u7f1a\u7740\u4ed6\u3002\u5728\u4ed6\u4e3a\u4ed6\u7684\u751f\u6d3b\u60f3\u8c61\u51fa\u4e00\u4e2a\u76ee\u7684\u7684\u60c5\u51b5\u4e0b\uff0c\u4ed6\u662f\u7b26\u5408\u4e00\u79cd\u9700\u8981\u8fbe\u5230\u7684\u76ee\u7684\u7684\u8981\u6c42\u7684\u7684\uff0c\u5e76\u4e14\u6210\u4e86\u5b83\u7684\u81ea\u7531\u7684\u5974\u96b6\u3002\u8fd9\u6837\uff0c\u6211\u5c31\u53ea\u80fd\u50cf\u6211\u51c6\u5907\u6210\u4e3a\u7684\u5bb6\u957f\uff08\u6216\u5de5\u7a0b\u5e08\uff0c\u6216\u7fa4\u4f17\u7684\u9886\u5bfc\u8005\uff0c\u6216\u90ae\u7535\u90e8\u95e8\u7684\u4e34\u65f6\u96c7\u5458\uff09\u90a3\u6837\u884c\u4e8b\u4e86\u3002\u6211\u76f8\u4fe1\u6211\u53ef\u4ee5\u9009\u62e9\u6210\u4e3a\u4ec0\u4e48\u4eba\uff0c\u4e0d\u6210\u4e3a\u4ec0\u4e48\u4eba\u3002\u201c\u6211\u76f8\u4fe1\u201d\u8fd9\u4e00\u70b9\u662f\u65e0\u610f\u8bc6\u7684\uff0c\u8fd9\u5012\u662f\u771f\u7684\u3002\u4f46\u662f\u540c\u65f6\u6211\u4e5f\u575a\u6301\u6211\u5bf9\u5468\u56f4\u7684\u4eba\u7684\u4fe1\u4ef0\u3001\u5bf9\u6211\u7684\u4eba\u6587\u73af\u5883\u7684\u504f\u89c1\u6240\u4f5c\u7684\u516c\u8bbe\u3002\u4e0d\u7ba1\u4eba\u4eec\u80fd\u591f\u591a\u4e48\u8fdc\u5730\u907f\u5f00\u4efb\u4f55\u9053\u5fb7\u7684\u6216\u793e\u4f1a\u7684\u504f\u89c1\uff0c\u4eba\u4eec\u603b\u8981\u90e8\u5206\u5730\u53d7\u5176\u5f71\u54cd\uff0c\u751a\u81f3\u8fd8\u8ba9\u751f\u6d3b\u53bb\u9002\u5e94\u5176\u4e2d\u6700\u597d\u7684\u3002\u8fd9\u6837\uff0c\u8352\u8bde\u7684\u4eba\u660e\u767d\u4e86\u4ed6\u5b9e\u9645\u4e0a\u5e76\u4e0d\u81ea\u7531\u3002\u8bf4\u5f97\u660e\u786e\u4e9b\uff0c\u5728\u6211\u6709\u6240\u5e0c\u671b\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u6211\u4e3a\u4e00\u79cd\u4ee5\u5b58\u6709\u6216\u521b\u9020\u7684\u65b9\u5f0f\u5c5e\u4e8e\u6211\u7684\u771f\u7406\u611f\u5230\u4e0d\u5b89\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u4e4b\uff0c\u5728\u6211\u5b89\u6392\u6211\u7684\u751f\u6d3b\u5e76\u56e0\u6b64\u800c\u8bc1\u660e\u6211\u627f\u8ba4\u751f\u6d3b\u6709\u4e00\u79cd\u610f\u4e49\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4e3a\u81ea\u5df1\u8bbe\u7f6e\u4e86\u6805\u680f\uff0c\u5e76\u628a\u6211\u7684\u751f\u6d3b\u5708\u5728\u5176\u4e2d\u3002</p> <pre><code>\u7528\u5927\u767d\u8bdd\u8bf4\uff0c\u5f53\u4eba\u62b1\u6709\u5e0c\u671b\u65f6\uff0c\u4eba\u53cd\u800c\u5e76\u4e0d\u81ea\u7531\u3002\u56e0\u4e3a\u6211\u4eec\u53ea\u80fd\u6309\u7167\u81ea\u5df1\u6216\u8005\u522b\u4eba\u5bf9\u81ea\u5df1\u7684\u671f\u5f85\u53bb\u751f\u6d3b\u4e86\u3002\u90a3\u4e48\u7edd\u5bf9\u7684\u81ea\u7531\u5230\u5e95\u8981\u600e\u6837\uff1f\u5f97\u629b\u5f00\u8fd9\u4e00\u5207\u554a\u3002\u53e6\u5916\uff0c\u6211\u53d1\u73b0\u8fd9\u91cc\u6666\u6da9\u7684\u6587\u5b57\uff0c\u903b\u8f91\u6027\u975e\u5e38\u597d\u3002\u9996\u5148\u660e\u786e\u4e86\u8981\u63a2\u8ba8\u7684\u81ea\u7531\u662f\u600e\u6837\u7684\u81ea\u7531\uff08\u4e0d\u662f\u522b\u4eba\u7ed9\u7684\u81ea\u7531\uff09\uff0c\u5728\u8352\u8bde\u524d\u662f\u600e\u6837\uff0c\u5728\u8352\u8bde\u52a0\u5165\u540e\u53c8\u662f\u600e\u6837\u3002\n</code></pre> <p>\u8352\u8bde\u5728\u8fd9\u4e00\u70b9\u4e0a\u542f\u53d1\u4e86\u6211\uff0c\u6765\u65e5\u662f\u6ca1\u6709\u7684\uff08\u8352\u8bde\u7684\u4eba\u5bf9\u672a\u6765\u662f\u51b7\u6f20\u7684\uff09\u3002\u4ece\u6b64\uff0c\u8fd9\u5c31\u662f\u6211\u7684\u6df1\u523b\u7684\u81ea\u7531\u7684\u539f\u56e0\u3002\uff08\u8352\u8bde\u7684\u4eba\u4e0d\u662f\u50cf\u795e\u79d8\u4e3b\u4e49\u8005\u90a3\u6837\u53ea\u662f\u201c\u611f\u5230\u201d\u81ea\u7531\u3002\u8352\u8bde\u7684\u4eba\u6574\u4e2a\u8f6c\u5411\u6b7b\u4ea1\uff0c\u6446\u8131\u4e86\u90a3\u79cd\u5728\u4ed6\u8eab\u4e0a\u7ed3\u6676\u7684\u70ed\u60c5\u7684\u5173\u5207\u4e4b\u5916\u7684\u4e00\u5207\u4e1c\u897f\u3002\u4ed6\u4eec\u77e5\u9053\u90a3\u79cd\u88ab\u89e3\u653e\u7684\u81ea\u7531\uff0c\u5982\u540c\u53e4\u4ee3\u7684\u5974\u96b6\u4e00\u6837\u867d\u7136\u4e0d\u5c5e\u4e8e\u81ea\u5df1\u4f46\u662f\u6839\u672c\u611f\u89c9\u4e0d\u5230\u81ea\u5df1\u8d1f\u6709\u8d23\u4efb\u7684\u81ea\u7531\uff09</p> <p>\u6c89\u6d78\u5728\u8fd9\u79cd\u65e0\u5e95\u7684\u53ef\u9760\u4e4b\u4e2d\uff0c\u4ece\u6b64\u611f\u5230\u81ea\u5df1\u5bf9\u81ea\u5df1\u7684\u751f\u6d3b\u662f\u964c\u751f\u7684\uff0c\u8db3\u4ee5\u4f7f\u4eba\u4e0d\u50cf\u60c5\u4eba\u90a3\u6837\u8fd1\u89c6\u5730\u589e\u52a0\u5e76\u8fc7\u5b8c\u8fd9\u79cd\u751f\u6d3b\uff0c\u8fd9\u91cc\u9762\u5c31\u6709\u4e00\u79cd\u89e3\u653e\u7684\u539f\u5219\u3002\u8fd9\u79cd\u65b0\u7684\u72ec\u7acb\u7ed3\u675f\u4e86\uff0c\u5982\u540c\u4efb\u4f55\u884c\u52a8\u7684\u81ea\u7531\u4e00\u6837\u3002\u5b83\u4e0d\u5bf9\u6c38\u6052\u5f00\u652f\u7968\u3002\u4f46\u662f\u5b83\u4ee3\u66ff\u4e86\u81ea\u7531\u7684\u5e7b\u60f3\u3002\u800c\u8fd9\u4e9b\u5e7b\u60f3\u5728\u6b7b\u4ea1\u65f6\u5168\u90e8\u505c\u6b62\u3002\u6e05\u6668\uff0c\u76d1\u72f1\u7684\u95e8\u5728\u6b7b\u5211\u72af\u9762\u524d\u6253\u5f00\uff0c\u4ed6\u7684\u795e\u5723\u7684\u4e0d\u53d7\u7ea6\u675f\u6027\uff0c\u8fd9\u79cd\u9664\u4e86\u751f\u6d3b\u7684\u7eaf\u7cb9\u7684\u706b\u7130\u4e4b\u5916\u5bf9\u4e00\u5207\u4e8b\u7269\u7684\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u4e0d\u611f\u5174\u8da3\u3001\u6b7b\u4ea1\u548c\u8352\u8bde\uff0c\u4eba\u4eec\u6e05\u695a\u5730\u611f\u5230\uff0c\u8fd9\u4e9b\u4e1c\u897f\u662f\u552f\u4e00\u7684\u7406\u6027\u7684\u81ea\u7531\u7684\u539f\u5219\uff1a\u8fd9\u79cd\u81ea\u7531\u662f\u4e00\u9897\u4eba\u5fc3\u53ef\u4ee5\u4f53\u9a8c\u548c\u7ecf\u5386\u7684\u3002\u8fd9\u662f\u7b2c\u4e8c\u4e2a\u540e\u679c\u3002\u8352\u8bde\u7684\u4eba\u5c31\u8fd9\u6837\u9690\u7ea6\u770b\u89c1\u4e00\u4e2a\u707c\u70ed\u800c\u51b0\u51b7\u7684\u3001\u900f\u660e\u800c\u6709\u9650\u7684\u5b87\u5b99\uff0c\u5728\u90a3\u91cc\uff0c\u6ca1\u6709\u4ec0\u4e48\u4e1c\u897f\u662f\u53ef\u80fd\u7684\uff0c\u4f46\u662f\u4e00\u5207\u53c8\u5e94\u6709\u5c3d\u6709\uff0c\u8fc7\u4e86\u8fd9\u4e2a\u5b87\u5b99\uff0c\u5c31\u662f\u5d29\u6e83\u4e0e\u865a\u65e0\uff0c\u8fd9\u65f6\u4ed6\u53ef\u4ee5\u51b3\u5b9a\u540c\u610f\u751f\u6d3b\u5728\u8fd9\u6837\u7684\u5b87\u5b99\u4e2d\uff0c\u5e76\u4ece\u4e2d\u6c72\u53d6\u4ed6\u7684\u529b\u91cf\u3001\u4ed6\u5bf9\u5e0c\u671b\u7684\u62d2\u7edd\u4ee5\u53ca\u5927\u4e8e\u4e00\u79cd\u6ca1\u6709\u6170\u85c9\u7684\u751f\u6d3b\u7684\u56fa\u6267\u7684\u89c1\u8bc1\u3002</p> <pre><code>\u6240\u4ee5\u201c\u4eba\u5fc3\u53ef\u4ee5\u4f53\u9a8c\u548c\u7ecf\u5386\u7684\u81ea\u7531\u201d\uff0c\u5c31\u662f\u80fd\u591f\u53ea\u5bf9\u81ea\u5df1\u8eab\u4e0a\u7ed3\u6676\u7684\u70ed\u60c5\u7684\u5173\u5207\uff0c\u5bf9\u751f\u6d3b\u7684\u7eaf\u7cb9\u7684\u706b\u7130\u7a77\u6781\u4e00\u5207\u6fc0\u60c5\u5427\u3002\u8352\u8bde\u7684\u4eba\u7684\u70ed\u60c5\u3002\n\n\u53e6\u5916\uff0c\u6211\u4e0d\u77e5\u9053\u6211\u6240\u7406\u89e3\u7684\u81ea\u7531\u548c\u52a0\u7f2a\u6240\u8bf4\u7684\u662f\u5426\u662f\u540c\u4e00\u79cd\uff0c\u56e0\u4e3a\u8bed\u8a00\u80fd\u529b\u6709\u9650\uff0c\u96be\u4ee5\u5c55\u5f00\u3002\u4f46\u662f\u6211\u8ffd\u6c42\u6211\u6240\u7406\u89e3\u7684\u81ea\u7531\uff0c\u6211\u5e0c\u671b\u6211\u7684\u751f\u6d3b\u662f\u201c\u81ea\u7531\u201d\u7684\uff0c\u8fd9\u5c42\u610f\u601d\u81f3\u5c11\u662f\u201c\u6211\u505a\u7684\u4e8b\u60c5\u662f\u4e0d\u88ab\u5916\u754c\u6216\u8005\u4ed6\u4eba\u6240\u675f\u7f1a\u7684\u201d\u3002\n</code></pre>"},{"location":"wen/sisyphe/#_5","title":"\u6fc0\u60c5","text":"<pre><code>\u751f\u6d3b\u5f97\u6700\u591a\u5230\u5e95\u662f\u4ec0\u4e48\u542b\u4e49\uff1f\n</code></pre> <p>\u76f8\u4fe1\u751f\u6d3b\u7684\u610f\u4e49\uff0c\u8fd9\u603b\u662f\u610f\u5473\u7740\u4e00\u79cd\u4ef7\u503c\u7b49\u7ea7\uff0c\u4e00\u79cd\u9009\u62e9\u4ee5\u53ca\u6211\u4eec\u7684\u504f\u597d\u3002\u76f8\u4fe1\u8352\u8bde\uff0c\u6839\u636e\u6211\u4eec\u7684\u5b9a\u4e49\uff0c\u544a\u8bc9\u6211\u4eec\u7684\u5374\u662f\u76f8\u53cd\u3002</p> <pre><code>\u5982\u679c\u76f8\u4fe1\u751f\u6d3b\u7684\u610f\u4e49\uff0c\u90a3\u4e48\u4e00\u4e9b\u4e8b\u5c31\u6bd4\u53e6\u5916\u4e00\u4e9b\u4e8b\u66f4\u6709\u610f\u4e49\u3002\u6bd4\u5982\uff0c\u5bf9\u5b66\u751f\u6765\u8bf4\uff0c\u201c\u523b\u82e6\u5b66\u4e60\u53d6\u5f97\u597d\u6210\u7ee9\u201d\u6bd4\u201c\u6253\u6392\u4f4d\u4e0a\u5206\u51b2\u699c\u201d\u66f4\u6709\u201c\u610f\u4e49\u201d\uff1b\u5982\u679c\u5230\u4e86\u5e74\u7eaa\uff0c\u201c\u8c08\u604b\u7231\u201d\u6bd4\u201c\u8bfb\u4e66\u201d\u66f4\u6709\u610f\u4e49\u3002\u6211\u4eec\u4e0d\u81ea\u89c9\u5730\u7ed9\u4e0d\u540c\u7684\u4e8b\u60c5\u5212\u5206\u4e86\u7b49\u7ea7\uff0c\u54ea\u4e9b\u91cd\u8981\uff0c\u54ea\u4e9b\u4e0d\u91cd\u8981\u3002\u63a5\u4e0b\u6587\uff0c\u53ea\u505a\u6700\u6709\u610f\u4e49\u7684\u4e8b\uff0c\u662f\u5426\u5c31\u662f\u201c\u4e49\u65e0\u53cd\u987e\u201d\u5730\u751f\u6d3b\u5462\uff1f\u201c\u4e49\u65e0\u53cd\u987e\u201d\u8fd9\u4e2a\u6210\u8bed\u7684\u610f\u601d\u662f\uff1a\u672c\u7740\u9053\u4e49\uff0c\u52c7\u5f80\u76f4\u524d\uff0c\u7edd\u4e0d\u9000\u7f29\u3002\n</code></pre> <p>\u77e5\u9053\u4eba\u80fd\u5426\u4e49\u65e0\u53cd\u987e\u5730\u751f\u6d3b\uff0c\u8fd9\u662f\u6211\u611f\u5174\u8da3\u7684\u4e00\u5207\u3002\u6211\u4e1d\u6beb\u4e5f\u4e0d\u60f3\u8d70\u51fa\u8fd9\u4e2a\u8303\u56f4\u3002\u751f\u6d3b\u7684\u9762\u8c8c\u65e2\u7136\u5df2\u7ecf\u7ed9\u4e86\u6211\uff0c\u6211\u80fd\u591f\u5c06\u5c31\u5417\uff1f\u51b5\u4e14\uff0c\u9762\u5bf9\u7740\u8fd9\u7279\u6b8a\u7684\u6302\u8651\uff0c\u5bf9\u8352\u8bde\u7684\u4fe1\u4ef0\u53c8\u6765\u7528\u7ecf\u9a8c\u7684\u6570\u91cf\u53d6\u4ee3\u5176\u8d28\u91cf\u3002\u5982\u679c\u6211\u786e\u4fe1\u8fd9\u79cd\u751f\u6d3b\u53ea\u6709\u8352\u8bde\u7684\u9762\u76ee\uff0c\u5982\u679c\u6211\u4f53\u9a8c\u5230\u5b83\u7684\u5168\u90e8\u5e73\u8861\u7cfb\u4e8e\u6211\u7684\u6709\u610f\u8bc6\u7684\u53cd\u6297\u548c\u5b83\u6323\u624e\u5176\u4e2d\u7684\u9ed1\u6697\u4e4b\u95f4\u7684\u6c38\u6052\u5bf9\u7acb\uff0c\u5982\u679c\u6211\u627f\u8ba4\u6211\u7684\u81ea\u7531\u53ea\u5c31\u5176\u6709\u9650\u7684\u547d\u8fd0\u800c\u8a00\u624d\u6709\u610f\u4e49\uff0c\u90a3\u4e48\u6211\u5e94\u8be5\u8bf4\uff0c\u91cd\u8981\u7684\u4e0d\u662f\u751f\u6d3b\u5f97\u6700\u597d\uff0c\u800c\u662f\u751f\u6d3b\u5f97\u6700\u591a\u3002\u6211\u65e0\u9700\u60f3\u8fd9\u662f\u5eb8\u4fd7\u7684\u8fd8\u662f\u4ee4\u4eba\u6076\u5fc3\u7684\uff0c\u662f\u9ad8\u96c5\u7684\u8fd8\u662f\u4ee4\u4eba\u9057\u61be\u7684\u3002</p> <pre><code>\u201c\u597d\u201d\u662f\u6709\u4ef7\u503c\u7684\u5224\u65ad\u7684\uff0c\u76f8\u5bf9\u7684\u662f\u201c\u4e0d\u597d\u201d\u3002\u6709\u597d\u7684\u4e8b\u60c5\uff0c\u5c31\u6709\u4e0d\u597d\u7684\u4e8b\u60c5\u3002\n\n\u201c\u591a\u201d\u600e\u6ca1\u6709\u4ef7\u503c\u7684\u5224\u65ad\uff0c\u662f\u201c\u4e30\u5bcc\u3001\u5145\u5b9e\u201d\u7684\u542b\u4e49\u3002\u4e0d\u7ba1\u4ec0\u4e48\u4e8b\u60c5\u90fd\u662f\u5e73\u7b49\u7684\u3002\u53ea\u6709\u751f\u6d3b\u672c\u8eab\uff0c\u6709\u5145\u5b9e\u7684\u751f\u6d3b\uff0c\u4e5f\u6709\u532e\u4e4f\u7684\u751f\u6d3b\u3002\u6211\u7684\u7406\u89e3\u662f\uff0c\u52a0\u7f2a\u5e0c\u671b\u6211\u4eec\u7684\u751f\u6d3b\u662f\u4e0d\u532e\u4e4f\u7684\u3002\u4e0d\u7ba1\u4ec0\u4e48\u4e8b\u60c5\uff0c\u90fd\u53ef\u4ee5\u201c\u4e49\u65e0\u53cd\u987e\u201d\u53bb\u4f53\u9a8c\uff0c\u6bcf\u4e2a\u4eba\u6709\u7740\u81ea\u5df1\u7684\u547d\u8fd0\uff0c\u6bcf\u4e2a\u4eba\u90fd\u53ef\u4ee5\u4f53\u9a8c\u4e0d\u540c\u7684\u751f\u6d3b\u3002\u5982\u679c\u751f\u6d3b\u7684\u8def\u5b8c\u5168\u662f\u81ea\u5df1\u81ea\u7531\u9009\u62e9\u800c\u4e0d\u53d7\u5e72\u6270\u7684\uff0c\u5c31\u6ca1\u6709\u201c\u865a\u5ea6\u5149\u9634\u201d\u8fd9\u4e00\u8bf4\u3002\n</code></pre> <p>\u751f\u6d3b\u7684\u6700\u591a\uff0c\u4ece\u5e7f\u6cdb\u7684\u610f\u4e49\u4e0a\u8bf4\uff0c\u8fd9\u4e00\u751f\u6d3b\u51c6\u5219\u6beb\u65e0\u610f\u4e49\u3002\u5fc5\u987b\u52a0\u4ee5\u660e\u786e\u3002\u4e00\u4e2a\u4eba\u7684\u9053\u5fb7\uff0c\u4ed6\u7684\u4ef7\u503c\u7b49\u7ea7\u53ea\u662f\u4ece\u4ed6\u79ef\u805a\u8d77\u6765\u7684\u7ecf\u9a8c\u7684\u6570\u91cf\u548c\u79cd\u7c7b\u6765\u770b\u624d\u6709\u610f\u4e49\u3002\uff08\u9053\u5fb7\u5212\u5206\u4ef7\u503c\u7b49\u7ea7\uff0c\u6709\u9053\u5fb7\u7684\u4e8b\uff0c\u5c31\u6709\u4e0d\u9053\u5fb7\u7684\u3002\uff09\u7136\u800c\uff0c\u73b0\u4ee3\u751f\u6d3b\u7684\u6761\u4ef6\u5f3a\u52a0\u7ed9\u5927\u591a\u6570\u4eba\u540c\u6837\u6570\u91cf\u7684\u7ecf\u9a8c\uff0c\u56e0\u6b64\uff0c\u4e5f\u662f\u540c\u6837\u6df1\u523b\u7684\u7ecf\u9a8c\u3002\u4e8e\u662f\u6211\u770b\u5230\uff0c\u4e00\u79cd\u901a\u884c\u7684\u9053\u5fb7\u7684\u7279\u70b9\uff0c\u6bd4\u8bf8\u6fc0\u52b1\u7740\u5b83\u7684\u90a3\u4e9b\u539f\u5219\u7684\u7406\u60f3\u7684\u91cd\u8981\u6027\uff0c\u66f4\u5b58\u5728\u4e8e\u53ef\u4ee5\u6309\u5927\u5c0f\u5206\u7c7b\u7684\u4e00\u79cd\u7ecf\u9a8c\u7684\u6807\u51c6\u4e4b\u4e2d\u3002\uff08\u8fd9\u53e5\u8bdd\u597d\u96be\u8bfb\u554a\uff0c\u9053\u5fb7\u7684\u7279\u70b9\u4e3b\u8981\u662f\u201c\u53ef\u4ee5\u6309\u5927\u5c0f\u5206\u7c7b\u201d\uff09\uff08\u4e00\u4e2a\u4eba\u7684\u7ecf\u9a8c\u8d8a\u591a\uff0c\u4ed6\u7684\u9053\u5fb7\u5c31\u8d8a\u5b8c\u5584\uff09\u3002\u65e5\u5e38\u751f\u6d3b\u7684\u5192\u9669\u8005\u4ec5\u4ec5\u7528\u7ecf\u9a8c\u7684\u6570\u91cf\u6253\u7834\u4e86\u4e00\u5207\u7eaa\u5f55\uff08\u4f53\u80b2\u672f\u8bed\uff09\uff0c\u4ece\u800c\u8d62\u5f97\u4e86\u4ed6\u7684\u9053\u5fb7\u3002\u6253\u7834\u4e00\u5207\u7eaa\u5f55\uff0c\u5176\u5fc5\u8981\u800c\u4e0d\u5145\u5206\u6761\u4ef6\u5c31\u662f\u5c3d\u53ef\u80fd\u7ecf\u5e38\u5730\u6b63\u89c6\u4e16\u754c\u3002 \u8352\u8bde\u544a\u8bc9\u6211\u4eec\u6240\u6709\u7ecf\u9a8c\u90fd\u662f\u65e0\u5173\u7d27\u8981\u7684\uff0c\u540c\u65f6\u5b83\u4e5f\u4f1a\u7ed9\u6211\u4eec\u5927\u91cf\u7ecf\u9a8c\u3002\u90a3\u4e48\u5982\u4f55\u9009\u62e9\u7ed9\u6211\u4eec\u5e26\u6765\u5c3d\u53ef\u80fd\u591a\u7684\u4eba\u6587\u6750\u6599\u7684\u751f\u6d3b\u5f62\u5f0f\uff0c\u5982\u4f55\u5f15\u5165\u6709\u4eba\uff08\u4e0d\u662f\u4f60\u81ea\u5df1\uff1f\uff09\u4ece\u53e6\u4e00\u4e2a\u65b9\u9762\u58f0\u79f0\u8981\u52a0\u4ee5\u629b\u5f03\u7684\u4ef7\u503c\u7b49\u7ea7\u5462\uff1f</p> <pre><code>\u4e0a\u9762\u7684\u6700\u540e\u7684\u95ee\u9898\u611f\u89c9\u662f\u9677\u9631\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u6d3b\u7684\u66f4\u591a\uff0c\u4f1a\u4e0d\u4f1a\u6709\u67d0\u79cd\u751f\u6d3b\u6bd4\u53e6\u5916\u4e00\u79cd\u751f\u6d3b\u66f4\u591a\uff1f\u5982\u679c\u8fd9\u6837\u60f3\uff0c\u5c31\u4ecd\u7136\u5f15\u5165\u4e86\u4ef7\u503c\u7b49\u7ea7\uff0c\u5bfc\u81f4\u67d0\u79cd\u751f\u6d3b\u6bd4\u53e6\u5916\u7684\u751f\u6d3b\u66f4\u6709\u610f\u4e49\uff0c\u8fdb\u800c\u5bfc\u81f4\u6211\u4eec\u5931\u53bb\u751f\u6d3b\u7684\u81ea\u7531\u800c\u53ea\u80fd\u6309\u6700\u6709\u610f\u4e49\u7684\u751f\u6d3b\u800c\u751f\u6d3b\u3002\u6240\u4ee5\u5728\u4e0b\u9762\u8bf4\uff0c\u7ecf\u9a8c\u7684\u6570\u91cf\u4e0e\u751f\u6d3b\u65e0\u5173\uff0c\u53ea\u8981\u4f60\u6d3b\u7740\u5c31\u884c\uff0c\u6bcf\u79cd\u751f\u6d3b\u90fd\u662f\u540c\u6837\u7684\u201c\u591a\u201d\u3002\n\n\u53e6\u5916\uff0c\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u8981\u62ff\u9053\u5fb7\u4e3e\u4f8b\u5b50\uff0c\u6211\u611f\u89c9\u6709\u4e9b\u8ff7\u60d1\u4e0d\u89e3\uff0c\u56e0\u4e3a\u5b9e\u9645\u4e0a\u662f\u5728\u8ba8\u8bba\u201c\u751f\u6d3b\u7684\u7ecf\u9a8c\u201d\u5427\u3002\n</code></pre> <p>\u7136\u800c\uff0c\u6559\u5bfc\u6211\u4eec\u7684\u4ecd\u7136\u662f\u8352\u8bde\u548c\u4ed6\u7684\u77db\u76fe\u7684\u751f\u6d3b\u3002\u56e0\u4e3a\u9519\u8bef\u5728\u4e8e\u8ba4\u4e3a\u7ecf\u9a8c\u7684\u6570\u91cf\u53d6\u51b3\u4e8e\u6211\u4eec\u7684\u751f\u6d3b\uff0c\u800c\u5b9e\u9645\u4e0a\u5b83\u53ea\u53d6\u51b3\u4e8e\u6211\u4eec\u81ea\u5df1\u3002\u8fd9\u91cc\u9700\u8981\u7b80\u5355\u5316\u3002\u5bf9\u4e8e\u4e24\u4e2a\u5bff\u547d\u76f8\u540c\u7684\u4eba\u6765\u8bf4\uff0c\u4e16\u754c\u603b\u662f\u63d0\u4f9b\u540c\u6837\u6570\u91cf\u7684\u7ecf\u9a8c\u3002\u6211\u4eec\u8981\u610f\u8bc6\u5230\u8fd9\u4e00\u70b9\u3002\u611f\u89c9\u5230\u4ed6\u7684\u751f\u6d3b\uff0c\u4ed6\u7684\u53cd\u6297\uff0c\u4ed6\u7684\u81ea\u7531\uff0c\u800c\u4e14\u8981\u5c3d\u5176\u6240\u80fd\uff0c\u8fd9\u5c31\u662f\u751f\u6d3b\uff0c\u800c\u4e14\u662f\u5c3d\u5176\u53ef\u80fd\u7684\u751f\u6d3b\u3002\u5bf9\u8352\u8bde\u7684\u4eba\u6765\u8bf4\uff0c\u6ca1\u6709\u4efb\u4f55\u6df1\u523b\u6027\u3001\u4efb\u4f55\u611f\u60c5\u3001\u4efb\u4f55\u6fc0\u60c5\u3001\u4efb\u4f55\u727a\u7272\u53ef\u4ee5\u4f7f\u5f97\u56db\u5341\u5e74\u7684\u6709\u610f\u8bc6\u7684\u751f\u6d3b\u548c\u516d\u5341\u5e74\u7684\u6e05\u9192\u4e24\u8005\u76f8\u7b49\uff08\u5c31\u662f\u4ed6\u613f\u610f\u90fd\u4e0d\u884c\uff09\u3002\u4eba\u5e76\u4e0d\u9009\u62e9\u3002\u4ed6\u7684\u8352\u8bde\u548c\u589e\u52a0\u7684\u751f\u6d3b\u4e0d\u4ee5\u4eba\u7684\u610f\u5fd7\u4e3a\u8f6c\u79fb\uff0c\u800c\u662f\u53d6\u51b3\u4e8e\u6b7b\u4ea1\u3002\u8d5e\u540c\u5427\uff0c\u4e8c\u5341\u5e74\u7684\u751f\u6d3b\u548c\u7ecf\u9a8c\u662f\u4e0d\u53ef\u66ff\u4ee3\u7684\u3002</p> <pre><code>\u8fd9\u91cc\u7684\u8bba\u8bc1\u8981\u89e3\u91ca\u4e00\u4e0b\u6211\u7684\u7406\u89e3\uff1a\u524d\u63d0\u662f\u201c\u4e24\u4e2a\u5bff\u547d\u76f8\u540c\u7684\u4eba\u201d\uff0c\u5bf9\u5e94\u7684\u9009\u62e9\u662f\u6d3b\u5230\u56db\u5341\u5c81\u81ea\u6740\u6216\u8005\u662f\u6d3b\u5230\u516d\u5341\u5c81\uff08\u4eba\u6709\u8fd9\u79cd\u9009\u62e9\u7684\u6743\u5229\uff0c\u751a\u81f3\u8bf4\u662f\u552f\u4e00\u4e25\u8083\u7684\u54f2\u5b66\u95ee\u9898\uff09\u3002\u90a3\u4e48\u56db\u5341\u5c81\u7684\u4f53\u9a8c\u6c38\u8fdc\u65e0\u6cd5\u591a\u4e8e\u516d\u5341\u5c81\u7684\u4f53\u9a8c\u3002\u548c\u4ec0\u4e48\u90fd\u6ca1\u6709\u5173\u7cfb\uff0c\u53ea\u662f\u4e00\u4e2a\u4e8b\u5b9e\u3002\u521d\u8bfb\u5982\u679c\u53ea\u662f\u7406\u89e3\u6210\u201c\u4eba\u6d3b\u7684\u8d8a\u957f\u4f53\u9a8c\u8d8a\u591a\u201d\u7684\u8bdd\u611f\u89c9\u6709\u70b9\u65e0\u804a\uff0c\u6ca1\u5565\u597d\u8bf4\u7684\uff0c\u4e0d\u8fc7\u4f3c\u4e4e\u5c31\u662f\u8fd9\u6837\u3002\n</code></pre> <p>\u5982\u679c\u4eba\u4eec\u613f\u610f\u627f\u8ba4\uff0c\u8fdb\u5165\u795e\u7684\u53ef\u7b11\u7684\u4e16\u754c\uff0c\u5c31\u662f\u4e27\u5931\u6700\u7eaf\u6d01\u7684\u5feb\u4e50\uff0c\u5373\u611f\u89c9\u5e76\u4e14\u662f\u5728\u4eba\u4e16\u95f4\u611f\u89c9\uff0c\u60df\u5176\u5982\u6b64\uff0c\u90a3\u624d\u662f\u771f\u7684\u3002\u4e00\u4e2a\u4e0d\u65ad\u5730\u6709\u610f\u8bc6\u7684\u7075\u9b42\u9762\u524d\u7684\u73b0\u5b58\u4ee5\u53ca\u73b0\u5b58\u7684\u8fde\u7eed\uff0c\u8fd9\u5c31\u662f\u8352\u8bde\u7684\u4eba\u7684\u7406\u60f3\u3002\u5f53\u7136\uff0c\u201c\u7406\u60f3\u201d\u8fd9\u4e2a\u8bcd\u6709\u4e9b\u4e0d\u59a5\u5f53\uff0c\u56e0\u4e3a\u8fd9\u4e0d\u662f\u4ed6\u7684\u4f7f\u547d\uff0c\u53ea\u662f\u4e00\u4e2a\u4ed6\u63a8\u7406\u51fa\u6765\u7684\u5fc5\u7136\u7684\u7ed3\u679c\u3002\u4ece\u975e\u4eba\u7684\u4e00\u79cd\u7126\u8651\u7684\u610f\u8bc6\u51fa\u53d1\uff0c\u5173\u4e8e\u8352\u8bde\u7684\u6c89\u601d\u53c8\u56de\u5230\u4e86\u5b83\u7684\u65c5\u7a0b\u7684\u7ec8\u70b9\uff0c\u8fd9\u65c5\u7a0b\u5c31\u5728\u4eba\u7684\u53cd\u6297\u7684\u70ed\u70c8\u7684\u706b\u7130\u4e4b\u4e2d\u3002</p> <pre><code>\u8352\u8bde\u7684\u4eba\u7684\u751f\u6d3b\u662f\u4e00\u4e2a\u4e0d\u65ad\u6709\u610f\u8bc6\u7684\u7075\u9b42\u9762\u524d\u7684\u73b0\u5b58\u4ee5\u53ca\u73b0\u5b58\u7684\u8fde\u7eed\uff01\u8fd9\u8bdd\u8bf4\u7684\uff0c\u4e0d\u5c31\u662f\u63cf\u8ff0\u6d3b\u7740\u7684\u72b6\u6001\u561b\u3002\u8352\u8bde\u7684\u4eba\u8bf4\uff0c\u6211\u4ec0\u4e48\u90fd\u4e0d\u5728\u4e4e\uff0c\u6211\u5c31\u662f\u6d3b\u7740\u3002\n</code></pre>"},{"location":"wen/sisyphe/#_6","title":"\u603b\u7ed3","text":"<p>\u8fd9\u6837\uff0c\u6211\u4ece\u8352\u8bde\u4e2d\u5f15\u51fa\u4e86\u4e09\u79cd\u540e\u679c\uff0c\u6211\u7684\u53cd\u6297\u3001\u6211\u7684\u81ea\u7531\u548c\u6211\u7684\u6fc0\u60c5\uff08\u6fc0\u60c5\u662f\uff0c\u6211\u5c31\u662f\u6d3b\u7740\uff09\u3002\u4ec5\u4ec5\u901a\u8fc7\u610f\u8bc6\u7684\u7684\u4f5c\u7528\uff0c\u6211\u628a\u6b7b\u4ea1\u7684\u9080\u8bf7\u53d8\u6210\u4e86\u751f\u6d3b\u7684\u51c6\u5219\u2014\u2014\u2014\u2014\u800c\u4e14\u6211\u62d2\u7edd\u81ea\u6740\u3002</p> <p>\u963f\u5170\u8bf4\uff1a\u7948\u7977\uff0c\u5c31\u662f\u591c\u6765\u5230\u4e86\u601d\u60f3\u4e0a\u3002\u820d\u65af\u6258\u592b\u8bf4\uff1a\u7cbe\u795e\u5fc5\u987b\u4e0e\u591c\u76f8\u9047\u3002\u5f53\u7136\uff0c\u4f46\u4e0d\u662f\u90a3\u79cd\u5728\u95ed\u5408\u7684\u53cc\u773c\u4e4b\u4e0b\u3001\u4ec5\u4ec5\u7531\u4eba\u7684\u610f\u5fd7\u4ea7\u751f\u7684\u591c\uff0c\u4e0d\u662f\u90a3\u660f\u6697\u7684\u3001\u7cbe\u795e\u6fc0\u8d77\u5e76\u5728\u5176\u4e2d\u8ff7\u5931\u7684\u591c\u3002\u5982\u679c\u5b83\u5e94\u8be5\u9047\u4e0a\u591c\uff0c\u90a3\u5e94\u8be5\u662f\u7edd\u671b\u4e4b\u591c\uff0c\u603b\u662f\u6e05\u9192\u7684\uff0c\u5e94\u8be5\u662f\u6781\u5730\u4e4b\u591c\uff0c\u7cbe\u795e\u7684\u4e0d\u7720\u4e4b\u591c\uff0c\u4ece\u4e2d\u53ef\u80fd\u4f1a\u5347\u8d77\u767d\u8272\u7684\u3001\u7eaf\u6d01\u7684\u5149\uff0c\u4f7f\u6bcf\u4e00\u79cd\u4e1c\u897f\u90fd\u5728\u667a\u6167\u7684\u5149\u4e2d\u8f6e\u5ed3\u5206\u660e\u3002\u5728\u8fd9\u4e2a\u7a0b\u5ea6\u4e0a\uff0c\u7b49\u503c\u5c31\u4e0e\u5145\u6ee1\u6fc0\u60c5\u7684\u7406\u89e3\u76f8\u9047\u4e86\u3002\u8fd9\u65f6\u751a\u81f3\u4e0d\u518d\u6709\u8bc4\u5224\u5b58\u5728\u7684\u8df3\u8dc3\u7684\u95ee\u9898\u4e86\u3002\u5b83\u5728\u4eba\u7c7b\u6001\u5ea6\u7684\u53e4\u8001\u753b\u5377\u4e0a\u91cd\u83b7\u5b83\u7684\u4f4d\u7f6e\u3002\u5bf9\u4e8e\u89c2\u8005\u6765\u8bf4\uff0c\u5982\u679c\u4ed6\u662f\u6709\u610f\u8bc6\u7684\uff0c\u8fd9\u8df3\u8dc3\u4ecd\u7136\u662f\u8352\u8bde\u7684\u3002\u4ed6\u4ee5\u4e3a\u6d88\u9664\u4e86\u8fd9\u4e2a\u53cd\u5e38\u73b0\u8c61\uff0c\u5176\u5b9e\uff0c\u4ed6\u662f\u5b8c\u5168\u6062\u590d\u4e86\u8fd9\u4e2a\u53cd\u5e38\u73b0\u8c61\u3002\u5728\u8fd9\u79cd\u540d\u4e49\u4e0b\uff0c\u4ed6\u662f\u52a8\u4eba\u7684\u3002\u5728\u8fd9\u79cd\u540d\u4e49\u4e0b\uff0c\u4e00\u5207\u91cd\u5f52\u539f\u4f4d\uff0c\u8352\u8bde\u7684\u4e16\u754c\u5728\u5176\u58ee\u4e3d\u548c\u6742\u591a\u4e4b\u4e2d\u83b7\u5f97\u518d\u751f\u3002</p> <pre><code>\u5176\u5b9e\u7ed3\u5c3e\u7684\u4e00\u6bb5\u8bdd\u6211\u4f3c\u61c2\u975e\u61c2\uff0c\u4f46\u662f\u89c9\u5f97\u5f88\u6f02\u4eae\uff0c\u5c31\u76f4\u63a5\u6284\u4e86\n</code></pre>"},{"location":"wen/sisyphe/#_7","title":"\u8352\u8bde\u7684\u4eba\u7684\u524d\u8a00","text":"<p>\u8352\u8bde\u7684\u4eba\u5230\u5e95\u662f\u4ec0\u4e48\u5462\uff1f\u662f\u90a3\u4e2a\u4e0d\u5426\u8ba4\u6c38\u6052\uff0c\u4f46\u4e5f\u4e0d\u4e3a\u6c38\u6052\u505a\u4efb\u4f55\u4e8b\u60c5\u7684\u4eba\u3002\u5e76\u975e\u6000\u5ff5\u5bf9\u4ed6\u662f\u964c\u751f\u7684\u3002\u4f46\u662f\u4ed6\u66f4\u559c\u6b22\u4ed6\u7684\u52c7\u6c14\u548c\u63a8\u7406\u3002\u524d\u8005\u6559\u4ed6\u4e49\u65e0\u53cd\u987e\u5730\u751f\u6d3b\u548c\u6ee1\u8db3\u73b0\u6709\u7684\u4e1c\u897f\uff0c\u540e\u8005\u8ba9\u4ed6\u77e5\u9053\u4ed6\u7684\u5c40\u9650\u3002\u4ed6\u786e\u4fe1\u4ed6\u7684\u81ea\u7531\u5230\u4e86\u5c3d\u5934\uff0c\u4ed6\u7684\u53cd\u6297\u6ca1\u6709\u524d\u9014\uff0c\u4ed6\u7684\u610f\u8bc6\u53ef\u4ee5\u6d88\u4ea1\uff0c\u7136\u800c\u4ed6\u5728\u4ed6\u7684\u751f\u6d3b\u7684\u65f6\u95f4\u4e2d\u7ee7\u7eed\u4ed6\u7684\u5192\u9669\u3002\u8fd9\u5c31\u662f\u4ed6\u7684\u573a\u5730\uff0c\u8fd9\u5c31\u662f\u4ed6\u7684\u884c\u52a8\uff0c\u4ed6\u4f7f\u4e4b\u907f\u514d\u9664\u81ea\u5df1\u7684\u5224\u65ad\u4ee5\u5916\u7684\u6240\u6709\u5224\u65ad\u3002\u5bf9\u4ed6\u6765\u8bf4\uff0c\u4e00\u79cd\u66f4\u4f1f\u5927\u7684\u751f\u6d3b\u5e76\u4e0d\u80fd\u610f\u5473\u7740\u53e6\u4e00\u79cd\u751f\u6d3b\u3002\u5426\u5219\u5c31\u662f\u4e0d\u8bda\u5b9e\u7684\u3002</p> <pre><code>\u8fd9\u6bb5\u8bdd\u7684\u542b\u4e49\u5f88\u6e05\u6670\u4e86\uff0c\u57fa\u672c\u5c31\u662f\u5bf9\u524d\u6587\u7684\u518d\u4e00\u6b21\u6982\u62ec\n</code></pre> <p>\u8fd9\u91cc\u8c08\u4e0d\u4e0a\u9053\u5fb7\u95ee\u9898\u3002\u6211\u89c1\u8fc7\u4e00\u4e9b\u4eba\u5f88\u6709\u9053\u5fb7\u5730\u5e72\u7740\u574f\u4e8b\uff0c\u6211\u6bcf\u5929\u90fd\u770b\u89c1\u8bda\u5b9e\u4e0d\u9700\u8981\u51c6\u5219\u3002\u53ea\u6709\u4e00\u79cd\u9053\u5fb7\u662f\u8352\u8bde\u7684\u4eba\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u90a3\u5c31\u662f\u4e0d\u8131\u79bb\u4e0a\u5e1d\u7684\u9053\u5fb7\uff0c\u56e0\u4e3a\u5b83\u662f\u81ea\u5f8b\u7684\u3002\u7136\u800c\uff0c\u8352\u8bde\u7684\u4eba\u6070\u6070\u662f\u751f\u6d3b\u5728\u8fd9\u4e2a\u4e0a\u5e1d\u4e4b\u5916\u7684\u3002\u81f3\u4e8e\u5176\u4ed6\u9053\u5fb7\uff0c\u8352\u8bde\u7684\u4eba\u4ece\u4e2d\u53ea\u770b\u89c1\u8fa9\u767d\uff0c\u800c\u4ed6\u6ca1\u4ec0\u4e48\u53ef\u8fa9\u767d\u7684\u3002\u6211\u8fd9\u91cc\u662f\u4ece\u4ed6\u7684\u65e0\u8f9c\u8fd9\u4e00\u539f\u5219\u51fa\u53d1\u7684\u3002</p> <p>\u8fd9\u79cd\u65e0\u8f9c\u662f\u53ef\u6015\u7684\u3002\u201c\u4e00\u5207\u90fd\u662f\u53ef\u5141\u8bb8\u7684\u3002\u201d\u4f0a\u51e1\u00b7\u5361\u62c9\u9a6c\u4f50\u592b\u558a\u9053\u3002\u8fd9\u4e5f\u53d1\u51fa\u4e86\u8352\u8bde\u7684\u6c14\u5473\u3002\u6211\u4e0d\u77e5\u9053\u4eba\u4eec\u662f\u5426\u6ce8\u610f\u5230\u4e86\uff1a\u8fd9\u4e0d\u662f\u4e00\u79cd\u89e3\u8131\u7684\u3001\u6b22\u4e50\u7684\u53eb\u558a\uff0c\u800c\u662f\u4e00\u79cd\u8f9b\u9178\u7684\u786e\u8ba4\u3002\u786e\u4fe1\u4e00\u4e2a\u53ef\u4ee5\u7ed9\u751f\u6d3b\u4ee5\u610f\u4e49\u7684\u4e0a\u5e1d\uff0c\u5176\u8bf1\u60d1\u529b\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u4e0d\u53d7\u60e9\u7f5a\u7684\u4f5c\u6076\u7684\u80fd\u529b\u3002\u9009\u62e9\u4e0d\u4f1a\u662f\u56f0\u96be\u7684\uff0c\u4f46\u5374\u65e0\u53ef\u9009\u62e9\uff0c\u8f9b\u9178\u4e8e\u662f\u5f00\u59cb\u4e86\u3002\u8352\u8bde\u5e76\u4e0d\u89e3\u8131\uff0c\u800c\u662f\u8fde\u7ed3\u3002\u5b83\u4e0d\u5141\u8bb8\u4e00\u5207\u884c\u52a8\u3002\u4e00\u5207\u90fd\u53ef\u5141\u8bb8\u5e76\u4e0d\u610f\u5473\u7740\u4ec0\u4e48\u4e5f\u4e0d\u88ab\u7981\u6b62\u3002\u8352\u8bde\u4ec5\u4ec5\u662f\u628a\u4e00\u5207\u884c\u52a8\u7684\u7b49\u503c\u8fd8\u7ed9\u8fd9\u4e9b\u884c\u52a8\u7684\u540e\u679c\u3002\u5b83\u5e76\u4e0d\u529d\u4eba\u72af\u7f6a\uff0c\u5426\u5219\u5c31\u662f\u5e7c\u7a1a\u7684\uff0c\u4f46\u662f\u5b83\u4e3a\u6094\u6068\u6062\u590d\u5176\u65e0\u76ca\u3002\u540c\u6837\uff0c\u65e2\u7136\u6240\u6709\u7ecf\u9a8c\u90fd\u662f\u65e0\u5173\u7d27\u8981\u7684\uff0c\u4e49\u52a1\u7684\u7ecf\u9a8c\u5c31\u548c\u53e6\u4e00\u79cd\u7ecf\u9a8c\u4e00\u6837\u5408\u4e4e\u60c5\u7406\u3002\u4eba\u4eec\u53ef\u4ee5\u56e0\u4efb\u6027\u800c\u6709\u5fb7\u884c\u3002</p> <pre><code>\u6ce8\u610f\uff0c\u4e66\u91cc\u7684\u89c2\u70b9\u662f\u9053\u5fb7\u89c2\u6765\u6e90\u4e8e\u7ecf\u9a8c\u7684\u79ef\u7d2f\u3002\u4e0d\u77e5\u9053\u8fd8\u6709\u6ca1\u6709\u4ec0\u4e48\u5176\u4ed6\u4eba\u662f\u6301\u8fd9\u79cd\u89c2\u70b9\u7684\u3002\u6240\u4ee5\u8bf4\u201c\u4eba\u4eec\u53ef\u4ee5\u56e0\u4efb\u6027\u800c\u6709\u5fb7\u884c\u3002\u201d\n\n\u8bfb\u5b8c\u5361\u62c9\u9a6c\u4f50\u592b\uff0c\u53c8\u6709\u4e86\u522b\u7684\u60f3\u6cd5\u3002\n</code></pre> <p>\u4e00\u5207\u9053\u5fb7\u90fd\u5efa\u7acb\u5728\u8fd9\u79cd\u89c2\u5ff5\u4e4b\u4e0a\uff0c\u5373\u4e00\u4e2a\u884c\u52a8\u5177\u6709\u4f7f\u5176\u5408\u4e4e\u60c5\u7406\u6216\u4f7f\u5176\u78e8\u706d\u65e0\u6548\u7684\u540e\u679c\u3002\u4e00\u79cd\u6d78\u900f\u4e86\u8352\u8bde\u7684\u7cbe\u795e\u53ea\u662f\u5224\u65ad\u8fd9\u4e9b\u7ed3\u679c\u5e94\u8be5\u88ab\u5fc3\u5e73\u6c14\u548c\u5730\u52a0\u4ee5\u4f30\u91cf\u3002\u5b83\u968f\u65f6\u51c6\u5907\u4ed8\u51fa\u4ee3\u4ef7\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5bf9\u5b83\u6765\u8bf4\uff0c\u53ea\u6709\u8d1f\u8d23\uff0c\u6ca1\u6709\u72af\u7f6a\u3002</p> <pre><code>\u8d1f\u8d23\u8868\u793a\u505a\u67d0\u4e8b\u4ee5\u540e\u5373\u627f\u62c5\u5176\u540e\u679c\uff1b\u800c\u72af\u7f6a\u8574\u542b\u7740\u4ef7\u503c\u7684\u5224\u65ad\uff0c\u201c\u6211\u4e0d\u5e94\u8be5\u505a\u8fd9\u4e2a\u4e8b\u60c5\u3002\u201d\u4f46\u662f\u5bf9\u8352\u8bde\u7684\u4eba\u6765\u8bf4\uff0c\u4ed6\u4eec\u629b\u5f03\u4e86\u4ef7\u503c\u53d6\u5411\uff0c\u4ed6\u4eec\u4ec5\u4ec5\u662f\u63a5\u53d7\u6240\u505a\u4e8b\u5bfc\u81f4\u7684\u540e\u679c\u7684\u4e8b\u5b9e\u3002\n</code></pre>"},{"location":"wen/sisyphe/#_8","title":"\u5510\u749c","text":"<p>\u770b\u8352\u8bde\u7684\u4eba\u7684\u7231\u60c5\uff1a</p> <p>\u4ed6\u56e0\u6b64\u5c31\u662f\u81ea\u79c1\u7684\u5417\uff1f\u4ed6\u65e0\u7591\u662f\u4e2a\u72ec\u7279\u7684\u5229\u5df1\u4e3b\u4e49\u8005\u3002\u4f46\u662f\uff0c\u95ee\u9898\u4ecd\u5728\u4e8e\u7406\u89e3\u3002\u6709\u4e9b\u4eba\u751f\u6765\u5c31\u662f\u4e3a\u4e86\u6d3b\u7684\uff0c\u6709\u4e9b\u4eba\u751f\u6765\u5c31\u662f\u4e3a\u4e86\u7231\u7684\u3002\u5510\u749c\u81f3\u5c11\u613f\u610f\u8bf4\u51fa\u6765\u3002\u4f46\u662f\uff0c\u4ed6\u8bf4\u5f97\u7b80\u7565\uff0c\u4ed6\u53ef\u4ee5\u8fdb\u884c\u9009\u62e9\u3002\u56e0\u4e3a\u4eba\u4eec\u8fd9\u91cc\u8bf4\u7684\u7231\u60c5\u662f\u7531\u5bf9\u6c38\u6052\u7684\u5e7b\u60f3\u88c5\u9970\u8d77\u6765\u7684\u3002\u6fc0\u60c5\u7684\u6240\u6709\u4e13\u5bb6\u90fd\u544a\u8bc9\u6211\u4eec\uff0c\u53ea\u6709\u4e0d\u6109\u5feb\u7684\u6c38\u6052\u7231\u60c5\u3002\u51e0\u4e4e\u6ca1\u6709\u4e0d\u5305\u542b\u6597\u4e89\u7684\u6fc0\u60c5\u3002\u4e00\u79cd\u8fd9\u6837\u7684\u7231\u60c5\u53ea\u6709\u5728\u6b7b\u4ea1\u8fd9\u6700\u540e\u7684\u77db\u76fe\u4e2d\u624d\u4f1a\u7ed3\u675f\u3002\u8981\u4e48\u662f\u7ef4\u7279\uff0c\u8981\u4e48\u4ec0\u4e48\u4e5f\u4e0d\u662f\u3002\u8fd9\u91cc\u4e5f\u6709\u597d\u51e0\u79cd\u81ea\u6740\u7684\u65b9\u5f0f\uff0c\u5176\u4e2d\u4e4b\u4e00\u662f\u5b8c\u5168\u7684\u732e\u8eab\u548c\u5bf9\u81ea\u8eab\u7684\u9057\u5fd8\u3002\u5510\u749c\u50cf\u53e6\u4e00\u4e2a\u4eba\u4e00\u6837\uff0c\u77e5\u9053\u8fd9\u53ef\u4ee5\u662f\u5f88\u52a8\u4eba\u7684\u3002\u4f46\u662f\uff0c\u4ed6\u662f\u5c11\u6570\u4eba\u4e4b\u4e00\uff0c\u4ed6\u4eec\u77e5\u9053\u90a3\u5e76\u4e0d\u91cd\u8981\u3002\u4ed6\u77e5\u9053\u5f97\u540c\u6837\u6e05\u695a\uff1a\u88ab\u4e00\u79cd\u4f1f\u5927\u7684\u7231\u60c5\u5f15\u52a8\u5f97\u8131\u79bb\u4e2a\u4eba\u7684\u5168\u90e8\u751f\u6d3b\u7684\u4eba\u4e5f\u8bb8\u4f1a\u53d8\u5f97\u4e30\u5bcc\u8d77\u6765\uff0c\u4f46\u662f\uff0c\u4ed6\u4eec\u7684\u7231\u60c5\u9002\u4e2d\u7684\u90a3\u4e9b\u4eba\u80af\u5b9a\u8981\u53d8\u5f97\u8d2b\u4e4f\u3002\u4e00\u4f4d\u6bcd\u4eb2\uff0c\u4e00\u4e2a\u70ed\u60c5\u7684\u5973\u4eba\uff0c\u5fc5\u7136\u6709\u4e00\u9897\u5e72\u67af\u7684\u5fc3\uff0c\u56e0\u4e3a\u8fd9\u9897\u5fc3\u8131\u79bb\u4e86\u4e16\u754c\u3002\u53ea\u6709\u4e00\u79cd\u611f\u60c5\u3001\u4e00\u4e2a\u4eba\u3001\u4e00\u5f20\u9762\u5b54\uff0c\u4f46\u4e00\u5207\u90fd\u5df2\u88ab\u541e\u566c\u3002\u9707\u52a8\u4e86\u5510\u749c\u7684\u662f\u53e6\u4e00\u79cd\u7231\u60c5\uff0c\u8fd9\u79cd\u7231\u60c5\u662f\u89e3\u653e\u8005\u3002\u5b83\u968f\u8eab\u5e26\u6765\u4e86\u4e16\u754c\u4e0a\u7684\u6240\u6709\u9762\u5b54\uff0c\u5b83\u7684\u98a4\u6296\u6765\u81ea\u4e8e\u5b83\u77e5\u9053\u81ea\u5df1\u662f\u53ef\u4ee5\u6d88\u4ea1\u7684\u3002\u5510\u749c\u9009\u62e9\u4e86\u6210\u4e3a\u65e0\u3002</p> <p>\u5bf9\u4ed6\u6765\u8bf4\uff0c\u95ee\u9898\u5728\u4e8e\u770b\u5f97\u6e05\u695a\u3002\u6211\u4eec\u53ea\u662f\u8003\u8651\u5230\u4e00\u79cd\u6765\u81ea\u4e66\u672c\u548c\u4f20\u8bf4\u7684\u96c6\u4f53\u7684\u770b\u4e8b\u7269\u7684\u65b9\u5f0f\u65f6\uff0c\u624d\u628a\u90a3\u79cd\u628a\u6211\u4eec\u4e0e\u4e00\u4e2a\u4eba\u8054\u7cfb\u5728\u4e00\u8d77\u7684\u4e1c\u897f\u53eb\u505a\u7231\u60c5\u3002\u7136\u800c\uff0c\u5173\u4e8e\u7231\u60c5\uff0c\u6211\u53ea\u77e5\u9053\u90a3\u79cd\u6b32\u671b\u3001\u6e29\u60c5\u548c\u667a\u529b\u7684\u6df7\u5408\uff0c\u8fd9\u79cd\u6df7\u5408\u628a\u6211\u540c\u53e6\u4e00\u4e2a\u4eba\u8054\u7cfb\u5728\u4e00\u8d77\u3002\u5b83\u53c8\u56e0\u4eba\u800c\u5f02\u3002\u6211\u6ca1\u6709\u6743\u5229\u7528\u540c\u4e00\u4e2a\u540d\u79f0\u79f0\u547c\u6240\u6709\u8fd9\u4e9b\u7ecf\u9a8c\u3002\u8fd9\u4f7f\u4eba\u4eec\u4e0d\u5fc5\u4ece\u540c\u6837\u7684\u884c\u4e3a\u4e2d\u5f97\u5230\u8fd9\u4e9b\u7ecf\u9a8c\u3002\u8352\u8bde\u7684\u4eba\u5728\u8fd9\u91cc\u66f4\u589e\u52a0\u4e86\u4ed6\u4e0d\u80fd\u591f\u7edf\u4e00\u7684\u4e1c\u897f\u3002\u8fd9\u6837\u4ed6\u5c31\u53d1\u73b0\u4e86\u4e00\u79cd\u65b0\u7684\u5b58\u5728\u65b9\u5f0f\uff0c\u8fd9\u79cd\u5b58\u5728\u65b9\u5f0f\u81f3\u5c11\u50cf\u89e3\u653e\u4e86\u63a5\u8fd1\u4ed6\u7684\u90a3\u4e9b\u4eba\u4e00\u6837\u5730\u4e5f\u89e3\u653e\u4e86\u4ed6\u3002\u552f\u6709\u90a3\u79cd\u77e5\u9053\u81ea\u5df1\u65e2\u662f\u6682\u65f6\u7684\u53c8\u662f\u72ec\u7279\u7684\u7231\u60c5\u624d\u662f\u6177\u6168\u7684\u7231\u60c5\u3002\u5bf9\u4e8e\u5510\u749c\u6765\u8bf4\uff0c\u5168\u90e8\u8fd9\u4e9b\u6b7b\u4ea1\u548c\u8fd9\u4e9b\u518d\u751f\u9020\u5c31\u4e86\u4ed6\u7684\u5168\u90e8\u751f\u547d\u3002\u8fd9\u662f\u4ed6\u7684\u5949\u732e\u4ee5\u53ca\u4f7f\u751f\u547d\u6d3b\u8dc3\u8d77\u6765\u7684\u65b9\u5f0f\u3002\u6211\u8ba9\u522b\u4eba\u53bb\u5224\u65ad\u8fd9\u662f\u5426\u8c08\u5f97\u4e0a\u5229\u5df1\u3002</p>"}]}